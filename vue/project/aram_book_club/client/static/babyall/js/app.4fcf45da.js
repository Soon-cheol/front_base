(function(e){function t(t){for(var a,r,s=t[0],c=t[1],l=t[2],m=0,h=[];m<s.length;m++)r=s[m],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&h.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(h.length)h.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(a=!1)}a&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},i={app:0},o=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"009c":function(e,t,n){"use strict";n("26ae")},"0131":function(e,t,n){},"04cd":function(e,t,n){"use strict";n("7f97")},"05ca":function(e,t,n){},"066a":function(e,t,n){"use strict";n("cadf")},"0708":function(e,t,n){"use strict";n("0eef")},"086b":function(e,t,n){"use strict";n("4ad5")},"0883":function(e,t,n){"use strict";n("12d3")},"08f6":function(e,t,n){},"094e":function(e,t,n){},"098b":function(e,t,n){},"09b5":function(e,t,n){"use strict";n("25e5")},"0ab8":function(e,t,n){},"0b47":function(e,t,n){},"0ba2":function(e,t,n){"use strict";n("4e82")},"0c84":function(e,t,n){"use strict";n("cd16")},"0ec3":function(e,t,n){},"0eef":function(e,t,n){},1:function(e,t){},"12d3":function(e,t,n){},1442:function(e,t,n){},1810:function(e,t,n){"use strict";n("266a")},1915:function(e,t,n){"use strict";n("25a6")},"1a21":function(e,t,n){"use strict";n("0b47")},"1a7e":function(e,t,n){},"1c36":function(e,t,n){},"1c85":function(e,t,n){},2:function(e,t){},2089:function(e,t,n){},"21fc":function(e,t,n){},"23c3":function(e,t,n){"use strict";n("541d")},"23e5":function(e,t,n){"use strict";n("dd7c")},"25a6":function(e,t,n){},"25e5":function(e,t,n){},"263e":function(e,t,n){"use strict";n("9dae")},"266a":function(e,t,n){},"26ae":function(e,t,n){},"28c5":function(e,t,n){},"2a0b":function(e,t,n){"use strict";n("fd1e")},"2d3e":function(e,t,n){"use strict";n("d2ff")},"2d80":function(e,t,n){"use strict";n("35b7")},"303c":function(e,t,n){"use strict";n("6fb3")},"304c":function(e,t,n){},"30c8":function(e,t,n){"use strict";n("acdc")},"342e":function(e,t,n){"use strict";n("cd19")},"35b7":function(e,t,n){},"36b11":function(e,t,n){"use strict";n("d06e")},3976:function(e,t,n){"use strict";n("40df")},"3cb6":function(e,t,n){"use strict";n("cebe")},"3cc6":function(e,t,n){"use strict";n("7949")},"3eed":function(e,t,n){"use strict";n("304c")},"3f53":function(e,t,n){"use strict";n("1c85")},4011:function(e,t,n){},"40df":function(e,t,n){},"41a7":function(e,t,n){"use strict";n("c6c0")},"42f5":function(e,t,n){"use strict";n("532f")},"43e5":function(e,t,n){},"45a8":function(e,t,n){"use strict";n("1a7e")},"463c":function(e,t,n){"use strict";n("eded")},"46d4":function(e,t,n){"use strict";n("49f8")},4948:function(e,t,n){"use strict";n("9c6c")},"49f8":function(e,t,n){},"4ad5":function(e,t,n){},"4d6c":function(e,t,n){},"4e82":function(e,t,n){},"4eee":function(e,t,n){},"4f17":function(e,t,n){},"532f":function(e,t,n){},"541d":function(e,t,n){},"55b1":function(e,t,n){"use strict";n("5785")},5785:function(e,t,n){},"58ca":function(e,t,n){"use strict";n("9623")},"5b11":function(e,t,n){"use strict";n("a2aa")},"5d6c":function(e,t,n){"use strict";n("a39e")},"5ed2":function(e,t,n){},"60fd":function(e,t,n){},"63c8":function(e,t,n){"use strict";n("a629")},"63cd":function(e,t,n){"use strict";n("08f6")},"63f3":function(e,t,n){"use strict";n("e2e0")},6400:function(e,t,n){"use strict";n("4011")},6436:function(e,t,n){},"65ad":function(e,t,n){"use strict";n("b25d")},"67b3":function(e,t,n){"use strict";n("8d6e")},"693a":function(e,t,n){"use strict";n("2089")},"6a40":function(e,t,n){},"6fb3":function(e,t,n){},"70d4":function(e,t,n){"use strict";n("e431")},7329:function(e,t,n){},7471:function(e,t,n){"use strict";n("6a40")},7493:function(e,t,n){"use strict";n("87a4")},7591:function(e,t,n){},7949:function(e,t,n){},"7d09":function(e,t,n){"use strict";n("9477")},"7f97":function(e,t,n){},"80ed":function(e,t,n){"use strict";n("8b06")},"81be":function(e,t,n){"use strict";n("28c5")},"82fe":function(e,t,n){},"83e2":function(e,t,n){"use strict";n("e157")},8606:function(e,t,n){"use strict";n("bf2f")},"87a4":function(e,t,n){},"8ac1":function(e,t,n){"use strict";n("90aa")},"8b06":function(e,t,n){},"8d6e":function(e,t,n){},"8f7d":function(e,t,n){"use strict";n("a7bd")},"90aa":function(e,t,n){},9477:function(e,t,n){},9490:function(e,t,n){},"95fb":function(e,t,n){"use strict";n("e3db6")},9623:function(e,t,n){},9686:function(e,t,n){"use strict";n("f7ab")},"98da":function(e,t,n){},"9c6c":function(e,t,n){},"9c90":function(e,t,n){"use strict";n("5ed2")},"9d44":function(e,t,n){"use strict";n("1c36")},"9dae":function(e,t,n){},"9eb9":function(e,t,n){"use strict";n("4eee")},"9eed":function(e,t,n){"use strict";n("ee3e")},"9f1d":function(e,t,n){"use strict";n("fe42")},a0aa:function(e,t,n){"use strict";n("98da")},a2aa:function(e,t,n){},a39e:function(e,t,n){},a4a1:function(e,t,n){"use strict";n("1442")},a629:function(e,t,n){},a7bd:function(e,t,n){},a881:function(e,t,n){},aa53:function(e,t,n){},acdc:function(e,t,n){},af83:function(e,t,n){"use strict";n("7329")},b0b3:function(e,t,n){},b109:function(e,t,n){"use strict";n("6436")},b25d:function(e,t,n){},b286:function(e,t,n){"use strict";n("a881")},b2c4:function(e,t,n){},b975:function(e,t,n){},b9e6:function(e,t,n){"use strict";n("82fe")},bf2f:function(e,t,n){},c559:function(e,t,n){"use strict";n("d657")},c569:function(e,t,n){"use strict";n("9490")},c5dd:function(e,t,n){},c63d:function(e,t,n){"use strict";n("0ec3")},c6c0:function(e,t,n){},c6ee:function(e,t,n){"use strict";n("c5dd")},c76f:function(e,t,n){"use strict";n("aa53")},c8c2:function(e,t,n){"use strict";n("7591")},ca00:function(e,t,n){"use strict";n("f153")},cadf:function(e,t,n){},cb28:function(e,t,n){"use strict";n("b2c4")},cd16:function(e,t,n){},cd19:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"isIOS",(function(){return A})),n.d(a,"isMobilePlatform",(function(){return M})),n.d(a,"checkVersion",(function(){return G})),n.d(a,"getPlatform",(function(){return E})),n.d(a,"scrollLock",(function(){return X})),n.d(a,"isFullscreen",(function(){return H})),n.d(a,"setFullScreenMode",(function(){return z}));var i={};n.r(i),n.d(i,"genColorMap",(function(){return Ra})),n.d(i,"getColorByPoint",(function(){return ja})),n.d(i,"getCropSize",(function(){return Da})),n.d(i,"shuffleArray",(function(){return Ta}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app",attrs:{id:"app"},on:{pointerdown:e._goFullscreen}},[e.mBrowserCheck?n("BrowserCheck",{on:{IosPopClose:e.IosPopClose}}):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isShowActivityPlayer&&!e.isShowTubePlayer,expression:"!isShowActivityPlayer && !isShowTubePlayer"}],ref:"app",staticClass:"app-case"},[n(e.currentPage,{tag:"component"}),n("Popup"),n("LoginErrorCheck")],1),e.isShowActivityPlayer?n("div",{staticClass:"wrap"},[n("ActivityPlayer",{staticClass:"activityViewPC",attrs:{category:e.mCurrentCategory,level:e.currentLevel,alphabet:e.mCurrentSymbol,bookID:e.mCurrentBookID,activitySB:this.mCurrentActivitySB,isMobileMode:e.mIsMobileMode},on:{onClose:e._closeActivityView}})],1):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowTubePlayer,expression:"isShowTubePlayer"}],ref:"videoCase",staticStyle:{display:"flex","flex-direction":"row","justify-content":"center","align-items":"center",width:"100%",height:"100%","background-color":"#000",position:"fixed"}})],1)},s=[],c=(n("d3b7"),n("96cf"),n("1da1")),l=n("d4ec"),u=n("bee2"),m=n("262e"),h=n("2caf"),d=n("9ab4"),p=n("60a3"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ConnectPage"},[e.isLoading?n("Loading"):e._e(),e._m(0)],1)},g=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"comment"},[e._v("자녀정보를 가져오는 중입니다."),n("br"),e._v(" 잠시만 기다려주세요.")])}],v=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},b=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loading"},[n("div",{staticClass:"lds-ring"},[n("div"),n("div"),n("div"),n("div")])])}],y=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return n}(p["c"]);y=Object(d["a"])([Object(p["a"])({})],y);var C=y,k=C,S=(n("693a"),n("2877")),w=Object(S["a"])(k,v,b,!1,null,"66aa1b42",null),_=w.exports,x=(n("99af"),n("b85c")),I=n("6fc5"),O=n("2f62");o["a"].use(O["a"]);var P=new O["a"].Store({}),R=n("3d20"),j=n.n(R),D=n("bc3a"),T=n.n(D),B=(n("a15b"),n("d81d"),n("fb6a"),n("ac1f"),n("25f0"),n("5319"),n("1276"),n("c975"),n("45fc"),n("466d"),!1),L={devMode:B,restAPIProd:B?"https://dev-api.arambookclub.com":"https://api.arambookclub.com",packageURL:"https://contents.arambookclub.com/contents",excuteMode:"main",platform:"",platformText:"",bookList:{step1:[1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1012,1013,1014,1015,1016,1017,1018,1019,1020],step2:[2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016]},storyBookList:{category:["Movie","Catch","Touch","Match","Finder","Quiz","MakingBook"],label:["Story Movie","Story Catch","Listening Touch","Reading Match","Spot Finder","Story Quiz","MakingBook"]},babyTubeList:{category:["1001_body_bed720p.mp4","1002_family_daddy720p.mp4","1003_song_solo720p.mp4","1004_furniture_play720p.mp4","1005_clothes_daddy720p.mp4","1006_song_solo720p.mp4"],label:["BabyTime Story","Daddy`s Story","PlayTime Story","BabyAll Song","BabyTime Story","BabyTime Story"]},alphabetList:{category:["Catch","Match","Touch","block","Quiz"],label:["Alphabet Catch","Alphabet Match","Alphabet Touch","Alphabet block","Alphabet Quiz"]}};function A(){var e=[/Macintosh/i,/iPhone/i,/iPad/i,/iPod/i];return e.some((function(e){return navigator.userAgent.match(e)}))}function M(){var e=[/Android/i,/webOS/i,/Macintosh/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i];return e.some((function(e){return navigator.userAgent.match(e)}))}function G(){if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),t=[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)];return t}}function E(){var e=navigator.userAgent.toLowerCase();if("Netscape"==navigator.appName&&-1!=e.indexOf("trident"))return L.platform="IE",L.platformText='\n            Internet Explorer는 아람스마트북의 일부기능을 지원하지 않습니다.<br/>\n            <span style="display:block; margin:2rem 0 ; color: red;" > \n                아람북클럽은 크롬 브라우저에 최적화 되어 있습니다.\n            </span>\n        ',!1;if(-1!=navigator.appVersion.indexOf("Android")){var t=navigator.appVersion,n=parseFloat(t.slice(t.indexOf("Android")+8));if(n<=4)return L.platform="Android",L.platformText='\n                아람 스마트북은 Android 5.0 이상에서 이용 가능합니다.<br/>\n                <span style="display:block; margin:2rem 0 ; "> \n                Android 업데이트 후 사용 바랍니다.\n                </span>\n            ',!1}if(A()){var a=navigator.appVersion,i=parseFloat(a.slice(a.indexOf("Version")+8));return i<=12?(L.platform="IOS",L.platformText='\n                iOS 및 iPad OS 12 이하에서는 아람스마트북의 <br/>\n                일부기능이 작동하지 않을 수 있습니다.\n                <span style="display:block; margin:2rem 0; color:red; "> \n                iPhone 6s 이상 모델에서 이용 권장드립니다.\n                </span>\n            ',!1):13!=i||(L.platform="IOS",L.platformText='\n                일부 기능이 정상적으로 작동하지 않을 수 있습니다. <br/>\n                iOS 및 iPad OS 버전을 최신화 해주세요.\n                <span style="display:block; margin:2rem 0; color:red; "> \n                14.3 이상에 최적화 되어 있습니다.\n                </span>\n            ',!1)}return!0}function X(e,t){M()&&screen.orientation.lock&&screen.orientation.lock(e).then((function(){t&&t()})).catch((function(e){console.error(e)}))}function H(){return!1}function z(e,t){if(M())if(1==e){var n={navigationUI:"hide"};if(1==H())return;document.documentElement.requestFullscreen?document.documentElement.requestFullscreen(n).then((function(){})):document.documentElement["webkitRequestFullscreen"]?document.documentElement["webkitRequestFullscreen"](n).then(t):document.documentElement["mozRequestFullScreen"]?document.documentElement["mozRequestFullScreen"](n).then(t):document.documentElement["msRequestFullscreen"]&&document.documentElement["msRequestFullscreen"](n).then(t)}else{if(!H())return;var a=document["exitFullscreen"]||document["mozCancelFullScreen"]||document["webkitExitFullscreen"]||document["msExitFullscreen"];a.call(document).then((function(){t&&t()}))}else console.warn(" This Device is not mobile")}function F(e){var t=e.split(".")[1],n=t.replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(n).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(a)}function V(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var W,Q,N={Platform:a,Config:L,parseJwt:F,numberWithCommas:V};(function(e){e["free"]="LM02",e["step"]="LM01"})(W||(W={})),function(e){e["easy"]="LC01",e["normal"]="LC02",e["hard"]="LC03"}(Q||(Q={}));var $={user:{res:"/learning/child/birthday"},home:{settings:{req:"/learning/child/settings",res:"/learning/child/settings"},recent:{req:"/learning/child/recent"}},myRoom:{badge:{req:"/learning/child/myroom/badge"},makingbook:{req:"/learning/child/myroom/makingbook"},myPet:{req:"/learning/child/myroom/album"}},myPet:{recieved:{req:"/learning/child/mypet"},screenShot:{req:"/learning/child/mypet/screenshot"}},storybooks:{finishList:{req:"/learning/child/storybook"},getFinishInfo:{req:"/learning/child/storybook/"},endActivity:{req:"/learning/child/storybook"},makingBookScreenShot:{req:"/learning/child/storybook/screenshot"}},alphabet:{finishList:{req:"/learning/child/alphabet"},endActivity:{req:"/learning/child/alphabet"}},babytube:{contentsList:{req:"/babytube/getContentsList"},favorites:{req:"/babytube/setFavorite"},finish:{req:"/babytube/complete"}},parent:{movie:{req:"/learning/parents/usablevideo"},favorites:{req:"/learning/parents/usablevideo/favorite"},slotdata:{req:"/learning/parents/report/slots"},summary:{req:"/learning/parents/report/summary"},detailSB:{req:"/learning/parents/report/storybook"},detailAL:{req:"/learning/parents/report/alphabet"},chargeAcorn:{req:"/learning/parents/charge/acorn"},resetTime:{req:"/learning/parents/reset/time"},updateRemainTime:{req:"/learning/child/time/remained"},updatePlayTime:{req:"/learning/child/time/learned"}},babyall:{howto:{info:{res:"/learning/child/babyall/learned/activity"}}}},q={lrngChoLvlCd:Q.easy,lrngModeCd:W.free,playPosbTime:0,isNonLimitToPlay:!1},U={storybookInfo:{bookID:1001,bookTitle:"1-1",currentAcvt:"movie",cpltAcvtCnt:0},alphabetInfo:{symbol:"A"},mypetInfo:{recievedPet:!1},userInfo:{acornCnt:120,childNm:"테스트",profileUrl:"img/user-thumb.png",birthDay:"20161222",cpltBookCnt:5,playPosbTime:30,lrngModeCd:W.free,lrngChoLvlCd:Q.easy}},Y={a:{isLocked:!1},b:{isLocked:!1},c:{isLocked:!1},d:{isLocked:!1},e:{isLocked:!1},f:{isLocked:!1},g:{isLocked:!1},h:{isLocked:!1},i:{isLocked:!1},j:{isLocked:!1},k:{isLocked:!1},l:{isLocked:!1},m:{isLocked:!1},n:{isLocked:!0},o:{isLocked:!0},p:{isLocked:!0},q:{isLocked:!0},r:{isLocked:!0},s:{isLocked:!0},t:{isLocked:!0},u:{isLocked:!0},v:{isLocked:!0},w:{isLocked:!0},x:{isLocked:!0},y:{isLocked:!0},z:{isLocked:!0}},K={1001:{rcvdBadgeLv1Date:"2020.01.01",rcvdBadgeLv2Date:null,rcvdBadgeLv3Date:null},1002:null,1003:null,1004:null,1005:null,1006:null,1007:null,1008:null,1009:null,1010:null,1011:null,1012:null,1013:null,1014:null,1015:null,1016:null,1017:null,1018:null,1019:null,1020:null,2001:null,2002:null,2003:null,2004:null,2005:null,2006:null,2007:null,2008:null,2009:null,2010:null,2011:null,2012:null,2013:null,2014:null,2015:null,2016:null},J={},Z={storybook:{existNew:!1,lv1:[],lv2:[],lv3:[]},alphabet:{existNew:!1,lv1:[],lv2:[],lv3:[]}},ee={lrngTime:0,avgLrngTime:0,lrngActTcnt:0,acornCnt:0,lrngWrdEcnt:0,lrngXprsEcnt:0,lrngAcvtEcnt:0,lrngQstPrcsEcnt:0,mdaLsngTcnt:0,mdaPtkEcnt:[0,0],sttcByLvl:{lv1:null,lv2:null,lv3:null}},te={sttcCreDate:"",childAge:0,childNm:"--",cpltBookList:[],asesByArea:[{acvtMsmtNm:"어휘",acvtMsmtScore:0,acvtMsmtAvgScore:0},{acvtMsmtNm:"듣기",acvtMsmtScore:0,acvtMsmtAvgScore:0},{acvtMsmtNm:"읽기",acvtMsmtScore:0,acvtMsmtAvgScore:0},{acvtMsmtNm:"말하기",acvtMsmtScore:0,acvtMsmtAvgScore:0}],AM009:{avgScore:0,AM009001:{msmtScore:0,asesCtt:"어휘 영역 / 철자 설명."},AM009002:{msmtScore:0,asesCtt:"어휘 영역 / 음절 설명."}},AM010:{avgScore:0,AM010001:{msmtScore:0,asesCtt:"듣기 영역 / 소리와 의미연결 설명."},AM010002:{msmtScore:0,asesCtt:"듣기 영역 / 이해력 설명."}},AM011:{avgScore:0,AM011001:{msmtScore:0,asesCtt:"읽기 영역 / 문자 인지 설명."},AM011002:{msmtScore:0,asesCtt:"읽기 영역 / 이해력 설명."}},AM012:{avgScore:0,AM012001:{msmtScore:0,asesCtt:"말하기 영역 / 맥락 이래 설명."},AM012002:{msmtScore:0,asesCtt:"말하기 영역 / 대화 설명."}},dtlAsesInfo:[{bookID:1001,bookTitle:"1-1 Body",progressRate:[20,30,25,25],progressValue:[20,30,25,25],total:{score:30.24,grade:"C"},cntntUndstdg:60,quizCorrectRate:38,lrngWords:["feet","arms"]},{bookID:1002,bookTitle:"1-2 나도몰라",progressRate:[10,40,20,30],progressValue:[20,30,25,25],total:{score:0,grade:"A"},cntntUndstdg:60,quizCorrectRate:38,lrngWords:[]},{bookID:1003,bookTitle:"1-3 이거도",progressRate:[5,20,50,25],progressValue:[20,30,25,25],total:{score:0,grade:"B"},cntntUndstdg:60,quizCorrectRate:38,lrngWords:[]},{bookID:1004,bookTitle:"1-4 흠..",progressRate:[0,0,0,0],progressValue:[20,30,25,25],total:{score:0,grade:"C"},cntntUndstdg:60,quizCorrectRate:38,lrngWords:[]}],xpndIntllctlTalent:{AM013001:{asesCtt:"확장이해 설명",score:[10,20,30,40]},AM014001:{asesCtt:"객체 조립 설명",score:[20,30,40,50]},AM015001:{asesCtt:"정보 파악 설명",score:[30,40,50,60]}}},ne={sttcCreDate:"",childAge:0,childNm:"--",alphabetStep:0,asesByArea:[{acvtMsmtNm:"대표단어",acvtMsmtScore:10,acvtMsmtAvgScore:50},{acvtMsmtNm:"글자",acvtMsmtScore:20,acvtMsmtAvgScore:50},{acvtMsmtNm:"평균",acvtMsmtScore:30,acvtMsmtAvgScore:50},{acvtMsmtNm:"쓰기",acvtMsmtScore:40,acvtMsmtAvgScore:50}],AM001:{avgScore:10,progressRate:[10,90],AM001001:{msmtScore:10,asesCtt:"모양 인지 평가."},AM001002:{msmtScore:20,asesCtt:"대소문자 구분  평가."},total:{score:10,grade:"A",notCompleted:["a"]}},AM002:{avgScore:20,progressRate:[20,80],AM002001:{msmtScore:30,asesCtt:"소리와 글자연결 평가."},AM002002:{msmtScore:40,asesCtt:"글자와 소리 연결 평가."},total:{score:20,grade:"B",notCompleted:["a","b"]}},AM003:{avgScore:30,progressRate:[30,70],AM003001:{msmtScore:50,asesCtt:"대문자 쓰기 이해 평가."},AM003002:{msmtScore:60,asesCtt:"소문자 쓰기 이해 평가."},total:{score:30,grade:"C",notCompleted:["a","b","c"]}},AM004:{avgScore:40,progressRate:[40,60],AM004001:{msmtScore:70,asesCtt:"대표 단어 글자인지 평가."},AM004002:{msmtScore:80,asesCtt:"대표 단어 의미 이해 평가."},total:{score:40,grade:"D",notCompleted:["a","b","c","d"]}},xpndIntllctlTalent:{AM005001:{asesCtt:"정보이해 설명",msmtScore:10,avgScore:80},AM006001:{asesCtt:"객체조립 설명",msmtScore:20,avgScore:80},AM007001:{asesCtt:"공통성파악 설명",msmtScore:30,avgScore:80},AM008001:{asesCtt:"수용어휘 설명",msmtScore:40,avgScore:80}}},ae={childSetting:q,alphabetSaveData:Y,homeData:U,badgeData:K,storybookFinishInfo:J,parentActReportSlotData:Z,parentActSummaryReport:ee,parentDetailSB:te,parentDetailAL:ne},ie=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mJWTToken="",e.mLoginErrCheck=!1,e.mDemoEnable=!0,e.mCurrentPage="ConnectPage",e.mPopup=null,e.mElapsedSec=0,e.mIsTimerActive=!0,e.mTimerIntervalID=-1,e}return Object(u["a"])(n,[{key:"SET_JWTTOKEN",value:function(e){this.mJWTToken=e}},{key:"setLoginError",value:function(e){this.mLoginErrCheck=e}},{key:"SET_DEMO_ENABLE",value:function(e){this.mDemoEnable=e}},{key:"SET_CURRENT_PAGE",value:function(e){this.mCurrentPage=e}},{key:"setCurrentPage",value:function(e){this.SET_CURRENT_PAGE(e)}},{key:"init",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!=localStorage.getItem("token")&&this.SET_JWTTOKEN(localStorage.getItem("token")),""!=this.token&&(T.a.defaults.headers.common["Authorization"]="Bearer ".concat(this.token),this.startTimer()),0!=this.isDemoMode){e.next=7;break}return e.next=5,ue.getHowToData();case 5:e.next=8;break;case 7:(null==localStorage.getItem("trlvrsnDays")||"true"!=localStorage.getItem("trlvrsnDays"))&&this.SET_DEMO_ENABLE(!1);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setPopup",value:function(e){this.mPopup=e}},{key:"stopTimer",value:function(){-1!=this.mTimerIntervalID&&(clearInterval(this.mTimerIntervalID),this.mTimerIntervalID=-1)}},{key:"resetTimer",value:function(){this.mElapsedSec=0}},{key:"pauseTimer",value:function(e){this.mIsTimerActive=e}},{key:"startTimer",value:function(){var e=this;console.log("%cstartTimer","color:#F00; font-size: 15px; font-weight:bold"),this.mIsTimerActive=!0,-1==this.mTimerIntervalID&&(this.mTimerIntervalID=setInterval((function(){1==e.mIsTimerActive&&(e.mElapsedSec+=1)}),1e3))}},{key:"token",get:function(){return this.mJWTToken}},{key:"loginError",get:function(){return this.mLoginErrCheck}},{key:"isDemoMode",get:function(){return""===this.token}},{key:"isDemoEnable",get:function(){return this.mDemoEnable}},{key:"currentPage",get:function(){return this.mCurrentPage}},{key:"popup",get:function(){return this.mPopup}},{key:"elapsedSec",get:function(){return this.mElapsedSec}}]),n}(I["d"]);Object(d["a"])([I["c"]],ie.prototype,"SET_JWTTOKEN",null),Object(d["a"])([I["c"]],ie.prototype,"setLoginError",null),Object(d["a"])([I["c"]],ie.prototype,"SET_DEMO_ENABLE",null),Object(d["a"])([I["c"]],ie.prototype,"SET_CURRENT_PAGE",null),Object(d["a"])([I["a"]],ie.prototype,"setCurrentPage",null),Object(d["a"])([I["a"]],ie.prototype,"init",null),Object(d["a"])([I["c"]],ie.prototype,"setPopup",null),Object(d["a"])([I["c"]],ie.prototype,"stopTimer",null),Object(d["a"])([I["c"]],ie.prototype,"resetTimer",null),Object(d["a"])([I["c"]],ie.prototype,"pauseTimer",null),Object(d["a"])([I["c"]],ie.prototype,"startTimer",null),ie=Object(d["a"])([Object(I["b"])({namespaced:!0,name:"system",dynamic:!0,store:P})],ie);var oe,re=Object(I["e"])(ie);T.a.interceptors.response.use((function(e){return 1==e.data.ok&&void 0!=e.data.errCode&&-100==e.data.errCode&&re.setLoginError(!0),e}),(function(e){return Promise.reject(e)})),function(e){e[e["None"]=0]="None",e[e["LoopOne"]=1]="LoopOne",e[e["LoopAll"]=2]="LoopAll"}(oe||(oe={}));var se=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mThumbPath="".concat(L.packageURL,"/bookcover"),e.mMoviePath="".concat(L.packageURL,"/momanddaddy/movie"),e.mCurrentItemData=null,e.mPlayMode=oe.None,e.mParentMovieList=[],e.mActSlotReport=null,e.mActSummaryReport=null,e.mDetailReportSB=null,e.mDetailReportAL=null,e}return Object(u["a"])(n,[{key:"SET_CURRENT_ITEM",value:function(e){null!==this.mCurrentItemData&&(this.mCurrentItemData.selected=!1),this.mCurrentItemData=e,e&&(e.selected=!0)}},{key:"SET_PLAYMODE",value:function(e){this.mPlayMode=e}},{key:"SET_PARENT_MOVIELIST",value:function(e){this.mParentMovieList=e}},{key:"requestParentMovieList",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("requestParentMovieList"),e.prev=1,e.next=4,T.a.post("".concat(N.Config.restAPIProd).concat($.parent.movie.req),{filter:t});case 4:if(n=e.sent,1==n.data.ok){console.log(n.data),a=[],i=Object(x["a"])(n.data.infolist);try{for(i.s();!(o=i.n()).done;)r=o.value,a.push({subject:r.subject,titleColor:r.titleColor,thumb:"".concat(this.mThumbPath,"/").concat(r.thumb),movie:"".concat(this.mMoviePath,"/").concat(r.movie,"/").concat(r.movie,".mpd"),movieLength:r.movieLength,favoriteFlag:r.favoriteFlag,dtlBookSeqno:r.dtlBookSeqno,selected:!1})}catch(s){i.e(s)}finally{i.f()}this.SET_PARENT_MOVIELIST(a)}else j.a.fire({icon:"error",title:"requestParentMovieList error",text:n.data.err});e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.warn(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"toggleFavorite",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.itemData&&(t.itemData.favoriteFlag=!t.itemData.favoriteFlag),e.prev=1,e.next=4,T.a.post("".concat(N.Config.restAPIProd).concat($.parent.favorites.req),{dtlBookSeqno:t.itemData.dtlBookSeqno,value:t.itemData.favoriteFlag});case 4:e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"selectItem",value:function(e){e&&this.SET_CURRENT_ITEM(e)}},{key:"selectNext",value:function(){if(this.mCurrentItemData){var e=this.mParentMovieList.indexOf(this.mCurrentItemData);if(-1!=e)return console.warn(e,this.mParentMovieList.length-1),e==this.mParentMovieList.length-1?this.mPlayMode==oe.LoopAll&&(this.SET_CURRENT_ITEM(this.mParentMovieList[0]),!0):this.mPlayMode==oe.LoopOne?(this.SET_CURRENT_ITEM(this.mParentMovieList[e]),!0):(this.SET_CURRENT_ITEM(this.mParentMovieList[e+1]),!0)}return!1}},{key:"SET_ACT_REPORT",value:function(e){this.mActSlotReport=e}},{key:"getActSlotReport",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("".concat(N.Config.restAPIProd).concat($.parent.slotdata.req));case 3:t=e.sent,1==t.data.ok?this.SET_ACT_REPORT(t.data.infolist):j.a.fire({icon:"error",title:"getActSlotReport error",text:t.data.err}),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),this.SET_ACT_REPORT(ae.parentActReportSlotData),console.warn(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"SET_SUMMARY",value:function(e){this.mActSummaryReport=e}},{key:"getActSummaryReport",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("".concat(N.Config.restAPIProd).concat($.parent.summary.req));case 3:t=e.sent,1==t.data.ok?this.SET_SUMMARY(t.data.infolist):j.a.fire({icon:"error",title:"getActSummaryReport error",text:t.data.err}),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),this.SET_SUMMARY(ae.parentActSummaryReport),console.warn(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"SET_DETAILREPORT_SB",value:function(e){this.mDetailReportSB=e}},{key:"getDetailReportSB",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("".concat(N.Config.restAPIProd).concat($.parent.detailSB.req,"/").concat(t.lrngSttcSeqno));case 3:n=e.sent,1==n.data.ok?(console.log("->",n.data.infolist),this.SET_DETAILREPORT_SB(n.data.infolist)):j.a.fire({icon:"error",title:"getDetailReportSB error",text:n.data.err}),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),this.SET_DETAILREPORT_SB(ae.parentDetailSB),console.warn(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"SET_DETAILREPORT_AL",value:function(e){this.mDetailReportAL=e}},{key:"getDetailReportAL",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("".concat(N.Config.restAPIProd).concat($.parent.detailAL.req,"/").concat(t.lrngSttcSeqno));case 3:n=e.sent,1==n.data.ok?this.SET_DETAILREPORT_AL(n.data.infolist):j.a.fire({icon:"error",title:"getDetailReportAL error",text:n.data.err}),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),this.SET_DETAILREPORT_AL(ae.parentDetailAL),console.warn(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"chargeAcorn",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.post("".concat(N.Config.restAPIProd).concat($.parent.chargeAcorn.req),t);case 3:n=e.sent,1==n.data.ok?(console.log("chargeAcorn",n),this.actSummaryReport.acornCnt=n.data.infolist.acornCnt,this.SET_SUMMARY(this.actSummaryReport),ue.homeData.userInfo.acornCnt=n.data.infolist.acornCnt,ue.SET_HOME_DATA(ue.homeData)):j.a.fire({icon:"error",title:"getDetailReportAL error",text:n.data.err}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resetTime",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.post("".concat(N.Config.restAPIProd).concat($.parent.resetTime.req),{});case 3:t=e.sent,1==t.data.ok||j.a.fire({icon:"error",title:"resetTime error",text:t.data.err}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateRemainTime",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,null!=ue.childSetting){e.next=3;break}return e.abrupt("return");case 3:if(!ue.childSetting.isNonLimitToPlay){e.next=5;break}return e.abrupt("return");case 5:return console.log("updateRemainTime",t),e.next=8,T.a.post("".concat(N.Config.restAPIProd).concat($.parent.updateRemainTime.req),{remainedTime:t});case 8:n=e.sent,1==n.data.ok||j.a.fire({icon:"error",title:"resetTime error",text:n.data.err}),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),console.warn(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateRemainByCurrent",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.updateRemainTime(ue.remainTime);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updatePlayTime",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t,!(isNaN(n)||void 0==n||null==n||n<=0)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,console.warn("updatePlayTime",Math.floor(n)),e.next=7,T.a.post("".concat(N.Config.restAPIProd).concat($.parent.updatePlayTime.req),{learnedTime:Math.floor(n)});case 7:a=e.sent,1==a.data.ok||j.a.fire({icon:"error",title:"resetTime error",text:a.data.err}),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](3),console.warn(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"currentItemData",get:function(){return this.mCurrentItemData}},{key:"playMode",get:function(){return this.mPlayMode}},{key:"parentMovieList",get:function(){return this.mParentMovieList}},{key:"actSlotReport",get:function(){return this.mActSlotReport}},{key:"actSummaryReport",get:function(){return this.mActSummaryReport}},{key:"detailReportSB",get:function(){return this.mDetailReportSB}},{key:"detailReportAL",get:function(){return this.mDetailReportAL}}]),n}(I["d"]);Object(d["a"])([I["c"]],se.prototype,"SET_CURRENT_ITEM",null),Object(d["a"])([I["c"]],se.prototype,"SET_PLAYMODE",null),Object(d["a"])([I["c"]],se.prototype,"SET_PARENT_MOVIELIST",null),Object(d["a"])([I["a"]],se.prototype,"requestParentMovieList",null),Object(d["a"])([I["a"]],se.prototype,"toggleFavorite",null),Object(d["a"])([I["a"]],se.prototype,"selectItem",null),Object(d["a"])([I["a"]],se.prototype,"selectNext",null),Object(d["a"])([I["c"]],se.prototype,"SET_ACT_REPORT",null),Object(d["a"])([I["a"]],se.prototype,"getActSlotReport",null),Object(d["a"])([I["c"]],se.prototype,"SET_SUMMARY",null),Object(d["a"])([I["a"]],se.prototype,"getActSummaryReport",null),Object(d["a"])([I["c"]],se.prototype,"SET_DETAILREPORT_SB",null),Object(d["a"])([I["a"]],se.prototype,"getDetailReportSB",null),Object(d["a"])([I["c"]],se.prototype,"SET_DETAILREPORT_AL",null),Object(d["a"])([I["a"]],se.prototype,"getDetailReportAL",null),Object(d["a"])([I["a"]],se.prototype,"chargeAcorn",null),Object(d["a"])([I["a"]],se.prototype,"resetTime",null),Object(d["a"])([I["a"]],se.prototype,"updateRemainTime",null),Object(d["a"])([I["a"]],se.prototype,"updateRemainByCurrent",null),Object(d["a"])([I["a"]],se.prototype,"updatePlayTime",null),se=Object(d["a"])([Object(I["b"])({namespaced:!0,name:"parentsetup",dynamic:!0,store:P})],se);var ce=Object(I["e"])(se),le=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mDemoLevel=-1,e.mChildSetting=null,e.mHomeData=null,e.mHowTo={storybooks:{movie:!1,catch:!1,touch:!1,match:!1,finder:!1,quiz:!1,makingbook:!1},alphabet:{catch:!1,match:!1,touch:!1,block:!1,quiz:!1}},e}return Object(u["a"])(n,[{key:"SetDemoLevel",value:function(e){this.mDemoLevel=e}},{key:"SET_CHILD_SETTING",value:function(e){this.mChildSetting=e}},{key:"setChildSetting",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,console.log("setChildSetting:",t.playPosbTime),e.next=4,T.a.post("".concat(N.Config.restAPIProd).concat($.home.settings.req),t);case 4:n=e.sent,1==n.data.ok?this.SET_CHILD_SETTING(t):j.a.fire({icon:"error",title:"setChildSetting 에러",text:n.data.err}),e.next=13;break;case 8:e.prev=8,e.t0=e["catch"](0),this.SET_CHILD_SETTING(t),ae.childSetting=t,console.warn(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getChildSetting",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("".concat(N.Config.restAPIProd).concat($.home.settings.res));case 3:t=e.sent,console.log("childSetting",t),1==t.data.ok?this.SET_CHILD_SETTING(t.data.infolist):j.a.fire({icon:"error",title:"getChildSetting 에러",text:t.data.err}),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),this.SET_CHILD_SETTING(ae.childSetting),console.warn(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"SET_BIRTH_DATA",value:function(e){this.mBirthData=e}},{key:"getBirthData",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("".concat(N.Config.restAPIProd).concat($.user.res));case 3:t=e.sent,1==t.data.ok?this.SET_BIRTH_DATA(t.data.infolist):j.a.fire({icon:"error",title:"birthday error",text:t.data.error}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"SET_HOME_DATA",value:function(e){this.mHomeData=e}},{key:"getHomeData",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!re.isDemoMode){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,T.a.get("".concat(N.Config.restAPIProd).concat($.home.recent.req));case 5:t=e.sent,1==t.data.ok?(console.log("getHomeData",t.data.infolist),this.SET_HOME_DATA(t.data.infolist)):j.a.fire({icon:"error",title:"getHomeData 에러",text:t.data.err}),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](2),console.warn(e.t0),this.SET_HOME_DATA(ae.homeData);case 13:case"end":return e.stop()}}),e,this,[[2,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"SET_HOWTO_DATA",value:function(e){if(void 0!=e.storybook){var t,n=Object(x["a"])(e.storybook);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.activity&&a.learned&&(this.mHowTo.storybooks[a.activity]=a.learned)}}catch(s){n.e(s)}finally{n.f()}}if(void 0!=e.alphabet){var i,o=Object(x["a"])(e.alphabet);try{for(o.s();!(i=o.n()).done;){var r=i.value;r.activity&&r.learned&&(this.mHowTo.alphabet[r.activity]=r.learned)}}catch(s){o.e(s)}finally{o.f()}}}},{key:"getHowToData",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!re.isDemoMode){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,T.a.get("".concat(N.Config.restAPIProd).concat($.babyall.howto.info.res));case 5:t=e.sent,1==t.data.ok?this.SET_HOWTO_DATA(t.data.infolist):j.a.fire({icon:"error",title:"getHowTo 에러",text:t.data.err}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),console.warn(e.t0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"resetData",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("".concat(N.Config.restAPIProd,"/learning/parents/sttc/reset"));case 3:t=e.sent,1==t.data.ok?console.error(this.mHomeData):j.a.fire({icon:"error",title:"setMypetScreenShot error",text:t.data.err}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"demoLevel",get:function(){return this.mDemoLevel}},{key:"childSetting",get:function(){return this.mChildSetting}},{key:"remainTime",get:function(){if(this.mHomeData){var e=this.mHomeData.userInfo.playPosbTime-re.elapsedSec;if(this.childSetting.isNonLimitToPlay)return 1800;if(0!=e)return e<0?0:this.mHomeData.userInfo.playPosbTime-re.elapsedSec;ce.updateRemainTime(0)}return 600}},{key:"birthData",get:function(){return this.mBirthData}},{key:"homeData",get:function(){return this.mHomeData}},{key:"profileURL",get:function(){return null==this.mHomeData||null==this.mHomeData.userInfo?"img/lobby/nouser.png":(void 0==this.mHomeData.userInfo.profileUrl&&(this.mHomeData.userInfo.profileUrl="img/lobby/nouser.png"),this.mHomeData.userInfo.profileUrl)}},{key:"childNm",get:function(){return null==this.mHomeData||null==this.mHomeData.userInfo?"알수없음":(void 0==this.mHomeData.userInfo.childNm&&(this.mHomeData.userInfo.childNm="알수없음"),this.homeData.userInfo.childNm)}},{key:"howtoData",get:function(){return this.mHowTo}},{key:"levelIDX",get:function(){return null==this.childSetting||this.childSetting.lrngChoLvlCd==Q.easy?1:this.childSetting.lrngChoLvlCd==Q.normal?2:this.childSetting.lrngChoLvlCd==Q.hard?3:void 0}}]),n}(I["d"]);Object(d["a"])([I["c"]],le.prototype,"SetDemoLevel",null),Object(d["a"])([I["c"]],le.prototype,"SET_CHILD_SETTING",null),Object(d["a"])([I["a"]],le.prototype,"setChildSetting",null),Object(d["a"])([I["a"]],le.prototype,"getChildSetting",null),Object(d["a"])([I["c"]],le.prototype,"SET_BIRTH_DATA",null),Object(d["a"])([I["a"]],le.prototype,"getBirthData",null),Object(d["a"])([I["c"]],le.prototype,"SET_HOME_DATA",null),Object(d["a"])([I["a"]],le.prototype,"getHomeData",null),Object(d["a"])([I["c"]],le.prototype,"SET_HOWTO_DATA",null),Object(d["a"])([I["a"]],le.prototype,"getHowToData",null),Object(d["a"])([I["a"]],le.prototype,"resetData",null),le=Object(d["a"])([Object(I["b"])({namespaced:!0,name:"user",dynamic:!0,store:P})],le);var ue=Object(I["e"])(le),me=n("cffa"),he=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"mounted",value:function(){me["b"].delayedCall(.5,Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,re.init();case 2:if(""!=re.token){e.next=6;break}re.setCurrentPage("Lobby"),e.next=9;break;case 6:return e.next=8,ue.getChildSetting();case 8:null==ue.childSetting?re.setCurrentPage("FirstPage"):re.setCurrentPage("Lobby");case 9:case"end":return e.stop()}}),e)}))))}},{key:"isLoading",get:function(){return null==ue.childSetting}}]),n}(p["c"]);he=Object(d["a"])([Object(p["a"])({components:{Loading:_}})],he);var de=he,pe=de,fe=(n("ff4b"),Object(S["a"])(pe,f,g,!1,null,"487db1e7",null)),ge=fe.exports,ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Lobby"},[e.isShowCanvas&&e.showTubPlayerFlag?e._e():n("div",{staticClass:"vue-app"},[n("ProfileBar",{attrs:{menu:e.menu},on:{goHome:e.selectHomeTab,onClickParentSetup:e._clickParentSetup,onShowActiveTime:e._showActiveTime,onSelectTab:e.selectHomeTab}}),e.isShowCanvas&&e.showTubPlayerFlag?e._e():n("LobbyList",{attrs:{currentPage:this.pageIndex},on:{onTabToSlide:e._onSelecedTab,onShowBabyTube:this.showTubePlayer,onShowAlphabetSchool:e._onShowAlphabetSchool,onSelectHomeMenu:e._selectHomeMenu,onShowStoryBook:e._onShowStoryBook}}),n("ActiveTimePopup",{ref:"ActiveTimePopup"}),n("RestartPopup"),n("ParentCheckPopup",{ref:"ParentCheckPopup"})],1),e.showTubPlayerFlag?n("BabyTubePlayer",{attrs:{filterData:this.babytubeFilterData},on:{onClose:e._closeTube}}):e._e(),e.isShowCanvas?n("ActivityPlayer",{staticClass:"activityView",attrs:{category:e.mCurrentCategory,level:e.currentLevel,alphabet:e.mCurrentSymbol,bookID:e.mCurrentBookID,activitySB:e.mCurrentActivity,isMobileMode:!0},on:{onClose:e._closeActivity}}):e._e(),e.demoEnableFlag?n("DemoEnd"):e._e(),e.demoLevelChoiceFlag?n("DemoLevelChoice"):e._e()],1)},be=[],ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ProfileBar"},[n("img",{staticStyle:{position:"absolute",top:"0",left:"0",width:"100%"},attrs:{src:"img/lobby/profile_bar.png",alt:""}}),n("div",{staticClass:"header"},[n("img",{staticClass:"logo",attrs:{src:"img/lobby/logo.png"},on:{click:e.goHome}}),n("div",{staticClass:"userThumb",on:{click:e._showActiveTime}},[n("img",{attrs:{src:this.thumbURL}}),n("span",[e._v(e._s(this.name))]),n("div",{staticClass:"book-count"},[e._v(e._s(this.finishBookCount))])]),n("div",{staticClass:"coin"},[n("img",{attrs:{src:"img/lobby/acorn.png"}}),n("span",[e._v(e._s(this.acornCount))])])]),n("div",{staticClass:"TabPageNavi"},e._l(e.menu,(function(t){return n("div",{key:t.label,ref:"button",refInFor:!0,staticClass:"button",on:{click:function(n){return e.onSelectTab(t)}}},[n("img",{attrs:{src:e._getItemImage(t)}})])})),0)])},Ce=[];function ke(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var Se=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"_getItemImage",value:function(e){return 1==e.selected?"img/lobby/".concat(e.img,"_select.png"):"img/lobby/".concat(e.img,"_nor.png")}},{key:"onSelectTab",value:function(e){var t,n=Object(x["a"])(this.menu);try{for(n.s();!(t=n.n()).done;){var a=t.value;a!==e&&(a.selected=!1)}}catch(i){n.e(i)}finally{n.f()}e.selected=!0,"MomAndDaddy"==e.pageIDX?this._showParentSetup():this.$emit("onSelectTab",e.pageIDX)}},{key:"mounted",value:function(){this.onSelectTab(this.menu[0])}},{key:"_showParentSetup",value:function(){1!=re.isDemoMode?this.$emit("onClickParentSetup"):j.a.fire({text:"체험판에서는 사용할수 없습니다."})}},{key:"_showActiveTime",value:function(){this.$emit("onShowActiveTime")}},{key:"goHome",value:function(){this.$emit("goHome","Home")}},{key:"isDemoMode",get:function(){return re.isDemoMode}},{key:"thumbURL",get:function(){return ue.profileURL}},{key:"name",get:function(){return null==ue.homeData?"---":ue.homeData.userInfo.childNm.length>4?ue.homeData.userInfo.childNm.slice(0,4)+"..":ue.homeData.userInfo.childNm}},{key:"acornCount",get:function(){return null==ue.homeData?"0":ke(ue.homeData.userInfo.acornCnt)}},{key:"finishBookCount",get:function(){return null==ue.homeData?0:ue.homeData.userInfo.cpltBookCnt}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:[{}]})],Se.prototype,"menu",void 0),Se=Object(d["a"])([Object(p["a"])({})],Se);var we=Se,_e=we,xe=(n("1915"),Object(S["a"])(_e,ye,Ce,!1,null,"4e4333f9",null)),Ie=xe.exports,Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"TabPageNavi"},e._l(e.menu,(function(t){return n("div",{key:t.label,ref:"button",refInFor:!0,staticClass:"button",on:{click:function(n){return e.onSelectTab(t)}}},[n("img",{attrs:{src:e._getItemImage(t)}})])})),0)},Pe=[],Re={props:{menu:Array},methods:{_getItemImage:function(e){return 1==e.selected?"img/lobby/".concat(e.img,"_select.png"):"img/lobby/".concat(e.img,"_nor.png")},onSelectTab:function(e){var t,n=Object(x["a"])(this.menu);try{for(n.s();!(t=n.n()).done;){var a=t.value;a!==e&&(a.selected=!1)}}catch(i){n.e(i)}finally{n.f()}e.selected=!0,this.$emit("onSelectTab",e.pageIDX)}},mounted:function(){this.onSelectTab(this.menu[0])}},je=Re,De=(n("066a"),Object(S["a"])(je,Oe,Pe,!1,null,"5189f9e2",null)),Te=De.exports,Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Home"},[n("h1",[e._v("홈화면 메인")]),n("img",{staticStyle:{position:"absolute",width:"100%",top:"-4.5rem",left:"0"},attrs:{src:"img/home/babytube_bg.png",alt:""}}),n("div",{staticClass:"tubeShortCut"},[n("div",{staticClass:"holder",on:{click:function(t){return e._selectMenu("BabyTube")}}},[n("video",{ref:"babytube",attrs:{muted:"",autoplay:"",playsinline:"",loop:""},domProps:{muted:!0}})]),n("img",{staticClass:"videotitle",attrs:{src:"img/home/babytube_text.png"}})]),n("div",{staticClass:"rowV"},[n("StoryBook",{attrs:{bookID:this.bookID,title:this.bookTitle,starCount:this.startCount,startActivity:this.startActivity},on:{onSelectItem:e._onSelectStoryBook}}),n("Alphabet",{attrs:{symbol:this.alphabetSymbol},on:{onSelectItem:e._onSelectAlphabetSchool}}),n("MyRoom",{on:{onClick:function(t){return e._selectMenu("MyRoom")}}}),n("MyPet",{on:{onClick:function(t){return e._selectMenu("MyPet")}}})],1)])},Le=[],Ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"BookThumb",on:{click:e._selectItem}},[n("img",{attrs:{src:"img/home/btn_box_storybooks.png"}}),n("div",{staticClass:"thumb"},[n("img",{attrs:{src:e.getThumbImage()}})]),n("div",{staticClass:"star-group"},e._l([0,1,2],(function(t){return n("img",{key:t,staticClass:"star",style:t<e.starCount?"opacity:1":"opacity:0.5",attrs:{src:t<e.starCount?"img/home/star_on.png":"img/home/star_off.png"}})})),0)])},Me=[],Ge=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.state=[!0,!0,!1],e}return Object(u["a"])(n,[{key:"getBookNumber",value:function(){console.log(this.bookID);var e="".concat(Math.floor(this.bookID/1e3),"-").concat(this.bookID%1e3);return e}},{key:"getThumbImage",value:function(){return"img/home/cover/".concat(this.bookID,"_home_cover.png")}},{key:"_selectItem",value:function(){this.$emit("onSelectItem",this.bookID,this.startActivity)}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:1001})],Ge.prototype,"bookID",void 0),Object(d["a"])([Object(p["b"])({default:""})],Ge.prototype,"title",void 0),Object(d["a"])([Object(p["b"])({default:0})],Ge.prototype,"starCount",void 0),Object(d["a"])([Object(p["b"])({default:"catch"})],Ge.prototype,"startActivity",void 0),Ge=Object(d["a"])([p["a"]],Ge);var Ee=Ge,Xe=Ee,He=(n("2d3e"),Object(S["a"])(Xe,Ae,Me,!1,null,"59ed04e7",null)),ze=He.exports,Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"alphabet",on:{click:e._selectItem}},[n("img",{attrs:{src:"img/home/btn_box_alphabet.png"}}),n("div",{staticClass:"current"},[e._v(e._s(e.symbol.toUpperCase()))])])},Ve=[],We=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"_selectItem",value:function(){this.$emit("onSelectItem",this.symbol)}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:"a"})],We.prototype,"symbol",void 0),We=Object(d["a"])([p["a"]],We);var Qe=We,Ne=Qe,$e=(n("63c8"),Object(S["a"])(Ne,Fe,Ve,!1,null,"4c435b36",null)),qe=$e.exports,Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"myRoom"},[n("img",{attrs:{src:"img/home/btn_box_myroom.png"},on:{click:e._selectItem}})])])},Ye=[],Ke=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"_selectItem",value:function(){this.$emit("onClick")}}]),n}(p["c"]);Ke=Object(d["a"])([Object(p["a"])({components:{}})],Ke);var Je=Ke,Ze=Je,et=(n("1a21"),Object(S["a"])(Ze,Ue,Ye,!1,null,"55a91b2d",null)),tt=et.exports,nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"myPet"},[n("img",{attrs:{src:this.isFirst?"img/home/btn_box_mypet_first.png":"img/home/btn_box_mypet.png"},on:{click:function(t){return e._click()}}}),n("img",{directives:[{name:"show",rawName:"v-show",value:!e.isFirst,expression:"!isFirst"}],staticClass:"state",attrs:{src:e.stateImage},on:{click:function(t){return e._click()}}})])])},at=[],it=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"mounted",value:function(){}},{key:"_click",value:function(){this.$emit("onClick")}},{key:"isFirst",get:function(){return null==ue.homeData||(void 0==ue.homeData.mypetInfo.recievedPet||0==ue.homeData.mypetInfo.recievedPet)}},{key:"stateImage",get:function(){if(ue.homeData&&ue.homeData.userInfo.acornCnt<5)return"img/home/bubble_acorn.png";var e=["img/home/bubble_love.png","img/home/bubble_thirst.png","img/home/bubble_q.png"],t=Math.floor(3*Math.random());return e[t]}}]),n}(p["c"]);it=Object(d["a"])([Object(p["a"])({components:{}})],it);var ot,rt=it,st=rt,ct=(n("0ba2"),Object(S["a"])(st,nt,at,!1,null,"6e348c74",null)),lt=ct.exports;n("4de4"),n("a434");(function(e){e[e["None"]=0]="None",e[e["LoopOne"]=1]="LoopOne",e[e["LoopAll"]=2]="LoopAll"})(ot||(ot={}));var ut=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mThumbPath=L.packageURL+"/babytube/thumbnail",e.mMoviePath=L.packageURL+"/babytube/movie",e.mCurrentFilter="favorite",e.mPlayMode=ot.LoopAll,e.mSelPlayMode=ot.LoopAll,e.mTubeItemList=[],e.mCurrentItemData=null,e}return Object(u["a"])(n,[{key:"SET_CURRENT_FILTER",value:function(e){this.mCurrentFilter=e}},{key:"SET_PLAYMODE",value:function(e){this.mPlayMode=e}},{key:"togglePlayMode",value:function(){this.mPlayMode,ot.LoopAll,this.SET_PLAYMODE(ot.None)}},{key:"selectPlayMode",value:function(e){"none"==e&&this.SET_PLAYMODE(ot.None),"all"==e&&this.SET_PLAYMODE(ot.LoopAll),"one"==e&&this.SET_PLAYMODE(ot.LoopOne),console.log("Loop ".concat(e))}},{key:"SET_ITEMLIST",value:function(e){this.mTubeItemList=e}},{key:"SET_CURRENT_ITEM",value:function(e){null!==this.mCurrentItemData&&(this.mCurrentItemData.selected=!1),this.mCurrentItemData=e,e&&(e.selected=!0)}},{key:"requestItemList",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,o,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.SET_CURRENT_FILTER(t.filter),n=null,e.prev=2,"bookID"!=t.filter){e.next=9;break}return e.next=6,T.a.post("".concat(N.Config.restAPIProd).concat($.babytube.contentsList.req),{filter:t.filter,bookID:t.bookID});case 6:n=e.sent,e.next=12;break;case 9:return e.next=11,T.a.post("".concat(N.Config.restAPIProd).concat($.babytube.contentsList.req),{filter:t.filter});case 11:n=e.sent;case 12:if(1==n.data.ok){a=[],i=Object(x["a"])(n.data.infolist);try{for(i.s();!(o=i.n()).done;)r=o.value,s=r.movieLength.split(":"),r.movieLength="".concat(s[0],":").concat(s[1]),"saleskit"==N.Config.excuteMode?a.push({idx:r.idx,bookID:r.bookID,subject:r.subject,category:r.category,titleColor:r.titleColor,thumb:"".concat(this.mThumbPath,"/").concat(r.thumb,".png"),mp4:"".concat(this.mMoviePath,"/").concat(r.movie,".mp4"),movie:A()?"".concat(this.mMoviePath,"/").concat(r.movie,".mp4"):"".concat(this.mMoviePath,"/").concat(r.movie,"/").concat(r.movie,".mpd"),movieLength:r.movieLength,favoriteFlag:r.favoriteFlag,dtlBookSeqno:r.dtlBookSeqno,vidoCtgrCd:r.vidoCtgrCd,selected:!1}):re.isDemoMode?2004==r.bookID&&a.push({idx:r.idx,bookID:r.bookID,subject:r.subject,category:r.category,titleColor:r.titleColor,thumb:"".concat(this.mThumbPath,"/").concat(r.thumb,".png"),mp4:"".concat(this.mMoviePath,"/").concat(r.movie,".mp4"),movie:A()?"".concat(this.mMoviePath,"/").concat(r.movie,".mp4"):"".concat(this.mMoviePath,"/").concat(r.movie,"/").concat(r.movie,".mpd"),movieLength:r.movieLength,favoriteFlag:r.favoriteFlag,dtlBookSeqno:r.dtlBookSeqno,vidoCtgrCd:r.vidoCtgrCd,selected:!1}):a.push({idx:r.idx,bookID:r.bookID,subject:r.subject,category:r.category,titleColor:r.titleColor,thumb:"".concat(this.mThumbPath,"/").concat(r.thumb,".png"),mp4:"".concat(this.mMoviePath,"/").concat(r.movie,".mp4"),movie:A()?"".concat(this.mMoviePath,"/").concat(r.movie,".mp4"):"".concat(this.mMoviePath,"/").concat(r.movie,"/").concat(r.movie,".mpd"),movieLength:r.movieLength,favoriteFlag:r.favoriteFlag,dtlBookSeqno:r.dtlBookSeqno,vidoCtgrCd:r.vidoCtgrCd,selected:!1})}catch(c){i.e(c)}finally{i.f()}this.SET_ITEMLIST(a),a.length>0&&this.selectItem(a[0])}e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](2),console.warn(e.t0);case 18:case"end":return e.stop()}}),e,this,[[2,15]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"toggleFavorite",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,console.log(t.itemData),console.log(re.isDemoMode),re.isDemoMode){e.next=11;break}if(!t.itemData){e.next=10;break}return t.itemData.favoriteFlag=!t.itemData.favoriteFlag,e.next=8,T.a.post("".concat(N.Config.restAPIProd).concat($.babytube.favorites.req),{dtlBookSeqno:t.itemData.dtlBookSeqno,vidoCtgrCd:t.itemData.vidoCtgrCd,value:t.itemData.favoriteFlag});case 8:e.sent,console.warn(t.itemData.dtlBookSeqno,t.itemData.vidoCtgrCd,t.itemData.favoriteFlag);case 10:"favorite"==this.mCurrentFilter&&t.itemData&&(n=this.mTubeItemList.indexOf(t.itemData),-1!=n&&this.mTubeItemList.splice(n,1));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),console.warn(e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"finish",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(re.isDemoMode){e.next=7;break}if(console.log(t.itemData),!t.itemData){e.next=7;break}return e.next=5,T.a.post("".concat(N.Config.restAPIProd).concat($.babytube.finish.req),{dtlBookSeqno:t.itemData.dtlBookSeqno,vidoCtgrCd:t.itemData.vidoCtgrCd});case 5:e.sent,console.warn(t.itemData.dtlBookSeqno,t.itemData.vidoCtgrCd,t.itemData.favoriteFlag);case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"selectItem",value:function(e){e&&this.SET_CURRENT_ITEM(e)}},{key:"selectNext",value:function(){if(this.mCurrentItemData){var e=this.mTubeItemList.indexOf(this.mCurrentItemData);if(-1!=e)return this.mPlayMode!=ot.None&&(e==this.mTubeItemList.length-1?this.mPlayMode==ot.LoopAll&&(this.SET_CURRENT_ITEM(this.mTubeItemList[0]),!0):this.mPlayMode==ot.LoopOne?(this.SET_CURRENT_ITEM(this.mTubeItemList[e]),!0):(this.SET_CURRENT_ITEM(this.mTubeItemList[e+1]),!0))}return!1}},{key:"playMode",get:function(){return this.mPlayMode}},{key:"tubeItemList",get:function(){return this.mTubeItemList}},{key:"currentItemData",get:function(){return this.mCurrentItemData}}]),n}(I["d"]);Object(d["a"])([I["c"]],ut.prototype,"SET_CURRENT_FILTER",null),Object(d["a"])([I["c"]],ut.prototype,"SET_PLAYMODE",null),Object(d["a"])([I["a"]],ut.prototype,"togglePlayMode",null),Object(d["a"])([I["a"]],ut.prototype,"selectPlayMode",null),Object(d["a"])([I["c"]],ut.prototype,"SET_ITEMLIST",null),Object(d["a"])([I["c"]],ut.prototype,"SET_CURRENT_ITEM",null),Object(d["a"])([I["a"]],ut.prototype,"requestItemList",null),Object(d["a"])([I["a"]],ut.prototype,"toggleFavorite",null),Object(d["a"])([I["a"]],ut.prototype,"finish",null),Object(d["a"])([I["a"]],ut.prototype,"selectItem",null),Object(d["a"])([I["a"]],ut.prototype,"selectNext",null),ut=Object(d["a"])([Object(I["b"])({namespaced:!0,name:"babytube",dynamic:!0,store:P})],ut);var mt=Object(I["e"])(ut),ht=n("090c"),dt=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mMovieURL="",e}return Object(u["a"])(n,[{key:"onChageHomeData",value:function(e,t){}},{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ue.getHomeData();case 2:if(0!=mt.tubeItemList.length){e.next=5;break}return e.next=5,mt.requestItemList({filter:"bs"});case 5:A()?(t=Math.floor(Math.random()*mt.tubeItemList.length),n=mt.tubeItemList[t].movie,this.$refs.babytube.src=n):(this.mDashPlayer=Object(ht["MediaPlayer"])().create(),a=Math.floor(Math.random()*mt.tubeItemList.length),i=mt.tubeItemList[a].movie,this.mDashPlayer.initialize(this.$refs.babytube,i,!0),this.mDashPlayer.attachView(this.$refs.babytube),this.mDashPlayer.setAutoPlay(!0),this.mDashPlayer.attachSource(i),this.mDashPlayer.on("canPlay",(function(){o.$refs.babytube.play()})));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_onSelectMyPet",value:function(){console.log("selectMyPet"),this.$emit("onShowMyPet")}},{key:"_selectMenu",value:function(e){1!=re.isDemoMode?this.$emit("onSelectHomeMenu",e):j.a.fire({text:"체험판에서는 사용할 수 없습니다."})}},{key:"_onSelectStoryBook",value:function(e,t){console.log("onShowStoryBook",e,t),this.$emit("onShowStoryBook",e,t)}},{key:"_onSelectAlphabetSchool",value:function(e){console.log("_onSelectAlphabetSchool",e),this.$emit("onShowAlphabetSchool",e)}},{key:"homeData",get:function(){return ue.homeData}},{key:"bookID",get:function(){return null==ue.homeData?2004:ue.homeData.storybookInfo.bookID}},{key:"bookTitle",get:function(){return null==ue.homeData?"":ue.homeData.storybookInfo.bookTitle}},{key:"alphabetSymbol",get:function(){return null==ue.homeData?"a":ue.homeData.alphabetInfo.symbol}},{key:"startCount",get:function(){return 1==re.isDemoMode?3:null===this.homeData||this.homeData.storybookInfo.cpltAcvtCnt<2?0:this.homeData.storybookInfo.cpltAcvtCnt<5?1:this.homeData.storybookInfo.cpltAcvtCnt<7?2:7==this.homeData.storybookInfo.cpltAcvtCnt?3:0}},{key:"startActivity",get:function(){return null===this.homeData?"movie":this.homeData.storybookInfo.currentAcvt}}]),n}(p["c"]);Object(d["a"])([Object(p["d"])("homeData")],dt.prototype,"onChageHomeData",null),dt=Object(d["a"])([Object(p["a"])({components:{StoryBook:ze,Alphabet:qe,MyRoom:tt,MyPet:lt}})],dt);var pt=dt,ft=pt,gt=(n("9686"),Object(S["a"])(ft,Be,Le,!1,null,"69e0c339",null)),vt=gt.exports,bt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"StoryBook"},[n("div",{staticClass:"step-group",on:{pointerover:function(t){return e._onOffSwiper(!1)},pointerleave:function(t){return e._onOffSwiper(!0)}}},[n("img",{staticClass:"step_bg",attrs:{src:"img/storybooks/step_bar.png"},on:{click:function(t){return e._selectStep()}}}),n("img",{directives:[{name:"show",rawName:"v-show",value:"step1"==e.currentStep,expression:"currentStep == 'step1'"}],staticClass:"step1_btn",attrs:{src:"img/storybooks/btn_step1.png"}}),n("img",{directives:[{name:"show",rawName:"v-show",value:"step2"==e.currentStep,expression:"currentStep == 'step2'"}],staticClass:"step2_btn",attrs:{src:"img/storybooks/btn_step2.png"}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"step1"==e.currentStep,expression:"currentStep == 'step1'"}],staticClass:"book-container"},e._l(e.mBookList.step1,(function(t){return n("BookItem",{key:t,attrs:{bookID:t},on:{onSelectItem:e._onSelectItem}})})),1),n("div",{directives:[{name:"show",rawName:"v-show",value:"step2"==e.currentStep,expression:"currentStep == 'step2'"}],staticClass:"book-container"},e._l(e.mBookList.step2,(function(t){return n("BookItem",{key:t,attrs:{bookID:t},on:{onSelectItem:e._onSelectItem}})})),1)])},yt=[],Ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"BookItem"},[n("img",{staticClass:"img-button",attrs:{src:this.BookCoverImagePath},on:{click:e._onClick}}),e.info.isLocked?n("div",{staticClass:"not-finished"},[n("img",{staticClass:"lockimg",attrs:{src:"img/storybooks/lock.png"}})]):e._e(),n("div",{staticClass:"star-group"},e._l(3,(function(t){return n("img",{key:t,staticClass:"star",attrs:{src:t<e.starCount+1?"img/storybooks/star.png":"img/storybooks/star_disable.png"}})})),0)])},kt=[],St=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mFinishResultData=null,e}return Object(u["a"])(n,[{key:"SET_FINISH_RESULTDATA",value:function(e){this.mFinishResultData=e}},{key:"getFinishActivityCount",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getFinishResultInfoData",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("".concat(N.Config.restAPIProd).concat($.storybooks.finishList.req));case 3:t=e.sent,1==t.data.ok?this.SET_FINISH_RESULTDATA(t.data.infolist):j.a.fire({icon:"error",title:"getFinishResultInfoData error",text:t.data.err}),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),this.SET_FINISH_RESULTDATA(ae.storybookFinishInfo),console.warn(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"setActivityEnd",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==ue.homeData){e.next=11;break}return e.prev=1,e.next=4,T.a.post("".concat(N.Config.restAPIProd).concat($.storybooks.endActivity.req,"/").concat(t.activity),t.endinfo);case 4:n=e.sent,1==n.data.ok?(n.data.data,"makingbook"==t.activity&&this.getFinishResultInfoData()):j.a.fire({icon:"error",title:"setActivityEnd error",text:n.data.err}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.warn(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setMakingBookScreenShot",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.post("".concat(N.Config.restAPIProd).concat($.storybooks.makingBookScreenShot.req),t);case 3:n=e.sent,1==n.data.ok||j.a.fire({icon:"error",title:"setMypetScreenShot error",text:n.data.err}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"finishResultData",get:function(){return this.mFinishResultData}}]),n}(I["d"]);Object(d["a"])([I["c"]],St.prototype,"SET_FINISH_RESULTDATA",null),Object(d["a"])([I["a"]],St.prototype,"getFinishActivityCount",null),Object(d["a"])([I["a"]],St.prototype,"getFinishResultInfoData",null),Object(d["a"])([I["a"]],St.prototype,"setActivityEnd",null),Object(d["a"])([I["a"]],St.prototype,"setMakingBookScreenShot",null),St=Object(d["a"])([Object(I["b"])({namespaced:!0,name:"storybooks",dynamic:!0,store:P})],St);var wt=Object(I["e"])(St),_t=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"_onClick",value:function(){this.$emit("onSelectItem",this.info.bookID)}},{key:"info",get:function(){return null==wt.finishResultData?{bookID:this.bookID,cpltAcvtCnt:2004!=this.bookID?0:7,currentAcvt:"movie",isLocked:2004!=this.bookID}:void 0===wt.finishResultData[this.bookID]?{bookID:this.bookID,cpltAcvtCnt:0,currentAcvt:"catch",isLocked:2004!=this.bookID}:wt.finishResultData[this.bookID]}},{key:"BookCoverImagePath",get:function(){return"".concat(N.Config.packageURL,"/bookcover/").concat(this.info.bookID,"_cover.png")}},{key:"starCount",get:function(){return this.info.cpltAcvtCnt>=0&&this.info.cpltAcvtCnt<2?0:this.info.cpltAcvtCnt>=2&&this.info.cpltAcvtCnt<5?1:this.info.cpltAcvtCnt>=5&&this.info.cpltAcvtCnt<7?2:this.info.cpltAcvtCnt>=7?3:0}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:1001})],_t.prototype,"bookID",void 0),_t=Object(d["a"])([Object(p["a"])({components:{}})],_t);var xt=_t,It=xt,Ot=(n("6400"),Object(S["a"])(It,Ct,kt,!1,null,"8168415a",null)),Pt=Ot.exports,Rt=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mCurrentStep="step1",e.mBookList=N.Config.bookList,e}return Object(u["a"])(n,[{key:"mounted",value:function(){this.mCurrentStep="step1",0==re.isDemoMode&&wt.getFinishResultInfoData()}},{key:"_onOffSwiper",value:function(e){this.$emit("_onOffSwiper",e)}},{key:"_selectStep",value:function(){"step1"==this.mCurrentStep?this.mCurrentStep="step2":this.mCurrentStep="step1"}},{key:"_onSelectItem",value:function(e){1==re.isDemoMode?this.$emit("onShowStoryBook",e,"movie"):this.$emit("onShowStoryBook",e,wt.finishResultData[e].currentAcvt)}},{key:"currentStep",get:function(){return void 0==this.mCurrentStep&&(this.mCurrentStep="step1"),this.mCurrentStep}}]),n}(p["c"]);Rt=Object(d["a"])([Object(p["a"])({components:{BookItem:Pt}})],Rt);var jt,Dt=Rt,Tt=Dt,Bt=(n("9c90"),Object(S["a"])(Tt,bt,yt,!1,null,"6151d078",null)),Lt=Bt.exports,At=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"AlphabetSchool"},[n("h1",[e._v("알파벳스쿨 메인")]),n("AlphabetSelectBoard",{ref:"AlphabetSelectBoard",staticStyle:{"z-index":"1"},on:{onSelectItem:e._onSelectItem}})],1)},Mt=[],Gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"AlphabetSelectBoard"},[n("div",{staticClass:"container"},[n("img",{attrs:{src:"img/alphabet/12_alphabet_bg.png"}}),e._l(e.displayDataList,(function(t,a){return n("AlDisplayButton",{key:a,ref:"dispButton",refInFor:!0,attrs:{idx:a,info:t},on:{onSelectItem:e._onSelectItem}})})),n("div",{attrs:{id:"nextBTN"},on:{click:function(t){return e.goRight(e.mBoardStep)}}},[n("img",{attrs:{src:"img/alphabet/12_alphabet_arrow_2.png",alt:"오른쪽 화살표"}})]),n("div",{attrs:{id:"prevBTN"},on:{click:function(t){return e.goLeft(e.mBoardStep)}}},[n("img",{attrs:{src:"img/alphabet/12_alphabet_arrow_1.png",alt:"왼쪽 화살표"}})])],2)])},Et=[];(function(e){e[e["left"]=0]="left",e[e["right"]=1]="right",e[e["none"]=2]="none"})(jt||(jt={}));var Xt=[{alphabet:"Z",normal:"img/alphabet/12_alphabet_z.png",select:"img/alphabet/12_alphabet_z_in.png",disable:"img/alphabet/12_alphabet_z_dis.png",x:3440,y:350,lineDir:jt.left},{alphabet:"Y",normal:"img/alphabet/12_alphabet_y.png",select:"img/alphabet/12_alphabet_y_in.png",disable:"img/alphabet/12_alphabet_y_dis.png",x:3332,y:150,lineDir:jt.right},{alphabet:"X",normal:"img/alphabet/12_alphabet_x.png",select:"img/alphabet/12_alphabet_x_in.png",disable:"img/alphabet/12_alphabet_x_dis.png",x:3224,y:350,lineDir:jt.right},{alphabet:"W",normal:"img/alphabet/12_alphabet_W.png",select:"img/alphabet/12_alphabet_w_in.png",disable:"img/alphabet/12_alphabet_w_dis.png",x:3116,y:550,lineDir:jt.left},{alphabet:"V",normal:"img/alphabet/12_alphabet_v.png",select:"img/alphabet/12_alphabet_v_in.png",disable:"img/alphabet/12_alphabet_v_dis.png",x:3008,y:350,lineDir:jt.left},{alphabet:"U",normal:"img/alphabet/12_alphabet_u.png",select:"img/alphabet/12_alphabet_u_in.png",disable:"img/alphabet/12_alphabet_u_dis.png",x:2900,y:150,lineDir:jt.right},{alphabet:"T",normal:"img/alphabet/12_alphabet_t.png",select:"img/alphabet/12_alphabet_t_in.png",disable:"img/alphabet/12_alphabet_t_dis.png",x:2792,y:350,lineDir:jt.right},{alphabet:"S",normal:"img/alphabet/12_alphabet_s.png",select:"img/alphabet/12_alphabet_s_in.png",disable:"img/alphabet/12_alphabet_s_dis.png",x:2684,y:550,lineDir:jt.none},{alphabet:"R",normal:"img/alphabet/12_alphabet_r.png",select:"img/alphabet/12_alphabet_r_in.png",disable:"img/alphabet/12_alphabet_r_dis.png",x:2276,y:350,lineDir:jt.left},{alphabet:"Q",normal:"img/alphabet/12_alphabet_q.png",select:"img/alphabet/12_alphabet_q_in.png",disable:"img/alphabet/12_alphabet_q_dis.png",x:2168,y:150,lineDir:jt.right},{alphabet:"P",normal:"img/alphabet/12_alphabet_p.png",select:"img/alphabet/12_alphabet_p_in.png",disable:"img/alphabet/12_alphabet_p_dis.png",x:2060,y:350,lineDir:jt.right},{alphabet:"O",normal:"img/alphabet/12_alphabet_o.png",select:"img/alphabet/12_alphabet_o_in.png",disable:"img/alphabet/12_alphabet_o_dis.png",x:1952,y:550,lineDir:jt.left},{alphabet:"N",normal:"img/alphabet/12_alphabet_n.png",select:"img/alphabet/12_alphabet_n_in.png",disable:"img/alphabet/12_alphabet_n_dis.png",x:1844,y:350,lineDir:jt.left},{alphabet:"M",normal:"img/alphabet/12_alphabet_m.png",select:"img/alphabet/12_alphabet_m_in.png",disable:"img/alphabet/12_alphabet_m_dis.png",x:1736,y:150,lineDir:jt.right},{alphabet:"L",normal:"img/alphabet/12_alphabet_l.png",select:"img/alphabet/12_alphabet_l_in.png",disable:"img/alphabet/12_alphabet_l_dis.png",x:1628,y:350,lineDir:jt.right},{alphabet:"K",normal:"img/alphabet/12_alphabet_k.png",select:"img/alphabet/12_alphabet_k_in.png",disable:"img/alphabet/12_alphabet_k_dis.png",x:1520,y:550,lineDir:jt.left},{alphabet:"J",normal:"img/alphabet/12_alphabet_j.png",select:"img/alphabet/12_alphabet_j_in.png",disable:"img/alphabet/12_alphabet_j_dis.png",x:1412,y:350,lineDir:jt.none},{alphabet:"I",normal:"img/alphabet/12_alphabet_i.png",select:"img/alphabet/12_alphabet_i_in.png",disable:"img/alphabet/12_alphabet_i_dis.png",x:1004,y:150,lineDir:jt.right},{alphabet:"H",normal:"img/alphabet/12_alphabet_h.png",select:"img/alphabet/12_alphabet_h_in.png",disable:"img/alphabet/12_alphabet_h_dis.png",x:896,y:350,lineDir:jt.right},{alphabet:"G",normal:"img/alphabet/12_alphabet_g.png",select:"img/alphabet/12_alphabet_g_in.png",disable:"img/alphabet/12_alphabet_g_dis.png",x:788,y:550,lineDir:jt.left},{alphabet:"F",normal:"img/alphabet/12_alphabet_f.png",select:"img/alphabet/12_alphabet_f_in.png",disable:"img/alphabet/12_alphabet_f_dis.png",x:680,y:350,lineDir:jt.left},{alphabet:"E",normal:"img/alphabet/12_alphabet_e.png",select:"img/alphabet/12_alphabet_e_in.png",disable:"img/alphabet/12_alphabet_e_dis.png",x:572,y:150,lineDir:jt.right},{alphabet:"D",normal:"img/alphabet/12_alphabet_d.png",select:"img/alphabet/12_alphabet_d_in.png",disable:"img/alphabet/12_alphabet_d_dis.png",x:464,y:350,lineDir:jt.right},{alphabet:"C",normal:"img/alphabet/12_alphabet_c.png",select:"img/alphabet/12_alphabet_c_in.png",disable:"img/alphabet/12_alphabet_c_dis.png",x:356,y:550,lineDir:jt.left},{alphabet:"B",normal:"img/alphabet/12_alphabet_b.png",select:"img/alphabet/12_alphabet_b_in.png",disable:"img/alphabet/12_alphabet_b_dis.png",x:248,y:350,lineDir:jt.left},{alphabet:"A",normal:"img/alphabet/12_alphabet_a.png",select:"img/alphabet/12_alphabet_a_in.png",disable:"img/alphabet/12_alphabet_a_dis.png",x:140,y:150,lineDir:jt.none}],Ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"AlDisplayButton",style:"top:"+e.mPosY+"px; left:"+e.mPosX+"px;",on:{click:e._onSelect}},[n("img",{staticClass:"button",attrs:{src:e.buttonImage}}),e.isShowLeftLine?n("img",{staticClass:"guideL",attrs:{src:e.lineImage}}):e._e(),e.isShowRightLine?n("img",{staticClass:"guideR",attrs:{src:e.lineImage}}):e._e(),n("img",{directives:[{name:"show",rawName:"v-show",value:e._isFocused(),expression:"_isFocused()"}],ref:"cursor",staticClass:"cursor",attrs:{src:"img/alphabet/12_alphabet_marker.png"}})])},zt=[],Ft=(n("b64b"),function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mFinishResultData=null,e}return Object(u["a"])(n,[{key:"SET_FINISH_RESULTDATA",value:function(e){this.mFinishResultData=e}},{key:"getFinishResultInfoData",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("".concat(N.Config.restAPIProd).concat($.alphabet.finishList.req));case 3:t=e.sent,1==t.data.ok?(console.log(t.data),this.SET_FINISH_RESULTDATA(t.data.infolist)):j.a.fire({icon:"error",title:"Alphabet getFinishResultInfoData error",text:t.data.err}),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),this.SET_FINISH_RESULTDATA(ae.alphabetSaveData),console.warn(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"setActivityEnd",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==ue.homeData){e.next=12;break}return e.prev=1,e.next=4,T.a.post("".concat(N.Config.restAPIProd).concat($.alphabet.endActivity.req,"/").concat(t.activity),t.endinfo);case 4:n=e.sent,console.log(n),1==n.data.ok?(n.data.infolist,"quiz"==t.activity&&this.getFinishResultInfoData()):j.a.fire({icon:"error",title:"setActivityEnd error",text:n.data.err}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.warn(e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"finishResultData",get:function(){return this.mFinishResultData}},{key:"currentFocusSymbolIDX",get:function(){if(null==this.mFinishResultData)return 0;var e,t=Object.keys(this.mFinishResultData),n=Object.keys(this.mFinishResultData).reverse(),a=Object(x["a"])(n);try{for(a.s();!(e=a.n()).done;){var i=e.value;if(0==this.mFinishResultData[i].isLocked)return t.indexOf(i)}}catch(o){a.e(o)}finally{a.f()}}}]),n}(I["d"]));Object(d["a"])([I["c"]],Ft.prototype,"SET_FINISH_RESULTDATA",null),Object(d["a"])([I["a"]],Ft.prototype,"getFinishResultInfoData",null),Object(d["a"])([I["a"]],Ft.prototype,"setActivityEnd",null),Ft=Object(d["a"])([Object(I["b"])({namespaced:!0,name:"alphabet",dynamic:!0,store:P})],Ft);var Vt=Object(I["e"])(Ft),Wt=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mPosX=0,e.mPosY=0,e}return Object(u["a"])(n,[{key:"onChangeFocusIDX",value:function(e,t){if(this._isFocused()){var n=this.$el;n.offsetParent}console.log("onChangeFocusIDX",t,e)}},{key:"mounted",value:function(){this.mPosX=this.info.x,this.mPosY=this.info.y;var e=this.$el;e.offsetParent;this._isFocused()}},{key:"destroyed",value:function(){}},{key:"_isFocused",value:function(){return Vt.currentFocusSymbolIDX==this.idx}},{key:"_isCleared",value:function(){return null!=Vt.finishResultData&&0==Vt.finishResultData[this.info.alphabet.toUpperCase()].isLocked}},{key:"_onSelect",value:function(){(this._isCleared()||this._isFocused())&&this.$emit("onSelectItem",this.info.alphabet)}},{key:"index",get:function(){return this.idx}},{key:"buttonImage",get:function(){return this._isFocused()?this.info.select:this._isCleared()?this.info.normal:this.info.disable}},{key:"lineImage",get:function(){return this.info.lineDir,jt.left,this._isCleared()?"img/alphabet/12_alphabet_guide2.png":"img/alphabet/12_alphabet_guide1.png"}},{key:"isShowLeftLine",get:function(){return this.info.lineDir==jt.left}},{key:"isShowRightLine",get:function(){return this.info.lineDir==jt.right}},{key:"currFocusIDX",get:function(){return Vt.currentFocusSymbolIDX}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({required:!0})],Wt.prototype,"idx",void 0),Object(d["a"])([Object(p["b"])({required:!0})],Wt.prototype,"info",void 0),Object(d["a"])([Object(p["d"])("currFocusIDX")],Wt.prototype,"onChangeFocusIDX",null),Wt=Object(d["a"])([Object(p["a"])({components:{}})],Wt);var Qt=Wt,Nt=Qt,$t=(n("7d09"),Object(S["a"])(Nt,Ht,zt,!1,null,"ecc9260c",null)),qt=$t.exports,Ut=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mBoardStep=1,e.mWheelFlag=!0,e}return Object(u["a"])(n,[{key:"changeStep",value:function(e,t){console.log("".concat(t,"=>").concat(e)),document.getElementById("prevBTN").style.opacity="0",document.getElementById("nextBTN").style.opacity="0",me["b"].to(document.getElementById("nextBTN"),{alpha:1,duration:.5}).delay(.5),me["b"].to(document.getElementById("prevBTN"),{alpha:1,duration:.5}).delay(.5),1==e&&(0!=this.$el.scrollLeft&&me["b"].to(this.$el,{scrollLeft:0,duration:.5}),document.getElementById("prevBTN").style.display="none",document.getElementById("nextBTN").style.display="block",document.getElementById("nextBTN").style.left="1200px"),2==e&&(1280!=this.$el.scrollLeft&&me["b"].to(this.$el,{scrollLeft:1280,duration:.5}),document.getElementById("prevBTN").style.display="block",document.getElementById("nextBTN").style.display="block",document.getElementById("prevBTN").style.left="1310px",document.getElementById("nextBTN").style.left="2480px"),3==e&&(2560!=this.$el.scrollLeft&&me["b"].to(this.$el,{scrollLeft:2560,duration:.5}),document.getElementById("prevBTN").style.display="block",document.getElementById("nextBTN").style.display="none",document.getElementById("prevBTN").style.left="2590px")}},{key:"getCurrectAlphabet",value:function(){return null==ue.homeData?"a":ue.homeData.alphabetInfo}},{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$el.scrollLeft=0,this.mWheelFlag=!0,me["b"].delayedCall(1,(function(){Vt.currentFocusSymbolIDX<9&&(t.mBoardStep=1),Vt.currentFocusSymbolIDX>8&&Vt.currentFocusSymbolIDX<18&&(t.mBoardStep=2),Vt.currentFocusSymbolIDX>17&&(t.mBoardStep=3)})),console.log("mounted"),0!=re.isDemoMode){e.next=7;break}return e.next=7,Vt.getFinishResultInfoData();case 7:this.$nextTick((function(){var e=t.$el,n=t.$refs.dispButton;console.log(n);var a,i=Object(x["a"])(n);try{for(i.s();!(a=i.n()).done;){var o=a.value,r=o;if(r.index==Vt.currentFocusSymbolIDX){var s=r.$el;e.scrollTop=s.offsetTop-700}}}catch(c){i.e(c)}finally{i.f()}}));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"goRight",value:function(e){1==e&&(this.mBoardStep=2,me["b"].to(this.$el,{scrollLeft:1280,duration:.5})),2==e&&(this.mBoardStep=3,me["b"].to(this.$el,{scrollLeft:2560,duration:.5})),3==e&&(this.mBoardStep=3,me["b"].to(this.$el,{scrollLeft:2560,duration:.5}))}},{key:"goLeft",value:function(e){3==e&&(this.mBoardStep=2,me["b"].to(this.$el,{scrollLeft:1280,duration:.5})),2==e&&(this.mBoardStep=1,me["b"].to(this.$el,{scrollLeft:0,duration:.5})),1==e&&(this.mBoardStep=1,me["b"].to(this.$el,{scrollLeft:0,duration:.5}))}},{key:"destroyed",value:function(){}},{key:"_onSelectItem",value:function(e){this.$emit("onSelectItem",e)}},{key:"getBoardStep",value:function(e){if(e){if(this.mBoardStep>=3)return void(this.mBoardStep=3);this.mBoardStep+=1}else{if(this.mBoardStep<=1)return void(this.mBoardStep=1);this.mBoardStep-=1}}},{key:"displayDataList",get:function(){for(var e=[],t=25;t>-1;t--)e.push(Xt[t]);return e}}]),n}(p["c"]);Object(d["a"])([Object(p["d"])("mBoardStep")],Ut.prototype,"changeStep",null),Ut=Object(d["a"])([Object(p["a"])({components:{AlDisplayButton:qt}})],Ut);var Yt=Ut,Kt=Yt,Jt=(n("303c"),Object(S["a"])(Kt,Gt,Et,!1,null,"7cce897f",null)),Zt=Jt.exports,en=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"mounted",value:function(){}},{key:"_onSelectItem",value:function(e){this.$emit("onShowAlphabetSchool",e)}}]),n}(p["c"]);en=Object(d["a"])([Object(p["a"])({components:{AlphabetSelectBoard:Zt}})],en);var tn=en,nn=tn,an=(n("81be"),Object(S["a"])(nn,At,Mt,!1,null,"2c0e5c24",null)),on=an.exports,rn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"BabyTube"},[n("div",{staticClass:"container"},[n("div",{staticClass:"menulist"},e._l(e.mMenu,(function(t){return n("div",{key:t.label,staticClass:"menu-button",on:{click:function(n){return e._onSelectFilter(t.filter)}}},[n("img",{attrs:{src:"img/babytube/"+t.icon+".png"}})])})),0),n("div",{staticStyle:{width:"1280px",height:"20px",background:"#efefef"}}),n("div",{staticClass:"steplist"},[n("div",{staticClass:"title"},[n("span",[e._v("STEP1")]),n("img",{attrs:{src:"img/babytube/playall.png"},on:{click:function(t){return e._showTube({filter:"step1"})}}})]),n("div",{ref:"bookList",staticClass:"book-list",on:{pointerover:function(t){return e._onOffSwiper(!1)},pointerleave:function(t){return e._onOffSwiper(!0)}}},[n("BookListStep1",{on:{_showTube:e._showTube}})],1)]),n("div",{staticStyle:{width:"1280px",height:"20px",background:"#efefef"}}),n("div",{staticClass:"steplist"},[n("div",{staticClass:"title"},[n("span",{staticStyle:{color:"#397fd5"}},[e._v("STEP2")]),n("img",{attrs:{src:"img/babytube/playall.png"},on:{click:function(t){return e._showTube({filter:"step2"})}}})]),n("div",{staticClass:"book-list",on:{pointerover:function(t){return e._onOffSwiper(!1)},pointerleave:function(t){return e._onOffSwiper(!0)}}},[n("BookListStep2",{on:{_showTube:e._showTube}})],1)])])])},sn=[],cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("swiper",{ref:"mySwiper",staticClass:"mySwiper",attrs:{options:e.swiperOptions}},e._l(e.step02,(function(t,a){return n("swiper-slide",{key:a,staticClass:"slideBox"},[n("img",{attrs:{src:e.getBookCoverImagePath(1e3+(a+1))},on:{click:function(t){e._showTube({filter:"bookID",id:1e3+(a+1)})}}})])})),1)},ln=[],un={name:"mySwiper",methods:{getBookCoverImagePath:function(e){return"".concat(N.Config.packageURL,"/bookcover/").concat(e,"_cover.png")},_showTube:function(e){this.$emit("_showTube",e)}},data:function(){return{step02:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],swiperOptions:{slidesPerView:6,spaceBetween:0,autoplay:{delay:3e3,disableOnInteraction:!0}}}},computed:{swiper:function(){return console.warm(this.$refs.mySwiper.swiper),this.$refs.mySwiper.swiper}},mounted:function(){},props:{}},mn=un,hn=(n("009c"),Object(S["a"])(mn,cn,ln,!1,null,"7b44a24c",null)),dn=hn.exports,pn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("swiper",{ref:"mySwiper",staticClass:"mySwiper",attrs:{options:e.swiperOptions}},e._l(e.step02,(function(t,a){return n("swiper-slide",{key:a,staticClass:"slideBox"},[n("img",{attrs:{src:e.getBookCoverImagePath(2e3+(a+1))},on:{click:function(t){e._showTube({filter:"bookID",id:2e3+(a+1)})}}})])})),1)},fn=[],gn={name:"mySwiper",methods:{getBookCoverImagePath:function(e){return"".concat(N.Config.packageURL,"/bookcover/").concat(e,"_cover.png")},_showTube:function(e){this.$emit("_showTube",e)}},data:function(){return{step02:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16"],swiperOptions:{slidesPerView:6,spaceBetween:0,autoplay:{delay:3e3,disableOnInteraction:!0}}}},computed:{swiper:function(){return console.warm(this.$refs.mySwiper.swiper),this.$refs.mySwiper.swiper}},mounted:function(){},props:{}},vn=gn,bn=(n("c559"),Object(S["a"])(vn,pn,fn,!1,null,"6915ce34",null)),yn=bn.exports,Cn=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mMenu=[{icon:"bedtime",filter:"bs",label:"배드타임 스토리"},{icon:"daddysong",filter:"daddy",label:"대디즈 송"},{icon:"playtime",filter:"ps",label:"플레이 타임 스토리"},{icon:"song",filter:"song",label:"베이비올 송"},{icon:"singalong",filter:"singalong",label:"베이비 노래방"},{icon:"nurseryrhyme",filter:"mew",label:"영어 동요"},{icon:"favorites",filter:"favorite",label:""}],e}return Object(u["a"])(n,[{key:"mounted",value:function(){}},{key:"_onOffSwiper",value:function(e){this.$emit("_onOffSwiper",e)}},{key:"_onSelectFilter",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("SELECT FILTER: ",t),1!=re.isDemoMode){e.next=5;break}"favorite"==t||"mew"==t?j.a.fire({text:"체험판에서는 사용할수 없습니다."}):this.$emit("onShowBabyTube",{filter:t}),e.next=12;break;case 5:if("favorite"!=t){e.next=11;break}return e.next=8,mt.requestItemList({filter:"favorite"});case 8:0==mt.tubeItemList.length?re.popup.showMessageHelp("좋아하는 영상을 즐겨찾기 해주세요."):this.$emit("onShowBabyTube",{filter:t}),e.next=12;break;case 11:this.$emit("onShowBabyTube",{filter:t});case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBookCoverImagePath",value:function(e){return"".concat(N.Config.packageURL,"/bookcover/").concat(e,"_cover.png")}},{key:"_showTube",value:function(e){1==re.isDemoMode&&2004!=e.id?j.a.fire({text:"체험판에서는 사용할수 없습니다."}):this.$emit("onShowBabyTube",e)}}]),n}(p["c"]);Cn=Object(d["a"])([Object(p["a"])({components:{BookListStep1:dn,BookListStep2:yn}})],Cn);var kn=Cn,Sn=kn,wn=(n("83e2"),Object(S["a"])(Sn,rn,sn,!1,null,"60d92299",null)),_n=wn.exports,xn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("swiper",{ref:"mySwiper",staticClass:"mySwiper",attrs:{options:e.swiperOptions}},[n("swiper-slide",{staticClass:"slideBox"},[n("Home",{on:{onShowBabyTube:this.showTubePlayer,onShowAlphabetSchool:e.onShowAlphabetSchool,onSelectHomeMenu:e.onSelectHomeMenu,onShowStoryBook:e.onShowStoryBook}})],1),n("swiper-slide",{staticClass:"slideBox"},[n("BabyTube",{on:{onShowBabyTube:this.showTubePlayer,onShowAlphabetSchool:e.onShowAlphabetSchool,onSelectHomeMenu:e.onSelectHomeMenu,onShowStoryBook:e.onShowStoryBook,_onOffSwiper:e._onOffSwiper}})],1),n("swiper-slide",{staticClass:"slideBox"},[n("StoryBook",{on:{onShowBabyTube:this.showTubePlayer,onShowAlphabetSchool:e.onShowAlphabetSchool,onSelectHomeMenu:e.onSelectHomeMenu,onShowStoryBook:e.onShowStoryBook,_onOffSwiper:e._onOffSwiper}})],1),n("swiper-slide",{staticClass:"slideBox"},[n("AlphabetSchool",{on:{onShowBabyTube:this.showTubePlayer,onShowAlphabetSchool:e.onShowAlphabetSchool,onSelectHomeMenu:e.onSelectHomeMenu,onShowStoryBook:e.onShowStoryBook}})],1)],1)},In=[],On={name:"mySwiper",methods:{showTubePlayer:function(e){this.$emit("onShowBabyTube",e)},onShowAlphabetSchool:function(e){this.$emit("onShowAlphabetSchool",e)},onSelectHomeMenu:function(e){console.log(e),this.$emit("onSelectHomeMenu",e)},onShowStoryBook:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"catch";this.$emit("onShowStoryBook",e,t)},goTabScene:function(){"Home"==this.currentPage&&(this.pageIDX=0),"BabyTube"==this.currentPage&&(this.pageIDX=1),"StoryBook"==this.currentPage&&(this.pageIDX=2),"AlphabetSchool"==this.currentPage&&(this.pageIDX=3),this.swiper.slideTo(this.pageIDX,500,!1)},onTabToSlide:function(){var e=this;me["b"].delayedCall(.25,(function(){e.$emit("onTabToSlide",e.swiper.activeIndex)}))},_onOffSwiper:function(e){this.$refs.mySwiper.swiper.allowClick=e,this.$refs.mySwiper.swiper.allowTouchMove=e}},data:function(){return{swiperOptions:{slidesPerView:1,spaceBetween:0},pageIDX:0}},computed:{swiper:function(){return console.log(this.$refs.mySwiper.swiper),this.$refs.mySwiper.swiper}},mounted:function(){var e=this;console.log("Current Swiper instance object",this.swiper),window.document.onpointerup=function(){e.onTabToSlide()}},components:{Home:vt,StoryBook:Lt,AlphabetSchool:on,BabyTube:_n},watch:{currentPage:function(e,t){e!=t&&this.goTabScene()}},props:{currentPage:String}},Pn=On,Rn=(n("65ad"),Object(S["a"])(Pn,xn,In,!1,null,"c3f894f8",null)),jn=Rn.exports,Dn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"babytubeplayer"},[e.mIsVisible?n("VideoView",{ref:"video",staticClass:"video",attrs:{videoInfo:e.currentPlayInfo},on:{onVideoPlayEnd:e._onVideoPlayEnd,close:e.startVideo}}):e._e(),n("div",{staticClass:"closebtn"},[n("img",{staticClass:"close",attrs:{src:"img/babytube/header_close.png"},on:{click:e._close}}),n("img",{staticClass:"background",attrs:{src:e.getBabyTubeIMG(),alt:""}})]),n("div",{ref:"playlist",staticClass:"playlist"},[n("div",{staticClass:"containerCase"},[n("div",{staticClass:"container",staticStyle:{"overflow-y":"auto",height:"`(${this.playList.length}) *196`"}},e._l(e.playlist,(function(t,a){return n("BabytubeListItem",{key:a,attrs:{info:t},on:{toggleFavorite:e._onToggleFavorite,onSelectVideo:e._onSelectVideo}})})),1)])])],1)},Tn=[],Bn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"BabytubeListItem",on:{click:e._onSelect}},[n("div",{staticClass:"case"},[n("img",{ref:"thumb",staticClass:"thumb",attrs:{src:this._getThumb()}}),n("div",{staticClass:"contents"},[n("div",{staticClass:"category",style:"color:"+e.info.titleColor+"; font-weight:bold;"},[e._v(e._s(e.info.category))]),n("div",{staticClass:"subject"},[e._v(e._s(e.info.subject))]),n("div",{staticClass:"bottom"},[n("span",[e._v(e._s(e.movieLength))]),n("div",{staticClass:"imgCase"},[n("img",{staticClass:"favorite",attrs:{src:!0===this._getFavoriteFlag()?"img/babytube/favorite_on.png":"img/babytube/favorite_off.png"},on:{click:function(t){return t.stopPropagation(),e._onToggleFavorite(t)}}})])])])]),n("img",{staticClass:"bridge",attrs:{src:"img/babytube/list_bridge.png"}})])},Ln=[],An=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.call(this)}return Object(u["a"])(n,[{key:"mounted",value:function(){}},{key:"_getFavoriteFlag",value:function(){return null!=this.info&&this.info.favoriteFlag}},{key:"_getThumb",value:function(){return this.info?this.info.thumb:"img/babytube/no_thumb.png"}},{key:"_onSelect",value:function(){this.$emit("onSelectVideo",this.info)}},{key:"_onToggleFavorite",value:function(){this.$emit("toggleFavorite",this.info)}},{key:"selected",get:function(){if(this.info.selected){var e=this.$el;void 0!==e&&me["b"].to(e.offsetParent,{scrollTop:e.offsetTop,duration:.5})}return this.info.selected}},{key:"movieLength",get:function(){return this.info.movieLength}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({required:!0})],An.prototype,"info",void 0),An=Object(d["a"])([Object(p["a"])({components:{}})],An);var Mn=An,Gn=Mn,En=(n("3f53"),Object(S["a"])(Gn,Bn,Ln,!1,null,"2ba5e579",null)),Xn=En.exports,Hn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"VideoView"},[n("div",{staticClass:"videoBox",on:{click:e._showControl}},[n("video",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],ref:"video",attrs:{crossOrigin:"",autoplay:"",playsinline:""},on:{ended:e._onVideoPlayEnd}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.mShowControl,expression:"mShowControl"}],ref:"control",staticClass:"control",on:{click:function(t){return t.stopPropagation(),e._closeControl(t)}}},[n("img",{staticClass:"play",attrs:{src:this.mIsPlaying?"img/babytube/control_pause.png":"img/babytube/control_play.png"},on:{click:function(t){return t.stopPropagation(),e._onPlayPauseClicked(t)}}}),n("div",{staticClass:"closebtn",on:{click:function(t){return e.close()}}},[n("img",{attrs:{src:"img/babytube/close.png"}})]),n("div",{ref:"bottombar",staticClass:"bottombar",on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"guage"},[n("div",{staticClass:"bg"}),n("div",{staticClass:"time"},[n("span",[e._v(e._s(e.mCurrentT))]),e._v(" "),n("span",{staticClass:"totalT"},[e._v(e._s(e.mTotalT))])]),n("div",{staticClass:"cursor",style:"left: "+e.mCursorPos+"px;"}),n("div",{ref:"evtListener",staticClass:"listener"}),n("div",{ref:"guageBar",staticClass:"bar",style:"width:calc( (100% - 10rem) * "+e.mProgress+" );"})]),n("div",{staticClass:"repeatCount",attrs:{refs:"repeatCount"},on:{click:e._repeatMode}},[e.mLoopModeFlag?e._e():n("img",{attrs:{src:"img/babytube/repeat_"+e.mLoopMode+".png"}}),e.mLoopModeFlag?n("img",{attrs:{src:"img/babytube/repeat_none.png"},on:{click:function(t){return e._changeLoopMode("none")}}}):e._e(),e.mLoopModeFlag?n("img",{attrs:{src:"img/babytube/repeat_one.png"},on:{click:function(t){return e._changeLoopMode("one")}}}):e._e(),e.mLoopModeFlag?n("img",{attrs:{src:"img/babytube/repeat_all.png"},on:{click:function(t){return e._changeLoopMode("all")}}}):e._e()])])])])])},zn=[],Fn=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mIsFullScreen=!1,e.mShowControl=!1,e.mIsPlaying=!1,e.mTotalT="--:--",e.mCurrentT="--:--",e.mProgress=0,e.mCursorPos=0,e.mCursorDowned=!1,e.console="",e.mTouchEndX=0,e.mLoopModeFlag=!1,e.mLoopMode="all",e}return Object(u["a"])(n,[{key:"onChangeVideoURL",value:function(e,t){var n=this;if(me["b"].to(document.getElementsByClassName("videoBox"),{opacity:0,duration:0}),console.log("----\x3e",e,t),this.mDashPlayer&&this.mDashPlayer.reset(),A())this.$refs.video.src=this.videoInfo.mp4,this.$refs.video.autoplay=!0,me["b"].to(document.getElementsByClassName("videoBox"),{delay:1,opacity:1,duration:.5});else{var a=this.videoInfo.movie;this.mDashPlayer=Object(ht["MediaPlayer"])().create(),this.mDashPlayer.initialize(),this.mDashPlayer.attachView(this.$refs.video),this.mDashPlayer.setAutoPlay(!0),this.mDashPlayer.attachSource(a),this.mDashPlayer.on("canPlay",(function(){n.$refs.video.play(),me["b"].to(document.getElementsByClassName("videoBox"),{delay:1,opacity:1,duration:.5})}))}}},{key:"mounted",value:function(){var e=this;if(this.mLoopMode="all",this.mCursorDowned=!1,me["b"].to(this.$el,{height:740,duration:.5}),this.$el.parentElement,this.$refs.video.crossOrigin="",this.$refs.video.src=this.videoInfo.mp4,A())this.$refs.video.autoplay=!0;else{var t=this.videoInfo.movie;this.mDashPlayer=Object(ht["MediaPlayer"])().create(),this.mDashPlayer.initialize(),this.mDashPlayer.attachView(this.$refs.video),this.mDashPlayer.setAutoPlay(!0),this.mDashPlayer.attachSource(t),this.mDashPlayer.on("canPlay",(function(){e.$refs.video.play()}))}window["video"]=this.$refs.video,this.$emit("onToggleVisible",!0),this.$nextTick((function(){var t=e.$refs.video;t.onloadeddata=function(){var n=new Date(1e3*t.duration),a="0"+n.getMinutes(),i="0"+n.getSeconds();e.mTotalT=a.substr(-2)+":"+i.substr(-2)},t.ontimeupdate=function(){var n=new Date(1e3*t.currentTime),a="0"+n.getMinutes(),i="0"+n.getSeconds();if(e.mCurrentT=a.substr(-2)+":"+i.substr(-2),e.mProgress=t.currentTime/t.duration,0==e.mCursorDowned){var o=e.$refs.guageBar;o&&(e.mCursorPos=o.clientWidth)}},t.onplay=function(){e.mIsPlaying=!0},t.onpause=function(){e.mIsPlaying=!1};var n=e.$refs.evtListener;e.$el,n&&(n.onpointerdown=function(t){t.stopPropagation(),e._onGuageDowned(t.offsetX)},n.onpointermove=function(t){t.stopPropagation(),e._onGuageMoved(t.offsetX)},n.onpointerout=function(t){t.stopPropagation(),e._onGuageUp(e.mTouchEndX)},n.onpointerup=function(t){t.stopPropagation(),e._onGuageUp(t.offsetX)},n.onclick=function(t){t.stopPropagation(),e._onGuageUp(t.offsetX)})}))}},{key:"destroyed",value:function(){window["video"]&&(window["video"].pause(),window["video"]=null),console.log("destroyed!")}},{key:"_getLoopImage",value:function(){var e="img/babytube/repeat_all.png";switch(mt.playMode){case ot.None:e="img/babytube/repeat_none.png";break;case ot.LoopOne:e="img/babytube/repeat_one.png";break;case ot.LoopAll:e="img/babytube/repeat_all.png";break}return e}},{key:"_repeatMode",value:function(){this.mLoopModeFlag?me["b"].to(document.getElementsByClassName("repeatCount"),{height:100/3,duration:.1}):me["b"].to(document.getElementsByClassName("repeatCount"),{height:100,duration:.1}),this.mLoopModeFlag=!this.mLoopModeFlag}},{key:"_changeLoopMode",value:function(e){this.mLoopMode=e,mt.selectPlayMode(e)}},{key:"_onVideoPlayEnd",value:function(){"one"==this.mLoopMode?this.$refs.video.currentTime=0:this.$emit("onVideoPlayEnd"),"none"!=this.mLoopMode&&this.play()}},{key:"_showControl",value:function(){var e=this;console.log("_showControl"),this.mShowControl=!0,this.$nextTick((function(){var t=e.$refs.control;t.style.opacity="0",me["b"].to(t,{css:{opacity:1},duration:.5})}))}},{key:"_closeControl",value:function(){var e=this,t=this.$refs.control;me["b"].to(t,{css:{opacity:0},duration:.5,onComplete:function(){e.mShowControl=!1}})}},{key:"_onPlayPauseClicked",value:function(){console.log("play toggled"),this.mIsPlaying?this.$refs.video.pause():this.$refs.video.play(),this.mIsPlaying=!this.mIsPlaying}},{key:"_onGuageDowned",value:function(e){this.mCursorDowned=!0}},{key:"_onGuageMoved",value:function(e){this.mCursorDowned&&(this.mCursorPos=e+10,this.mCursorPos<0&&(this.mCursorPos=0),this.mCursorPos>this.$refs.evtListener.clientWidth&&(this.mCursorPos=this.$refs.evtListener.clientWidth-20),this.mTouchEndX=this.mCursorPos)}},{key:"_onGuageUp",value:function(e){if(!1!==this.mCursorDowned){var t=this.$refs.video;this.mCursorDowned=!1,this.mCursorPos=e+10,this.mCursorPos<0&&(this.mCursorPos=0),this.mCursorPos>this.$refs.evtListener.clientWidth&&(this.mCursorPos=this.$refs.evtListener.clientWidth-20);var n=0;n=this.mCursorPos/this.$refs.evtListener.clientWidth,this.$refs.video.currentTime=this.$refs.video.duration*n,t.buffered.length>0&&(t.buffered.start(0),t.buffered.end(0))}}},{key:"play",value:function(){var e=this.$refs.video;e.currentTime=0,A()&&(e.oncanplay=function(){e.play(),e.oncanplay=null})}},{key:"close",value:function(){var e=this;me["b"].to(this.$el,{height:0,duration:.3}).eventCallback("onComplete",(function(){e.$emit("close")}))}},{key:"video",get:function(){return this.$refs.video}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({required:!0})],Fn.prototype,"videoInfo",void 0),Object(d["a"])([Object(p["d"])("videoInfo")],Fn.prototype,"onChangeVideoURL",null),Fn=Object(d["a"])([Object(p["a"])({components:{}})],Fn);var Vn=Fn,Wn=Vn,Qn=(n("e402"),Object(S["a"])(Wn,Hn,zn,!1,null,"f8f48094",null)),Nn=Qn.exports,$n=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mIsVisible=!1,e.mCurrentItem=null,e.mFullscreen=!1,e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return 1,e.next=3,mt.requestItemList({filter:this.filterData.filter,bookID:this.filterData.id});case 3:mt.selectItem(mt.tubeItemList[0]),this.mPlayStartT=Date.now();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"destroyed",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Math.floor((Date.now()-this.mPlayStartT)/1e3),console.log("TUBE end",(Date.now()-this.mPlayStartT)/1e3),e.next=4,ce.updatePlayTime(t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBabyTubeIMG",value:function(){return"bookID"==this.filterData.filter?this.filterData.id<2001?"img/babytube/header_step1.png":"img/babytube/header_step2.png":"img/babytube/header_".concat(this.filterData.filter,".png")}},{key:"_onVideoPlayEnd",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(mt.currentItemData),-1!=mt.currentItemData.idx&&mt.finish({itemData:mt.currentItemData}),e.next=4,mt.selectNext();case 4:t=e.sent,console.warn("flag",t),t?this.$refs.video.play():this.$refs.video.pause;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_onSelectVideo",value:function(e){mt.selectItem(e),this.startVideo()}},{key:"startVideo",value:function(){this.mIsVisible=!this.mIsVisible}},{key:"_onToggleFavorite",value:function(e){console.log("onToggleFavorite ->",e),e&&mt.toggleFavorite({itemData:e})}},{key:"_close",value:function(){this.$emit("onClose")}},{key:"currentPlayInfo",get:function(){return null==mt.currentItemData?{idx:-1,bookID:0,subject:"",category:"",titleColor:"",thumb:"",mp4:"",movie:"",favoriteFlag:!1,selected:!1}:mt.currentItemData}},{key:"playlist",get:function(){return console.log("+>",mt.tubeItemList),mt.tubeItemList}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])()],$n.prototype,"filterData",void 0),$n=Object(d["a"])([Object(p["a"])({components:{BabytubeListItem:Xn,VideoView:Nn}})],$n);var qn=$n,Un=qn,Yn=(n("ce17"),Object(S["a"])(Un,Dn,Tn,!1,null,"4ebda018",null)),Kn=Yn.exports,Jn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"activityplayer"},[n("canvas",{ref:"stage"})])},Zn=[],ea=n("257e"),ta=n("22a2"),na=n("f7fd");window.PIXI=ta,document.addEventListener("visibilitychange",(function(){0==document.hidden?na["a"].resumeAll():na["a"].pauseAll()})),ta["Container"].prototype.setDebug=function(){};ta["Graphics"];var aa=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"alphabet";return Object(l["a"])(this,n),a=t.call(this,{width:1280,height:720,backgroundColor:0,transparent:!1,view:e}),n._handle=Object(ea["a"])(a),a.mCategory=i,a.mGames=[],a.mCurrentGameIDX=-1,a}return Object(u["a"])(n,[{key:"forceExit",value:function(){window["video"]&&(window["video"].pause(),window["video"]=null),void 0!=this.currentGame.currentScene&&this.currentGame.currentScene.onForceExit(),this.exit()}},{key:"exit",value:function(){me["c"].globalTimeline.clear(),na["a"].stopAll(),this.currentGame.onEndGame(),this.stage.removeChildren(),this.destroy(),this.onCloseApp(),console.error("게임을 종료합니다.")}},{key:"registGame",value:function(e){e&&this.mGames.push(e)}},{key:"executeAppMessage",value:function(e){this.currentGame&&this.currentGame.currentScene.onAppMessage(e)}},{key:"startApp",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=a.length>1&&void 0!==a[1]?a[1]:"",console.log("App start ",n),me["c"].globalTimeline.clear(),na["a"].stopAll(),this.mAppData=t,this.mCurrentGameIDX=""==n?0:this.getGameIndex(n),this.nextGame();case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getGameIndex",value:function(e){var t,n=-1,a=0,i=Object(x["a"])(this.mGames);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.gameName.toLowerCase()==e.toLowerCase()&&(n=a),a+=1}}catch(r){i.e(r)}finally{i.f()}return n}},{key:"goGameByName",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=-1,a=0,i=Object(x["a"])(this.mGames);try{for(i.s();!(o=i.n()).done;)r=o.value,r.gameName.toLowerCase()==t.toLowerCase()&&(n=a),a+=1}catch(s){i.e(s)}finally{i.f()}if(this.mCurrentGameIDX!=n+1){e.next=6;break}return e.abrupt("return");case 6:if(-1==n){e.next=16;break}if(!this.currentGame){e.next=13;break}return me["c"].globalTimeline.clear(),na["a"].stopAll(),e.next=12,this.currentGame.currentScene.onForceExit();case 12:this.currentGame.clear();case 13:this.stage.removeChildren(),this.mCurrentGameIDX=n+1,this.currentGame&&(console.log("call startGame : ",this.mCurrentGameIDX),this.stage.addChild(this.currentGame),this.currentGame.clear(),this.currentGame.onStartGame());case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"nextGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.currentGame){e.next=4;break}return console.log("call endGame : ",this.mCurrentGameIDX),e.next=4,this.currentGame.endGame();case 4:if(this.stage.removeChildren(),!(-1==this.mCurrentGameIDX||this.mCurrentGameIDX>=this.mGames.length)){e.next=8;break}return this.exit(),e.abrupt("return");case 8:this.mCurrentGameIDX+=1,console.log("start game: ",this.mCurrentGameIDX,this.currentGame),this.currentGame&&(console.log("call startGame : ",this.mCurrentGameIDX),this.stage.addChild(this.currentGame),this.currentGame.clear(),this.currentGame.startGame());case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onCloseApp",value:function(){}},{key:"currentCategory",get:function(){return this.mCategory}},{key:"currentGame",get:function(){return void 0===this.mGames[this.mCurrentGameIDX-1]?null:this.mGames[this.mCurrentGameIDX-1]}},{key:"appData",get:function(){return this.mAppData}}],[{key:"Handle",get:function(){return n._handle}}]),n}(ta["Application"]),ia=(n("32f9"),n("38cf"),n("18a5"),n("4fad"),n("3835")),oa=function(){function e(){Object(l["a"])(this,e),this.mResourceViewer={},this.mResourceProduct={}}return Object(u["a"])(e,[{key:"loadViewerResource",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var i=new ta["Loader"];if(void 0!==n.image){var o,r=Object(x["a"])(n.image);try{for(r.s();!(o=r.n()).done;){var s=o.value,c="".concat(t,"/").concat(s),l="".concat(t,"/image/").concat(s);void 0===a.mResourceViewer[c]&&(N.Config.devMode?i.add(c,"".concat(L.packageURL,"/dev_viewer/").concat(l)):i.add(c,"".concat(L.packageURL,"/viewer/").concat(l)))}}catch(D){r.e(D)}finally{r.f()}}if(void 0!==n.sound){var u,m=Object(x["a"])(n.sound);try{for(m.s();!(u=m.n()).done;){var h=u.value,d="".concat(t,"/").concat(h),p="".concat(t,"/sound/").concat(h);void 0===a.mResourceViewer[d]&&(N.Config.devMode?i.add(d,"".concat(L.packageURL,"/dev_viewer/").concat(p)):i.add(d,"".concat(L.packageURL,"/viewer/").concat(p)))}}catch(D){m.e(D)}finally{m.f()}}if(void 0!==n.spine){var f,g=Object(x["a"])(n.spine);try{for(g.s();!(f=g.n()).done;){var v=f.value,b="".concat(t,"/").concat(v),y="".concat(t,"/spine/").concat(v);void 0===a.mResourceViewer[b]&&(N.Config.devMode?i.add(b,"".concat(L.packageURL,"/dev_viewer/").concat(y)):i.add(b,"".concat(L.packageURL,"/viewer/").concat(y)))}}catch(D){g.e(D)}finally{g.f()}}if(void 0!==n.json){var C,k=Object(x["a"])(n.json);try{for(k.s();!(C=k.n()).done;){var S=C.value,w="".concat(t,"/").concat(S),_="".concat(t,"/json/").concat(S);void 0===a.mResourceViewer[w]&&(N.Config.devMode?i.add(w,"".concat(L.packageURL,"/dev_viewer/").concat(_)):i.add(w,"".concat(L.packageURL,"/viewer/").concat(_)))}}catch(D){k.e(D)}finally{k.f()}}if(void 0!==n.movie){var I,O=Object(x["a"])(n.movie);try{for(O.s();!(I=O.n()).done;){var P=I.value,R="".concat(t,"/").concat(P),j="movie/".concat(P);void 0===a.mResourceViewer[R]&&i.add(R,"".concat(L.packageURL,"/").concat(j))}}catch(D){O.e(D)}finally{O.f()}}i.load((function(t,n){for(var o=0,r=Object.entries(n);o<r.length;o++){var s=Object(ia["a"])(r[o],2),c=s[0],l=s[1];void 0===a.mResourceViewer[c]&&(a.mResourceViewer[c]=l),ta["BaseTexture"].removeFromCache(c),ta["Texture"].removeFromCache(c),ta["BaseRenderTexture"].removeFromCache(c)}i.destroy(),e()}))})));case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"loadProductResource",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var i=new ta["Loader"],o=t.split("/"),r=o[0].toLowerCase(),s=1==o.length?o[0].toLowerCase():o[1].toLowerCase();if(void 0!==n.image){var c,l=Object(x["a"])(n.image);try{for(l.s();!(c=l.n()).done;){var u=c.value,m="".concat(r,"/").concat(s,"/").concat(u),h="".concat(r,"/image/").concat(s,"/").concat(u);void 0===a.mResourceProduct[m]&&(N.Config.devMode?i.add(m,"".concat(L.packageURL,"/dev_product/").concat(h)):i.add(m,"".concat(L.packageURL,"/product/").concat(h)))}}catch(A){l.e(A)}finally{l.f()}}if(void 0!==n.sound){var d,p=Object(x["a"])(n.sound);try{for(p.s();!(d=p.n()).done;){var f=d.value,g="".concat(r,"/").concat(s,"/").concat(f),v="".concat(r,"/sound/").concat(f);void 0===a.mResourceProduct[g]&&(N.Config.devMode?i.add(g,"".concat(L.packageURL,"/dev_product/").concat(v)):i.add(g,"".concat(L.packageURL,"/product/").concat(v)))}}catch(A){p.e(A)}finally{p.f()}}if(void 0!==n.spine){var b,y=Object(x["a"])(n.spine);try{for(y.s();!(b=y.n()).done;){var C=b.value,k="".concat(r,"/").concat(s,"/").concat(C),S="".concat(r,"/spine/").concat(s,"/").concat(C);void 0===a.mResourceProduct[k]&&(N.Config.devMode?i.add(k,"".concat(L.packageURL,"/dev_product/").concat(S)):i.add(k,"".concat(L.packageURL,"/product/").concat(S)))}}catch(A){y.e(A)}finally{y.f()}}if(void 0!==n.json){var w,_=Object(x["a"])(n.json);try{for(_.s();!(w=_.n()).done;){var I=w.value,O="".concat(r,"/").concat(s,"/").concat(I),P="".concat(r,"/json/").concat(s,"/").concat(I);void 0===a.mResourceProduct[O]&&(N.Config.devMode?i.add(O,"".concat(L.packageURL,"/dev_product/").concat(P)):i.add(O,"".concat(L.packageURL,"/product/").concat(P)))}}catch(A){_.e(A)}finally{_.f()}}if(void 0!==n.movie){var R,j=Object(x["a"])(n.movie);try{for(j.s();!(R=j.n()).done;){var D=R.value,T="".concat(r,"/").concat(s,"/").concat(D),B="".concat(r,"/movie/").concat(D);void 0===a.mResourceProduct[T]&&i.add(T,"".concat(L.packageURL,"/").concat(B))}}catch(A){j.e(A)}finally{j.f()}}console.log(i),i.load((function(t,n){for(var o=0,r=Object.entries(n);o<r.length;o++){var s=Object(ia["a"])(r[o],2),c=s[0],l=s[1];a.mResourceProduct[c]=l}console.log("%c Complete Product","color:green; font-weight: bold; font-size:1.1rem; letter-space:-0.01rem;"),i.destroy(),e()})),i.onError.add((function(){console.error("load error"),e()}))})));case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getViewerResource",value:function(e){return void 0===this.mResourceViewer[e]?(console.error("뷰어리소스 ".concat(e,"가 로드되어있지 않습니다.")),null):this.mResourceViewer[e]}},{key:"getProductResource",value:function(e){return void 0===this.mResourceProduct[e]?(console.error("프로덕트 리소스 ".concat(e,"가 로드되어있지 않습니다.")),null):this.mResourceProduct[e]}},{key:"destroy",value:function(){this.mResourceViewer=null,this.mResourceProduct=null,ta["utils"].clearTextureCache(),e.sHandle=null}}],[{key:"Handle",get:function(){return e.sHandle||(e.sHandle=null,e.sHandle=new e),e.sHandle}}]),e}();window.PIXI=ta;var ra=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mStarted=!1,e.mBG=new ta["Graphics"],e.mBG.beginFill(13362839),e.mBG.drawRect(0,0,1280,720),e.mBG.endFill(),e.mBG.interactive=!0,e.addChild(e.mBG),e.mBI=new ta["Sprite"],e.mCI=new ta["Sprite"],e.mLoadingBar=new ta["Sprite"],e.mLoadingBarBG=new ta["Sprite"],e.addChild(e.mBI),e.addChild(e.mCI),e.addChild(e.mLoadingBarBG),e.addChild(e.mLoadingBar),e.mCI.position.set(50,50),e.mBI.anchor.set(.5),e.mBI.position.set(640,230),e.mLoadingBar.anchor.set(.5),e.mLoadingBarBG.anchor.set(.5),e.mLoadingBar.position.set(640,410),e.mLoadingBarBG.position.set(640,410),e}return Object(u["a"])(n,[{key:"init",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.mGuideText&&(this.mGuideText.visible=!1),t={image:["bi.png","ci.png","loading_bar.png","loading_bar_bg.png"]},e.next=4,oa.Handle.loadViewerResource("common",t);case 4:this.mBI.texture=oa.Handle.getViewerResource("common/bi.png").texture,this.mCI.texture=oa.Handle.getViewerResource("common/ci.png").texture,this.mLoadingBar.texture=oa.Handle.getViewerResource("common/loading_bar.png").texture,this.mLoadingBarBG.texture=oa.Handle.getViewerResource("common/loading_bar_bg.png").texture,this._createCloseBTN(),this.mNextGameFlag=!0;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_createCloseBTN",value:function(){var e=this,t=new ta["TextStyle"]({fontFamily:"BPreplay",fontSize:24,fill:"#ffffff",padding:10}),n=new ta["TextStyle"]({fontFamily:"BPreplay",fontSize:16,fill:"#000",padding:1});this.mGuideText=new ta["Container"],this.mGuideText.width=1280,this.mGuideText.height=720;var a=new ta["Graphics"];a.beginFill(9683776,1),a.drawRoundedRect(0,0,260,70,50),a.endFill();var i=new ta["Text"]("뒤로 가기",t);i.position.set(a.width/2-i.width/2,a.height/2-i.height/2),a.addChild(i),a.interactive=!0,a.buttonMode=!0,a.on("pointertap",Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.mNextGameFlag=!1,t.next=3,aa.Handle.forceExit();case 3:e.mGuideText.visible=!1,me["c"].to(e,{alpha:0,duration:.5}).eventCallback("onComplete",(function(){e.mLoadingBar.angle=0,e.mSpinAni.kill(),e.visible=!1,e.mNextGameFlag=!0}));case 5:case"end":return t.stop()}}),t)}))));var o=new ta["Text"]("로딩시간이 길어질 시 네트워크 연결상태를 확인하고",n),r=new ta["Text"]("다시 시도해 주세요.",n);a.addChild(o,r),o.position.set(130-o.width/2,-50),r.position.set(130-r.width/2,-30),this.mGuideText.addChild(a),this.mGuideText.position.set(640,576),a.position.x=-130,this.addChild(this.mGuideText),this.mGuideText.visible=!1}},{key:"start",value:function(){var e=this;console.log("loading start"),this.mGuideText.visible=!1,this.mLoadingMinDelayT=Date.now(),this.mStarted=!0,this.alpha=1,this.mSpinAni=me["c"].to(this.mLoadingBar,{angle:360,duration:1}),this.mSpinAni.repeat(-1),me["c"].delayedCall(1,(function(){e.mStarted=!1,e.mGuideText.visible=!0}))}},{key:"end",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){if(t.mGuideText.visible=!1,0==t.mStarted)return e(),!1;t.visible=!0,t.alpha=1,me["c"].to(t,{alpha:0,duration:.5}).eventCallback("onComplete",(function(){return console.log("loading onComplete"),t.mLoadingBar.angle=0,t.mSpinAni.kill(),t.visible=!1,e(),!0}))})));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"nextGameFlag",get:function(){return this.mNextGameFlag}}]),n}(ta["Container"]);n("b0c0");window.PIXI=ta;var sa=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mTitle=new ta["Sprite"],e.mTitle.anchor.set(.5),e.mTitle.position.set(640,360),e.mBG=new ta["Graphics"],e.mBG.interactive=!0,e.mBG.beginFill(0),e.mBG.drawRect(0,0,1280,720),e.mBG.endFill(),e.mBG.alpha=.4,e.mBG.interactive=!0,e.addChild(e.mBG),e.addChild(e.mTitle),e}return Object(u["a"])(n,[{key:"init",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={image:["title_alphabet_block.png","title_alphabet_catch.png","title_alphabet_match.png","title_alphabet_quiz.png","title_alphabet_touch.png","listening_touch.png","making_book.png","reading_match.png","spot_finder.png","story_catch.png","story_movie.png","story_quiz.png"],spine:["common_ready.json"],sound:["alphabet_block.mp3","alphabet_catch.mp3","alphabet_match.mp3","alphabet_quiz.mp3","alphabet_touch.mp3","listening_touch.mp3","making_book.mp3","reading_match.mp3","spot_finder.mp3","story_catch.mp3","story_movie.mp3","story_quiz.mp3","readygo.mp3","twinkle.mp3","321go.mp3","card_inmypocket.mp3","herewego.mp3"]},e.next=3,oa.Handle.loadViewerResource("common",t);case 3:this.mSpine&&this.removeChild(this.mSpine),this.mSpine=new ta["spine"].Spine(oa.Handle.getViewerResource("common/common_ready.json").spineData),this.mSpine.position.set(640,360),this.addChild(this.mSpine),this.mSound={},this.mSound["sfx/readygo"]=oa.Handle.getViewerResource("common/readygo.mp3").sound,this.mSound["sfx/twinkle"]=oa.Handle.getViewerResource("common/twinkle.mp3").sound,this.mSound["sfx/321go"]=oa.Handle.getViewerResource("common/321go.mp3").sound,this.mSound["sfx/card_inmypocket"]=oa.Handle.getViewerResource("common/card_inmypocket.mp3").sound,this.mSound["sfx/herewego"]=oa.Handle.getViewerResource("common/herewego.mp3").sound,this.mSound["al_block"]=oa.Handle.getViewerResource("common/alphabet_block.mp3").sound,this.mSound["al_catch"]=oa.Handle.getViewerResource("common/alphabet_catch.mp3").sound,this.mSound["al_match"]=oa.Handle.getViewerResource("common/alphabet_match.mp3").sound,this.mSound["al_quiz"]=oa.Handle.getViewerResource("common/alphabet_quiz.mp3").sound,this.mSound["al_touch"]=oa.Handle.getViewerResource("common/alphabet_touch.mp3").sound,this.mSound["sb_touch"]=oa.Handle.getViewerResource("common/listening_touch.mp3").sound,this.mSound["sb_makingbook"]=oa.Handle.getViewerResource("common/making_book.mp3").sound,this.mSound["sb_match"]=oa.Handle.getViewerResource("common/reading_match.mp3").sound,this.mSound["sb_finder"]=oa.Handle.getViewerResource("common/spot_finder.mp3").sound,this.mSound["sb_catch"]=oa.Handle.getViewerResource("common/story_catch.mp3").sound,this.mSound["sb_movie"]=oa.Handle.getViewerResource("common/story_movie.mp3").sound,this.mSound["sb_quiz"]=oa.Handle.getViewerResource("common/story_quiz.mp3").sound;case 25:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"titleAniProc",value:function(e){var t=this;return new Promise((function(n,a){switch(e){case"al_block":t.mTitle.texture=oa.Handle.getViewerResource("common/title_alphabet_block.png").texture;break;case"al_catch":t.mTitle.texture=oa.Handle.getViewerResource("common/title_alphabet_catch.png").texture;break;case"al_match":t.mTitle.texture=oa.Handle.getViewerResource("common/title_alphabet_match.png").texture;break;case"al_quiz":t.mTitle.texture=oa.Handle.getViewerResource("common/title_alphabet_quiz.png").texture;break;case"al_touch":t.mTitle.texture=oa.Handle.getViewerResource("common/title_alphabet_touch.png").texture;break;case"sb_touch":t.mTitle.texture=oa.Handle.getViewerResource("common/listening_touch.png").texture;break;case"sb_makingbook":t.mTitle.texture=oa.Handle.getViewerResource("common/making_book.png").texture;break;case"sb_match":t.mTitle.texture=oa.Handle.getViewerResource("common/reading_match.png").texture;break;case"sb_finder":t.mTitle.texture=oa.Handle.getViewerResource("common/spot_finder.png").texture;break;case"sb_catch":t.mTitle.texture=oa.Handle.getViewerResource("common/story_catch.png").texture;break;case"sb_movie":t.mTitle.texture=oa.Handle.getViewerResource("common/story_movie.png").texture;break;case"sb_quiz":t.mTitle.texture=oa.Handle.getViewerResource("common/story_quiz.png").texture;break;default:return void n()}t.mTitle.scale.set(.2),t.mTitle.alpha=0,void 0!==t.mSound[e]&&t.mSound[e].play(),me["c"].to(t.mTitle.scale,{x:1,y:1,duration:1,ease:"bounce"}),me["c"].to(t.mTitle,{alpha:1,duration:1}),me["c"].to(t.mTitle.scale,{delay:1.5,x:1.5,y:1.5,duration:.5}),me["c"].to(t.mTitle,{delay:1.5,alpha:0,duration:.5}).eventCallback("onComplete",(function(){n()}))}))}},{key:"spineAniProc",value:function(e){var t=this;return new Promise((function(n,a){switch(t.mSpine.state.addListener({event:function(e,n){console.warn("Spine Event:",n.data.name),void 0!==t.mSound[n.data.name]&&t.mSound[n.data.name].play()},complete:function(e){n()}}),e){case 0:t.mSpine.state.setAnimation(0,"ready01",!1);break;case 1:t.mSpine.state.setAnimation(0,"ready02",!1);break;case 2:t.mSpine.state.setAnimation(0,"ready03",!1);break;default:n();break}}))}},{key:"start",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("ready start",t,n),e.next=3,this.titleAniProc(n);case 3:return e.next=5,this.spineAniProc(t);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(ta["Container"]);window.PIXI=ta;var ca=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mBG=new ta["Graphics"],e.mBG.beginFill(0),e.mBG.drawRect(0,0,1280,720),e.mBG.endFill(),e.mBG.alpha=.4,e.addChild(e.mBG),e.mBG.interactive=!0,e}return Object(u["a"])(n,[{key:"init",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.removeChild(this.mSpine),this.removeChild(this.mButton),n={image:["btn_eop_ok.png"],spine:["common_eop.json","common_eop_sb.json"],sound:["1eop_ending.mp3","2eop_text.mp3","321go.mp3","eop_goodjob.mp3","4eop_gone.mp3","3eop_nut.mp3"]},e.next=5,oa.Handle.loadViewerResource("common",n);case 5:this.mSpine=t?new ta["spine"].Spine(oa.Handle.getViewerResource("common/common_eop_sb.json").spineData):new ta["spine"].Spine(oa.Handle.getViewerResource("common/common_eop.json").spineData),this.mSpine.position.set(640,360),this.mButton=new ta["Sprite"](oa.Handle.getViewerResource("common/btn_eop_ok.png").texture),this.mButton.interactive=!0,this.mButton.buttonMode=!0,this.mButton.anchor.set(.5),this.mButton.position.set(640,560),this.mSound={},this.mSound["sfx/1eop_ending"]=oa.Handle.getViewerResource("common/1eop_ending.mp3").sound,this.mSound["sfx/2eop_text"]=oa.Handle.getViewerResource("common/2eop_text.mp3").sound,this.mSound["sfx/eop_goodjob"]=oa.Handle.getViewerResource("common/eop_goodjob.mp3").sound,this.mSound["sfx/4eop_gone"]=oa.Handle.getViewerResource("common/4eop_gone.mp3").sound,this.mSound["sfx/3eop_nut"]=oa.Handle.getViewerResource("common/3eop_nut.mp3").sound;case 18:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clear",value:function(){this.removeChild(this.mSpine),this.removeChild(this.mButton)}},{key:"start",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("eop start",t),e.abrupt("return",new Promise((function(e,a){n.mSpine.state.addListener({event:function(e,t){console.log("Spine Event:",t.data.name),void 0!==n.mSound[t.data.name]&&n.mSound[t.data.name].play()},complete:function(a){1==t&&(n.mSpine.state.clearListeners(),e()),0==t&&(n.mButton.interactive=!0,n.mButton.visible=!0,n.mButton.once("pointertap",(function(){n.mSpine.state.clearListeners(),e()})),n.mButton.scale.set(.01),me["c"].to(n.mButton.scale,{x:1,y:1,duration:1,ease:"bounce.out"}))}}),0==t?(n.addChild(n.mSpine),n.addChild(n.mButton),n.mButton.interactive=!1,n.mButton.visible=!1,n.mSpine.state.setAnimation(0,"eop02",!1)):(n.addChild(n.mSpine),n.mSpine.state.setAnimation(0,"eop01",!1))})));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(ta["Container"]);function la(e,t){if("alphabet"==e){if("catch"==t)return 4;if("match"==t)return 4;if("touch"==t)return 4;if("block"==t)return 4;if("quiz"==t)return 4}if("storybooks"==e){if("movie"==t)return 2;if("catch"==t)return 3;if("touch"==t)return 3;if("match"==t)return 4;if("finder"==t)return 5;if("quiz"==t)return 4;if("makingbook"==t)return 4}return 0}var ua=[!1,!1,!1,!1,!1,!1,!1],ma=new PIXI.TextStyle({fontFamily:"Arial",fontSize:50,fontWeight:"bold",fill:"#000000"}),ha=[[-303,-157],[-450,52],[-160,185],[-30,-27],[185,-150],[453,90],[265,198]],da=["movie","catch","touch","match","finder","quiz","makingbook"],pa=[[-360,238],[390,-95],[75,190]],fa=[[-405,55],[10,59],[265,80]],ga=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mTexOn=oa.Handle.getViewerResource("common/star.png").texture,e.mTexOff=oa.Handle.getViewerResource("common/star_dis.png").texture,e.anchor.set(.5),e.texture=e.mTexOff,e}return Object(u["a"])(n,[{key:"showImmediately",value:function(){this.mAniTween&&this.mAniTween.kill(),this.texture=this.mTexOn,this.scale.set(1),this.mAniTween=me["c"].to(this.scale,{x:1.2,y:1.2,duration:1.5}).yoyo(!0).repeat(-1)}},{key:"close",value:function(){this.texture=this.mTexOff,this.mAniTween&&(this.mAniTween.kill(),this.mAniTween=null)}}]),n}(PIXI.Sprite),va=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this),a.mTexOn=oa.Handle.getViewerResource("common/icon_0".concat(e,".png")).texture,a.mTexOff=oa.Handle.getViewerResource("common/icon_dis0".concat(e,".png")).texture,a.mTexTitleOn=oa.Handle.getViewerResource("common/title_0".concat(e,".png")).texture,a.mTexTitleOff=oa.Handle.getViewerResource("common/title_dis0".concat(e,".png")).texture,a.mIconImageSet=new PIXI.Container,a.addChild(a.mIconImageSet),a.mIconEffect=new PIXI.spine.Spine(oa.Handle.getViewerResource("common/common_map_light.json").spineData),a.mIconEffect.visible=!1,a.mIconEffect.state.setAnimation(0,"animation",!0),a.mIconImageSet.addChild(a.mIconEffect),a.mIconImage=new PIXI.Sprite(a.mTexOff),a.mIconImage.anchor.set(.5),a.mIconImageSet.addChild(a.mIconImage),a.mTitle=new PIXI.Sprite(a.mTexTitleOff),a.mTitle.anchor.set(.5),a.mTitle.y=80,a.addChild(a.mTitle),a.interactive=!0,a.buttonMode=!0,a.on("pointertap",(function(t){a.mIconImage.texture==a.mTexOn&&(da[e-1].toLowerCase()==aa.Handle.currentGame.gameName.toLowerCase()?a.emit("cancel"):aa.Handle.goGameByName(da[e-1]),t.stopPropagation())})),a}return Object(u["a"])(n,[{key:"select",value:function(e){e?this.mAniTween=me["c"].to(this.mIconImageSet.scale,{x:1.2,y:1.2,duration:.5}).yoyo(!0).repeat(-1):this.mAniTween&&(this.mAniTween.kill(),this.mAniTween=null)}},{key:"showImmediately",value:function(){this.mIconImage.texture=this.mTexOn,this.mTitle.texture=this.mTexTitleOn,this.mIconEffect.visible=!0,this.scale.set(1)}},{key:"close",value:function(){this.mIconImage.texture=this.mTexOff,this.mTitle.texture=this.mTexTitleOff,this.mIconEffect.visible=!1}}]),n}(PIXI.Container),ba=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this),a.mTexOn=oa.Handle.getViewerResource("common/road_0".concat(e,".png")).texture,a.mTexOff=oa.Handle.getViewerResource("common/road_dis0".concat(e,".png")).texture,a.anchor.set(.5),a.texture=a.mTexOff,a}return Object(u["a"])(n,[{key:"showImmediately",value:function(){this.texture=this.mTexOn,this.scale.set(1)}},{key:"close",value:function(){this.texture=this.mTexOff}}]),n}(PIXI.Sprite),ya=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mImage=new PIXI.Sprite(oa.Handle.getViewerResource("common/position.png").texture),e.addChild(e.mImage),e.mImage.anchor.set(.5,1),me["c"].to(e.mImage,{y:-10,duration:1}).yoyo(!0).repeat(-1),e.visible=!1,e}return Object(u["a"])(n,[{key:"show",value:function(e){this.visible=!0,this.position.set(e.x,e.y-50)}}]),n}(PIXI.Container),Ca=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;Object(l["a"])(this,n),e=t.call(this),e.mBG=new PIXI.Sprite(oa.Handle.getViewerResource("common/story_books_bg.png").texture),e.mBG.anchor.set(.5),e.mBG.interactive=!0,e.addChild(e.mBG),e.mRoad=[];for(var a=0;a<3;a++){var i=new ba(a+1);i.anchor.set(.5),i.position.set(fa[a][0],fa[a][1]),e.addChild(i),e.mRoad.push(i)}e.mIcons=[];for(var o=0;o<7;o++){var r=new va(o+1);r.on("cancel",(function(){e.emit("cancel")})),r.position.set(ha[o][0],ha[o][1]),e.addChild(r),e.mIcons.push(r)}e.mStar=[];for(var s=0;s<3;s++){var c=new ga;c.position.set(pa[s][0],pa[s][1]),e.addChild(c),e.mStar.push(c)}return e.mSBCursor=new ya,e.addChild(e.mSBCursor),e.position.set(690,360),e.visible=!1,e}return Object(u["a"])(n,[{key:"show",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1!=this.visible){e.next=2;break}return e.abrupt("return");case 2:if(t=0,!1!==re.isDemoMode){e.next=11;break}return e.next=6,wt.getFinishResultInfoData();case 6:void 0===wt.finishResultData[aa.Handle.appData.bookID].cpltAcvtCnt&&(wt.finishResultData[aa.Handle.appData.bookID].cpltAcvtCnt=0),console.log("--\x3e",wt.finishResultData[aa.Handle.appData.bookID].cpltAcvtCnt),t=wt.finishResultData[aa.Handle.appData.bookID].cpltAcvtCnt,e.next=12;break;case 11:t=7;case 12:for(n=0;n<ua.length;n++)ua[n]=n<t;for(a=0;a<ua.length;a++)ua[a]&&(this.mIcons[a].showImmediately(),this.mIcons[a].select(!1));for(i=aa.Handle.currentGame.gameName,"movie"==i?(this.mSBCursor.show(this.mIcons[0]),this.mIcons[0].showImmediately(),this.mIcons[0].select(!0)):"catch"==i?(this.mSBCursor.show(this.mIcons[1]),this.mIcons[1].showImmediately(),this.mIcons[1].select(!0)):"touch"==i?(this.mSBCursor.show(this.mIcons[2]),this.mIcons[2].showImmediately(),this.mIcons[2].select(!0)):"match"==i?(this.mSBCursor.show(this.mIcons[3]),this.mIcons[3].showImmediately(),this.mIcons[3].select(!0)):"finder"==i?(this.mSBCursor.show(this.mIcons[4]),this.mIcons[4].showImmediately(),this.mIcons[4].select(!0)):"quiz"==i?(this.mSBCursor.show(this.mIcons[5]),this.mIcons[5].showImmediately(),this.mIcons[5].select(!0)):"makingbook"==i&&(this.mSBCursor.show(this.mIcons[6]),this.mIcons[6].showImmediately(),this.mIcons[6].select(!0)),console.log("->SBClearTable",ua),o=0;o<ue.howtoData[aa.Handle.currentCategory].length;o++)ue.howtoData[aa.Handle.currentCategory][o]=ua[o];console.log("->howtoData",ue.howtoData[aa.Handle.currentCategory]),ua[0]&&ua[1]&&(this.mRoad[0].showImmediately(),this.mStar[0].showImmediately()),ua[0]&&ua[1]&&ua[2]&&ua[3]&&ua[4]&&(this.mRoad[1].showImmediately(),this.mStar[1].showImmediately()),ua[0]&&ua[1]&&ua[2]&&ua[3]&&ua[4]&&ua[5]&&ua[6]&&(this.mRoad[2].showImmediately(),this.mStar[2].showImmediately()),this.visible=!0,this.alpha=0,this.mAniTween&&(this.mAniTween.kill(),this.mAniTween=null),this.mAniTween=me["c"].to(this,{alpha:1,duration:.2});case 26:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){var e=this;0!=this.visible&&(this.alpha=1,this.mAniTween&&(this.mAniTween.kill(),this.mAniTween=null),this.mAniTween=me["c"].to(this,{alpha:0,duration:.5}).eventCallback("onComplete",(function(){e.visible=!1})))}}]),n}(PIXI.Container),ka=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mHowtoButton=new PIXI.Sprite(oa.Handle.getViewerResource("common/btn_howto.png").texture),e.mHowtoButton.buttonMode=!0,e.mHowtoButton.anchor.set(.5),e.mHowtoButton.position.set(0,0),e.mHowtoButton.on("pointertap",(function(t){1==e.mQuitButton.interactive&&(e.onShowHowto(),t.stopPropagation())})),e.mQuitButton=new PIXI.Sprite(oa.Handle.getViewerResource("common/btn_quit.png").texture),e.mQuitButton.buttonMode=!0,e.mQuitButton.anchor.set(.5),e.mQuitButton.position.set(0,0),e.mQuitButton.on("pointertap",(function(t){1==e.mQuitButton.interactive&&(e.onShowQuit(),t.stopPropagation())})),e.addChild(e.mQuitButton),e.addChild(e.mHowtoButton),e}return Object(u["a"])(n,[{key:"show",value:function(){var e=this;return new Promise((function(t,n){e.mHowtoButton.y=0,e.mQuitButton.visible=!1,me["c"].to(e.mHowtoButton,{y:100,duration:.2}),me["c"].delayedCall(.2,(function(){e.mQuitButton.visible=!0,e.mQuitButton.y=100})),me["c"].to(e.mQuitButton,{delay:.2,y:200,duration:.5}).eventCallback("onComplete",(function(){e.mHowtoButton.interactive=!0,e.mQuitButton.interactive=!0,t()}))}))}},{key:"close",value:function(){var e=this;return new Promise((function(t,n){e.interactive=!1,e.mHowtoButton.interactive=!1,e.mQuitButton.interactive=!1,me["c"].to(e.mQuitButton,{y:100,duration:.2}),me["c"].delayedCall(.2,(function(){e.mQuitButton.visible=!1})),me["c"].to(e.mHowtoButton,{delay:.2,y:0,duration:.2}).eventCallback("onComplete",(function(){t()}))}))}},{key:"onShowQuit",value:function(){}},{key:"onShowHowto",value:function(){}}]),n}(PIXI.Container),Sa=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;Object(l["a"])(this,n),e=t.call(this),e.mCurrentPageIDX=0,e.mPageCount=0,e.mBG=new PIXI.Sprite(oa.Handle.getViewerResource("common/howto_bg.png").texture),e.mBG.pivot.set(558.5,335),e.addChild(e.mBG),e.mPageContainer=new PIXI.Container,e.mPageContainer.x=-500,e.mPageContainer.y=-250,e.addChild(e.mPageContainer);var a=new PIXI.Graphics;a.beginFill(13421772,.5),a.drawRect(0,0,1002,510),a.endFill(),e.mPageContainer.mask=a,e.mPageContainer.addChild(a);var i=new PIXI.Graphics;i.beginFill(13421772),i.drawRect(0,0,481,503),i.endFill(),i.alpha=0,i.interactive=!0,i.buttonMode=!0,i.on("pointerdown",(function(){return e.scrollLeft()}));var o=new PIXI.Graphics;return o.beginFill(13421772),o.drawRect(0,0,481,503),o.endFill(),o.x=521,o.alpha=0,o.interactive=!0,o.buttonMode=!0,o.on("pointerdown",(function(){return e.scrollRight()})),e.mPageContainer.addChild(i),e.mPageContainer.addChild(o),e.mPageAnchor=new PIXI.Container,e.mPageContainer.addChild(e.mPageAnchor),e.mPagenationAnchor=new PIXI.Container,e.addChild(e.mPagenationAnchor),e.position.set(670,355),e.interactive=!0,e.buttonMode=!0,e.on("pointertap",(function(e){e.stopPropagation()})),e.visible=!1,e}return Object(u["a"])(n,[{key:"scrollRight",value:function(){if(this.mCurrentPageIDX<this.mPageCount-1){this.mCurrentPageIDX+=1,me["c"].to(this.mPageAnchor,{duration:.5,x:521*-this.mCurrentPageIDX});for(var e=0;e<this.mPagenations.length;e++)e==this.mCurrentPageIDX?(this.mPagenations[e].texture=oa.Handle.getViewerResource("common/point_blue.png").texture,this.mPagenations[e].scale.set(.5),me["c"].to(this.mPagenations[e].scale,{duration:.5,x:1,y:1})):this.mPagenations[e].texture=oa.Handle.getViewerResource("common/point_gray.png").texture}}},{key:"scrollLeft",value:function(){if(this.mCurrentPageIDX>0){this.mCurrentPageIDX-=1,me["c"].to(this.mPageAnchor,{duration:.5,x:521*-this.mCurrentPageIDX});for(var e=0;e<this.mPagenations.length;e++)e==this.mCurrentPageIDX?(this.mPagenations[e].texture=oa.Handle.getViewerResource("common/point_blue.png").texture,this.mPagenations[e].scale.set(.5),me["c"].to(this.mPagenations[e].scale,{duration:.5,x:1,y:1})):this.mPagenations[e].texture=oa.Handle.getViewerResource("common/point_gray.png").texture}}},{key:"show",value:function(){0!=this.mPageCount&&1!=this.visible&&(this.visible=!0,this.alpha=0,this.scale.set(0),me["c"].to(this,{alpha:1,duration:.5}),me["c"].to(this.scale,{x:1,y:1,duration:1,ease:"Bounce.easeOut"}))}},{key:"initPage",value:function(e){if(this.mCurrentPageIDX=0,this.mPageCount=e.length,0!=this.mPageCount){var t=0;this.mPageAnchor.removeChildren(),this.mPagenationAnchor.removeChildren(),this.mPagenations=[];var n,a=0,i=Object(x["a"])(e);try{for(i.s();!(n=i.n()).done;){var o=n.value,r=new PIXI.Sprite(o);r.x=t;var s=new PIXI.Sprite(oa.Handle.getViewerResource("common/point_gray.png").texture);if(s.anchor.set(.5),s.x=30*a,this.mPagenations.push(s),this.mPageAnchor.addChild(r),this.mPagenationAnchor.addChild(s),o!=e[e.length-1]){t+=r.width+40;var c=new PIXI.Sprite(oa.Handle.getViewerResource("common/line.png").texture);c.x=t-20,this.mPageAnchor.addChild(c)}a+=1}}catch(l){i.e(l)}finally{i.f()}this.mPagenations[0].texture=oa.Handle.getViewerResource("common/point_blue.png").texture,this.mPagenationAnchor.y=270,this.mPagenationAnchor.x=-(this.mPagenationAnchor.getLocalBounds().width-this.mPagenationAnchor.getLocalBounds().x)/2+15}}},{key:"close",value:function(){var e=this;0!=this.visible&&(this.alpha=1,me["c"].to(this,{alpha:0,duration:.2}).eventCallback("onComplete",(function(){me["c"].to(e.mPageAnchor,{duration:.5,x:0}),e.visible=!1})))}}]),n}(PIXI.Container),wa=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mDimmed=new PIXI.Graphics,e.mDimmed.beginFill(0,.3),e.mDimmed.drawRect(0,0,1280,720),e.mDimmed.endFill(),e.mDimmed.interactive=!0,e.addChild(e.mDimmed),e.mContainer=new PIXI.Container,e.addChild(e.mContainer),e.mBG=new ta["NineSlicePlane"](oa.Handle.getViewerResource("common/img_popupbox.png").texture,60,120,60,120),e.mBG.width=466,e.mBG.height=360,e.mBG.interactive=!0,e.mBG.pivot.set(233,180),e.mContainer.addChild(e.mBG),e.mText=new PIXI.Text("Quit?",ma),e.mText.anchor.set(.5),e.mText.position.set(10,-5),e.mContainer.addChild(e.mText),e.mBI=new PIXI.Sprite(oa.Handle.getViewerResource("common/bi.png").texture),e.mBI.anchor.set(.5),e.mBI.position.set(0,-130),e.mBI.scale.set(.6),e.mContainer.addChild(e.mBI),e.mOKButton=new PIXI.Sprite(oa.Handle.getViewerResource("common/btn_quit_o.png").texture),e.mOKButton.anchor.set(.5),e.mOKButton.position.set(-97,126),e.mOKButton.interactive=!0,e.mOKButton.buttonMode=!0,e.mCloseButton=new PIXI.Sprite(oa.Handle.getViewerResource("common/btn_quit_x.png").texture),e.mCloseButton.anchor.set(.5),e.mCloseButton.position.set(97,126),e.mCloseButton.interactive=!0,e.mCloseButton.buttonMode=!0,e.mContainer.addChild(e.mOKButton),e.mContainer.addChild(e.mCloseButton),e.mContainer.position.set(640,360),e.mOKButton.on("pointertap",Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.mOKButton.interactive=!1,e.mCloseButton.interactive=!1,t.next=4,aa.Handle.forceExit();case 4:case"end":return t.stop()}}),t)})))),e.mCloseButton.on("pointertap",(function(){e.mOKButton.interactive=!1,e.mCloseButton.interactive=!1,e.close()})),e.visible=!1,e}return Object(u["a"])(n,[{key:"show",value:function(){1!=this.visible&&(this.mOKButton.interactive=!0,this.mCloseButton.interactive=!0,this.visible=!0,this.alpha=0,this.mContainer.scale.set(0),me["c"].to(this,{alpha:1,duration:.5}),me["c"].to(this.mContainer.scale,{x:1,y:1,duration:1,ease:"Bounce.easeOut"}))}},{key:"close",value:function(){var e=this;0!=this.visible&&(this.alpha=1,me["c"].to(this,{alpha:0,duration:.2}).eventCallback("onComplete",(function(){e.visible=!1})))}}]),n}(PIXI.Container),_a=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mCloseFlag=!0,e}return Object(u["a"])(n,[{key:"init",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={image:["btn_menu.png","btn_menu_gray.png","btn_howto.png","img_popupbox.png","bi.png","btn_quit_o.png","btn_quit_x.png","howto_bg.png","line.png","point_blue.png","point_gray.png","btn_quit.png","icon_01.png","icon_02.png","icon_03.png","icon_04.png","icon_05.png","icon_06.png","icon_07.png","icon_dis01.png","icon_dis02.png","icon_dis03.png","icon_dis04.png","icon_dis05.png","icon_dis06.png","icon_dis07.png","title_01.png","title_02.png","title_03.png","title_04.png","title_05.png","title_06.png","title_07.png","title_dis01.png","title_dis02.png","title_dis03.png","title_dis04.png","title_dis05.png","title_dis06.png","title_dis07.png","position.png","road_01.png","road_02.png","road_03.png","road_dis01.png","road_dis02.png","road_dis03.png","star.png","star_dis.png","story_books_bg.png"],spine:["common_map_light.json"],sound:[]},e.next=3,oa.Handle.loadViewerResource("common",t);case 3:this.removeChildren(),this.mContainer=new PIXI.Container,this.mContainer.visible=!1,this.addChild(this.mContainer),n=new PIXI.Graphics,n.beginFill(0,.6),n.drawRect(0,0,1280,720),n.endFill(),n.interactive=!0,n.on("pointerup",Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a.mCloseFlag){e.next=4;break}return a.mCloseFlag=!1,e.next=4,a.close();case 4:case"end":return e.stop()}}),e)})))),this.mContainer.addChild(n),this.mMenuButtonGroup=new ka,this.mMenuButtonGroup.position.set(50,50),this.mMenuButtonGroup.onShowQuit=function(){a.mQuitPopup.show(),a.mHowtoPopup.close()},this.mMenuButtonGroup.onShowHowto=function(){a.mQuitPopup.close(),a.mHowtoPopup.show()},this.mContainer.addChild(this.mMenuButtonGroup),this.mMenuButton=new PIXI.Sprite(oa.Handle.getViewerResource("common/btn_menu.png").texture),this.mMenuButton.interactive=!0,this.mMenuButton.buttonMode=!0,this.mMenuButton.anchor.set(.5),this.mMenuButton.position.set(50,50),this.addChild(this.mMenuButton),this.mCloseFlag=!0,this.mMenuButton.on("pointertap",function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a.mCloseFlag){e.next=9;break}if(a.mCloseFlag=!1,1!=a.mContainer.visible){e.next=7;break}return e.next=5,a.close();case 5:e.next=9;break;case 7:return e.next=9,a.show();case 9:t.stopPropagation();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.mStoryBookMap=new Ca,this.mStoryBookMap.on("cancel",(function(){return a.close()})),this.addChild(this.mStoryBookMap),this.mHowtoPopup=new Sa,this.addChild(this.mHowtoPopup),this.mQuitPopup=new wa,this.addChild(this.mQuitPopup);case 34:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"show",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=[],n=la(aa.Handle.currentCategory,aa.Handle.currentGame.gameName),console.log(aa.Handle.currentGame),a=0;a<n;a++)t.push(aa.Handle.currentGame.getViewerResource("howto0".concat(a+1,".png")).texture);this.mHowtoPopup.initPage(t),this.mMenuButton.texture=oa.Handle.getViewerResource("common/btn_menu_gray.png").texture,aa.Handle.currentGame.currentScene.onPauseStart(),this.mContainer.visible=!0,this.mContainer.alpha=0,me["c"].to(this.mContainer,{alpha:1,duration:.5}).eventCallback("onComplete",Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"storybooks"==aa.Handle.appData.category&&i.mStoryBookMap.show(),e.next=3,i.mMenuButtonGroup.show();case 3:i.mCloseFlag=!0;case 4:case"end":return e.stop()}}),e)}))));case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.mMenuButton.texture=oa.Handle.getViewerResource("common/btn_menu.png").texture,aa.Handle.currentGame.currentScene.onPauseEnd(),"storybooks"==aa.Handle.appData.category&&this.mStoryBookMap.close(),this.mQuitPopup.close(),this.mHowtoPopup.close(),this.mContainer.visible=!0,this.mContainer.alpha=1,e.next=9,this.mMenuButtonGroup.close();case 9:me["c"].to(this.mContainer,{alpha:0,duration:.5}).eventCallback("onComplete",(function(){t.mContainer.visible=!1,t.mCloseFlag=!0}));case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onShow",value:function(){}},{key:"onClose",value:function(){}},{key:"howToPopup",get:function(){return this.mHowtoPopup}},{key:"closeFlag",get:function(){return this.mCloseFlag}}]),n}(PIXI.Container),xa=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mCurrentPageIDX=0,e.mPageCount=0,e}return Object(u["a"])(n,[{key:"init",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.visible=!0,n={image:["btn_eop_ok.png","howto_bg.png","btn_x.jpg"],spine:["common_eop.json","common_eop_sb.json"],sound:["1eop_ending.mp3","2eop_text.mp3","321go.mp3","eop_goodjob.mp3","4eop_gone.mp3","3eop_nut.mp3"]},e.next=4,oa.Handle.loadViewerResource("common",n);case 4:return e.next=6,this.setting();case 6:return e.next=8,this.initPage(t);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setting",value:function(){var e=this;this.mDimmed=new PIXI.Graphics,this.mDimmed.beginFill(0,.6),this.mDimmed.drawRect(-640,-360,1280,720),this.mDimmed.endFill(),this.addChild(this.mDimmed),this.mDimmed.interactive=!0,this.mBG=new PIXI.Sprite(oa.Handle.getViewerResource("common/howto_bg.png").texture),this.mBG.pivot.set(this.mBG.width/2,this.mBG.height/2),this.addChild(this.mBG),this.mCloseButton=new PIXI.Sprite(oa.Handle.getViewerResource("common/btn_x.jpg").texture),this.mCloseButton.anchor.set(.5),this.mCloseButton.position.set(this.mBG.width-40,60),this.mCloseButton.hitArea=new PIXI.Rectangle(-this.mCloseButton.width,-this.mCloseButton.height,2*this.mCloseButton.width,2*this.mCloseButton.height),this.mCloseButton.interactive=!0,this.mCloseButton.buttonMode=!0,this.mBG.addChild(this.mCloseButton),this.mPageContainer=new PIXI.Container,this.mPageContainer.x=-500,this.mPageContainer.y=-250,this.addChild(this.mPageContainer);var t=new PIXI.Graphics;t.beginFill(13421772,.5),t.drawRect(0,0,1002,510),t.endFill(),this.mPageContainer.mask=t,this.mPageContainer.addChild(t);var n=new PIXI.Graphics;n.beginFill(13421772),n.drawRect(0,0,481,503),n.endFill(),n.alpha=0,n.interactive=!0,n.buttonMode=!0,n.on("pointerdown",(function(){return e.scrollLeft()}));var a=new PIXI.Graphics;a.beginFill(13421772),a.drawRect(0,0,481,503),a.endFill(),a.x=521,a.alpha=0,a.interactive=!0,a.buttonMode=!0,a.on("pointerdown",(function(){return e.scrollRight()})),this.mPageContainer.addChild(n),this.mPageContainer.addChild(a),this.mPageAnchor=new PIXI.Container,this.mPageContainer.addChild(this.mPageAnchor),this.mPagenationAnchor=new PIXI.Container,this.addChild(this.mPagenationAnchor),this.position.set(640,360),this.alpha=0,this.interactive=!0,this.on("pointertap",(function(e){e.stopPropagation()})),this.mBG.interactive=!0,this.mBG.on("pointerdown",(function(e){e.stopPropagation()}))}},{key:"scrollRight",value:function(){if(this.mCurrentPageIDX<this.mPageCount-1){this.mCurrentPageIDX+=1,me["c"].to(this.mPageAnchor,{duration:.5,x:521*-this.mCurrentPageIDX});for(var e=0;e<this.mPagenations.length;e++)e==this.mCurrentPageIDX?(this.mPagenations[e].texture=oa.Handle.getViewerResource("common/point_blue.png").texture,this.mPagenations[e].scale.set(.5),me["c"].to(this.mPagenations[e].scale,{duration:.5,x:1,y:1})):this.mPagenations[e].texture=oa.Handle.getViewerResource("common/point_gray.png").texture}}},{key:"scrollLeft",value:function(){if(this.mCurrentPageIDX>0){this.mCurrentPageIDX-=1,me["c"].to(this.mPageAnchor,{duration:.5,x:521*-this.mCurrentPageIDX});for(var e=0;e<this.mPagenations.length;e++)e==this.mCurrentPageIDX?(this.mPagenations[e].texture=oa.Handle.getViewerResource("common/point_blue.png").texture,this.mPagenations[e].scale.set(.5),me["c"].to(this.mPagenations[e].scale,{duration:.5,x:1,y:1})):this.mPagenations[e].texture=oa.Handle.getViewerResource("common/point_gray.png").texture}}},{key:"initPage",value:function(e){var t=this;return new Promise((function(n,a){if(me["c"].to(t,{alpha:1,duration:.5}),t.mCurrentPageIDX=0,t.mPageCount=e.length,0!=t.mPageCount){var i=0;t.mPageAnchor.removeChildren(),t.mPagenationAnchor.removeChildren(),t.mPagenations=[];var o,r=0,s=Object(x["a"])(e);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=new PIXI.Sprite(c);l.x=i;var u=new PIXI.Sprite(oa.Handle.getViewerResource("common/point_gray.png").texture);if(u.anchor.set(.5),u.x=30*r,t.mPagenations.push(u),t.mPageAnchor.addChild(l),t.mPagenationAnchor.addChild(u),c!=e[e.length-1]){i+=l.width+40;var m=new PIXI.Sprite(oa.Handle.getViewerResource("common/line.png").texture);m.x=i-20,t.mPageAnchor.addChild(m)}r+=1}}catch(h){s.e(h)}finally{s.f()}t.mPagenations[0].texture=oa.Handle.getViewerResource("common/point_blue.png").texture,t.mPagenationAnchor.y=270,t.mPagenationAnchor.x=-(t.mPagenationAnchor.getLocalBounds().width-t.mPagenationAnchor.getLocalBounds().x)/2+15,n()}}))}},{key:"ready",value:function(){var e=this;return new Promise((function(t,n){e.mCloseButton.on("pointertap",(function(){e.close(),t()})),e.mDimmed.on("pointertap",(function(){e.close(),t()}))}))}},{key:"close",value:function(){var e=this;0!=this.visible&&(this.alpha=1,me["c"].to(this,{alpha:0,duration:.2}).eventCallback("onComplete",(function(){e.visible=!1})))}}]),n}(PIXI.Container);function Ia(e,t){if("alphabet"==e){if("catch"==t)return 4;if("match"==t)return 4;if("touch"==t)return 4;if("block"==t)return 4;if("quiz"==t)return 4}if("storybooks"==e){if("movie"==t)return 2;if("catch"==t)return 3;if("touch"==t)return 3;if("match"==t)return 4;if("finder"==t)return 5;if("quiz"==t)return 4;if("makingbook"==t)return 4}return 0}var Oa=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this),a.mGameName=e,a.mSceneRoot=new ta["Container"],a.addChild(a.mSceneRoot),a.mScene={},a.mCurrentSceneIDX="",a.mGameData={},a.mViewerData={},a.mLoadingScreen=new ra,a.mReadyScreen=new sa,a.mEOP=new ca,a.mPageTexture=[],a.mDimmed=new ta["Graphics"],a.mDimmed.beginFill(0,.5),a.mDimmed.drawRect(0,0,1280,720),a.mDimmed.endFill(),a.addChild(a.mDimmed),"saleskit"==N.Config.excuteMode?console.log("%c Sales Kit Mode","border:1px red solid; padding-right:1rem;"):(console.log("%c Main Mode","border:1px red solid; padding-right:1rem;"),a.mMenuScreen=new _a,a.mMenuScreen.visible=!1,a.addChild(a.mMenuScreen),"alphabet"!=aa.Handle.currentCategory&&"storybooks"!=aa.Handle.currentCategory||a.makeHowTo()),a}return Object(u["a"])(n,[{key:"makeHowTo",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ue.getHowToData();case 2:if("main"==N.Config.excuteMode&&"storybooks"==aa.Handle.currentCategory)if(!0===re.isDemoMode)this.mGameHowto=new xa,this.addChild(this.mGameHowto);else{for(t=wt.finishResultData[aa.Handle.appData.bookID].cpltAcvtCnt,n=0;n<t;n++)ue.howtoData[aa.Handle.currentCategory][n]=!0;0==ue.howtoData[aa.Handle.currentCategory][this.mGameName]&&(this.mGameHowto=new xa,this.addChild(this.mGameHowto))}case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getResource",value:function(e){return this.getViewerResource(e)}},{key:"getViewerResource",value:function(e){var t="";return t=""==this.gameName?"".concat(aa.Handle.currentCategory):"".concat(aa.Handle.currentCategory,"/").concat(this.gameName),oa.Handle.getViewerResource("".concat(t,"/").concat(e))}},{key:"getProductResource",value:function(e){var t="";return t=""==this.gameName?"".concat(aa.Handle.currentCategory):"".concat(aa.Handle.currentCategory,"/").concat(this.gameName),oa.Handle.getProductResource("".concat(t,"/").concat(e))}},{key:"_loadProductResource",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="",n=""==this.gameName?"".concat(aa.Handle.currentCategory):"".concat(aa.Handle.currentCategory,"/").concat(this.gameName),e.next=4,oa.Handle.loadProductResource("".concat(n),t);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_loadViewerResource",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="",n=""==this.gameName?"".concat(aa.Handle.currentCategory):"".concat(aa.Handle.currentCategory,"/").concat(this.gameName),e.next=4,oa.Handle.loadViewerResource(n,t);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clear",value:function(){oa.Handle.destroy(),this.mScene={},this.mCurrentSceneIDX="",this.mGameData={},this.mViewerData={},this.mSceneRoot.removeChildren()}},{key:"addScene",value:function(e,t){this.mScene[e]=t}},{key:"goScene",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0!==this.mScene[t]){e.next=2;break}return e.abrupt("return");case 2:if(console.log("PIXI.sound stopAll",ta),window["video"]&&(window["video"].pause(),window["video"]=null),ta["sound"]&&(console.log("PIXI.sound stopAll"),ta["sound"].stopAll()),this.mSceneRoot.removeChildren(),void 0===this.mScene[this.mCurrentSceneIDX]){e.next=9;break}return e.next=9,this.mScene[this.mCurrentSceneIDX].onEnd();case 9:console.log("[goScene]",t),this.mSceneRoot.addChild(this.mScene[t]),this.mCurrentSceneIDX=t,this.mScene[t].removeChildren(),this.mScene[t].onInit();case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"startLoadingScreen",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.mLoadingScreen.init();case 2:if(this.addChild(this.mLoadingScreen),this.mLoadingScreen.start(),!this.mMenuScreen){e.next=7;break}return e.next=7,this.mMenuScreen.init();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"endLoadingScreen",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("mypet"==aa.Handle.currentCategory&&this.removeChild(this.mDimmed),"main"!=N.Config.excuteMode){e.next=9;break}if("alphabet"!=aa.Handle.currentCategory&&"storybooks"!=aa.Handle.currentCategory){e.next=9;break}for(this.mPageTexture=[],t=Ia(aa.Handle.currentCategory,aa.Handle.currentGame.gameName),n=0;n<t;n++)this.mPageTexture.push(aa.Handle.currentGame.getViewerResource("howto0".concat(n+1,".png")).texture);if(!this.mGameHowto){e.next=9;break}return e.next=9,this.mGameHowto.init(this.mPageTexture);case 9:return e.next=11,this.mLoadingScreen.end();case 11:if(this.removeChild(this.mLoadingScreen),void 0===this.mGameHowto){e.next=15;break}return e.next=15,this.mGameHowto.ready();case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"startReadyScreen",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"",e.next=3,this.mReadyScreen.init();case 3:return this.addChild(this.mReadyScreen),e.next=6,this.mReadyScreen.start(t,n);case 6:this.removeChild(this.mDimmed),this.removeChild(this.mReadyScreen),this.mMenuScreen&&(this.mMenuScreen.visible=!0);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"startEOPScreen",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],this.mMenuScreen&&(this.mMenuScreen.visible=!1),e.next=4,this.mEOP.init(n);case 4:return this.addChild(this.mEOP),e.next=7,this.mEOP.start(t);case 7:this.mEOP.clear(),this.removeChild(this.mEOP);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"startGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.mPlayStartT=Date.now(),this.onStartGame();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"endGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("gameEND:",this.gameName,this.playTime),void 0===this.mScene[this.mCurrentSceneIDX]){e.next=4;break}return e.next=4,this.mScene[this.mCurrentSceneIDX].onEnd();case 4:this.onEndGame(),me["c"].globalTimeline.clear(),na["a"].stopAll();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onStartGame",value:function(){}},{key:"onEndGame",value:function(){}},{key:"gameName",get:function(){return this.mGameName}},{key:"currentScene",get:function(){return this.mScene[this.mCurrentSceneIDX]}},{key:"gameData",get:function(){return this.mGameData}},{key:"appData",get:function(){return aa.Handle.appData}},{key:"viewerData",get:function(){return this.mViewerData}},{key:"playTime",get:function(){var e=Date.now();return(e-this.mPlayStartT)/1e3}}]),n}(ta["Container"]),Pa=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.call(this)}return Object(u["a"])(n,[{key:"game",get:function(){return aa.Handle.currentGame}}]),Object(u["a"])(n,[{key:"start",value:function(){this.onStart()}},{key:"onInit",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.game.endLoadingScreen();case 2:this.start();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onStart",value:function(){}},{key:"onEnd",value:function(){}},{key:"onPauseStart",value:function(){}},{key:"onPauseEnd",value:function(){}},{key:"onForceExit",value:function(){}},{key:"onAppMessage",value:function(e){}}]),n}(ta["Container"]);function Ra(e){if(!e.resource)return!1;var t=e.resource.source,n=null;if(!t)return!1;var a=null;if(t.getContext)n=t,a=n.getContext("2d");else{if(!(t instanceof Image))return!1;n=document.createElement("canvas"),n.width=t.width,n.height=t.height,a=n.getContext("2d"),a.drawImage(t,0,0)}var i=n.width,o=n.height;return e.colormap=a.getImageData(0,0,i,o),!0}function ja(e,t){var n=new PIXI.Point;e.worldTransform.applyInverse(t,n);var a=e.texture.orig.width,i=e.texture.orig.height,o=-a*e.anchor.x,r=0,s=!1;if(n.x>=o&&n.x<o+a&&(r=-i*e.anchor.y,n.y>=r&&n.y<r+i&&(s=!0)),!s)return{r:0,g:0,b:0,a:0};var c=e.texture,l=e.texture.baseTexture;if(!l.colormap&&!Ra(l))return{r:0,g:0,b:0,a:0};var u=l.colormap,m=u.data,h=l.resolution,d=Math.round((n.x-o+c.frame.x)*h),p=Math.round((n.y-r+c.frame.y)*h),f=d+p*u.width;return{r:m[4*f],g:m[4*f+1],b:m[4*f+2],a:m[4*f+3]}}function Da(e){var t={x:0,y:0,w:0,h:0},n=(e.texture,e.texture.baseTexture);void 0===n.colormap&&Ra(n);for(var a=0,i=n.colormap.width,o=-1,r=n.colormap.height,s=0,c=0;c<n.colormap.height;c++){a=n.colormap.width*c;for(var l=0;l<n.colormap.width;l++){var u=a+l,m=4*u,h=(n.colormap.data[m+0],n.colormap.data[m+1],n.colormap.data[m+2],n.colormap.data[m+3]);h>50&&(i>l&&(i=l),r>c&&(r=c),o<l&&(o=l),s<c&&(s=c))}}return t.x=i,t.y=r,t.w=o-i+1,t.h=s-r+1,t}function Ta(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}return e}var Ba=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a,i){var o;Object(l["a"])(this,n),o=t.call(this),o.mAllowClick=!1,o.mOutAniTween=null,o.mHoldSec=i,o.mIsReady=!0,o.mIsAnswer=!1,o.mCorrectSound=aa.Handle.currentGame.getResource("ac_sfx_1.mp3").sound,o.mWrongSound=aa.Handle.currentGame.getResource("ac_sfx_2.mp3").sound,o.mQuizTextures=[aa.Handle.currentGame.getProductResource("".concat(e.toLowerCase(),"1.png")).texture,aa.Handle.currentGame.getProductResource("".concat(e.toLowerCase(),"2.png")).texture,aa.Handle.currentGame.getProductResource("".concat(e.toLowerCase(),"3.png")).texture,aa.Handle.currentGame.getProductResource("".concat(e.toLowerCase(),"4.png")).texture],o.mTextSprite=new ta["Sprite"](o.mQuizTextures[0]),o.mTextSprite.anchor.set(.5),o.mTextSprite.scale.x=.6,o.mTextSprite.scale.y=-.6,o.mSpine=new ta["spine"].Spine(aa.Handle.currentGame.getResource("common_mole_0".concat(a,".json")).spineData);var r=o.mSpine.slotContainers[o.mSpine.skeleton.findSlotIndex("text")];r.removeChildren(),r.addChild(o.mTextSprite),r.updateTransform(),o.mSpine.position.set(o.width/2,o.height),o.addChild(o.mSpine),o.mSpine.state.setAnimation(0,"vg_in",!1),o.mSpine.state.timeScale=0,o._setupMoleAnimation();var s=new ta["Rectangle"](0,0,o.width,o.height);if(o.hitArea=s,o.interactive=!0,o.buttonMode=!0,o.on("pointerdown",(function(){o.mAllowClick&&(o._onClick(),o.mAllowClick=!1)})),n.debugMode){var c=new ta["Graphics"];c.lineStyle(2,4278190182,1),c.drawRect(s.x,s.y,s.width,s.height),o.addChild(c);var u=new ta["Graphics"];u.lineStyle(2,16763904,1),u.moveTo(0,-10),u.lineTo(0,10),u.moveTo(-10,0),u.lineTo(10,0),o.addChild(u)}return o}return Object(u["a"])(n,[{key:"isReady",value:function(){return this.mIsReady}},{key:"readyForStart",value:function(){this.mSpine.state.timeScale=1,this.mSpine.state.setAnimation(0,"vg_in",!1)}},{key:"start",value:function(e,t){this.mIsAnswer=t,this.mTextSprite.texture=this.mQuizTextures[e-1],this.mSpine.state.setAnimation(0,"mole_in",!1),this.mIsReady=!1}},{key:"stop",value:function(){this.mOutAniTween&&(this.mOutAniTween.kill(),this.mOutAniTween=null),"mole_success"!==this.mSpine.state.getCurrent(0).animation.name&&"mole_fail"!==this.mSpine.state.getCurrent(0).animation.name&&"mole_out"!==this.mSpine.state.getCurrent(0).animation.name&&"vg_in"!==this.mSpine.state.getCurrent(0).animation.name&&this.mSpine.state.setAnimation(0,"mole_out",!1),this.mAllowClick=!1}},{key:"_setupMoleAnimation",value:function(){var e=this;this.mSpine.state.addListener({complete:function(t){"mole_in"==t.animation.name?(e.mSpine.state.setAnimation(0,"mole_in_ing",!0),e.mAllowClick=!0,e.mOutAniTween=me["b"].delayedCall(e.mHoldSec,(function(){e.stop()}))):"mole_out"==t.animation.name?e.mIsReady=!0:"mole_fail"==t.animation.name?(e.stop(),e.mSpine.state.setAnimation(0,"mole_out",!1)):"mole_success"==t.animation.name&&(e.mIsReady=!0)}})}},{key:"_checkAnswer",value:function(){return this.mIsAnswer}},{key:"_onClick",value:function(){this._checkAnswer()?(this.mCorrectSound.play(),this.emit("success",this),this.mSpine.state.setAnimation(0,"mole_success",!1)):(this.mWrongSound.play(),this.emit("fail",this),this.mSpine.state.setAnimation(0,"mole_fail",!1)),this.stop()}},{key:"width",get:function(){return 150}},{key:"height",get:function(){return 120}},{key:"marginX",get:function(){return 100}},{key:"marginY",get:function(){return 50}}]),n}(ta["Sprite"]);Ba.debugMode=!1;var La=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;if(Object(l["a"])(this,n),e=t.call(this),e.mSpine=new PIXI.spine.Spine(aa.Handle.currentGame.getResource("common_hammer.json").spineData),e.mSpine.position.set(75,120),console.log(e.mSpine.skeleton.data.animations),e.addChild(e.mSpine),n.debugMode){var a=new PIXI.Graphics;a.lineStyle(2,16711680,1),a.moveTo(0,-10),a.lineTo(0,10),a.moveTo(-10,0),a.lineTo(10,0),e.addChild(a)}return e}return Object(u["a"])(n,[{key:"success",value:function(){this.mSpine.state.setAnimation(0,"hammer_success",!1)}},{key:"fail",value:function(){this.mSpine.state.setAnimation(0,"hammer_fail",!1)}}]),n}(PIXI.Container);function Aa(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}return e}La.debugMode=!1;var Ma=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a,i){var o;return Object(l["a"])(this,n),o=t.call(this),o.mCheckManagingT=1,o.mActiveCountOnce=3,o.mActiveCountLimit=6,o.mMoleHoldSec=1,o.mCheckManagingT=i.appearTiming,o.mActiveCountOnce=i.activeCountOnce,o.mActiveCountLimit=i.activeCountLimit,o.mMoleHoldSec=i.moleHoldDelay,o.mIsTurnEnd=!0,o.mQuizSymbolText=e,o.mThemeIDX=a,o.mMoles=[],o.mMolesAnchor=null,o.mHammer=null,o.mSize=new ta["Point"](0,0),o.mQuizList=[],o._createMoles(i.holeCount),o._createHammer(),o}return Object(u["a"])(n,[{key:"_createHammer",value:function(){this.mHammer=new La,this.addChild(this.mHammer)}},{key:"_createMoles",value:function(e){var t=this;this.mMoles=[],this.mMolesAnchor=new ta["Container"],this.addChild(this.mMolesAnchor);for(var a=Math.ceil(e/3),i=0,o=0,r=0,s=null,c=0;c<a;c++){i=0;for(var l=0;l<3;l++)r<e&&(s=new Ba(this.mQuizSymbolText,this.mThemeIDX,this.mMoleHoldSec),s.on("fail",(function(e){t.onFail(e)}),s),s.on("success",(function(e){t.onSuccess(e)}),s),this.mMoles.push(s),s.position.set(i,o),this.mMolesAnchor.addChild(s),r+=1,i+=s.width+s.marginX);o+=s.height+s.marginY}if(this.mSize.set(i-s.marginX,o-s.marginY),this.mMolesAnchor.pivot.set(this.mSize.x/2,this.mSize.y/2),n.debugMode){var u=new ta["Graphics"];u.lineStyle(2,65535,1),u.drawRect(0,0,this.mSize.x,this.mSize.y),this.mMolesAnchor.addChild(u);var m=new ta["Graphics"];m.lineStyle(2,16776960,1),m.moveTo(0,-10),m.lineTo(0,10),m.moveTo(-10,0),m.lineTo(10,0),this.addChild(m)}}},{key:"ready",value:function(){var e,t=Object(x["a"])(this.mMoles);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.readyForStart()}}catch(a){t.e(a)}finally{t.f()}}},{key:"start",value:function(e){this.mQuizStepIDX=e,this.mIsTurnEnd=!1,this._activeMole()}},{key:"_activeMole",value:function(){var e=this;while(this.mQuizList.length<this.mMoles.length){var t=[1,2,3,4];Aa(t),this.mQuizList=this.mQuizList.concat(t)}Aa(this.mMoles);var n,a=0,i=Object(x["a"])(this.mMoles);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.isReady()||(a+=1)}}catch(h){i.e(h)}finally{i.f()}if(a<this.mActiveCountLimit){var r,s=this.mActiveCountOnce,c=Object(x["a"])(this.mMoles);try{for(c.s();!(r=c.n()).done;){var l=r.value;if(s>0&&l.isReady()){var u=this.mQuizList.shift(),m=!1;1!=this.mQuizStepIDX&&3!=this.mQuizStepIDX||(m=1==u),2!=this.mQuizStepIDX&&4!=this.mQuizStepIDX||(m=2==u),l.start(u,m),s-=1}}}catch(h){c.e(h)}finally{c.f()}}me["c"].delayedCall(this.mCheckManagingT,(function(){0==e.mIsTurnEnd&&e._activeMole()}))}},{key:"onSuccess",value:function(e){this.mIsTurnEnd=!0,this.mHammer.position.set(e.position.x-this.mSize.x/2,e.position.y-this.mSize.y/2),this.mHammer.success();var t,n=Object(x["a"])(this.mMoles);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.stop()}}catch(i){n.e(i)}finally{n.f()}this.emit("success")}},{key:"onFail",value:function(e){var t=this;this.mHammer.position.set(e.position.x-this.mSize.x/2,e.position.y-this.mSize.y/2),this.mHammer.fail();var n,a=Object(x["a"])(this.mMoles);try{for(a.s();!(n=a.n()).done;){var i=n.value;i.stop()}}catch(o){a.e(o)}finally{a.f()}me["c"].delayedCall(3,(function(){t.emit("fail")}))}}]),n}(ta["Container"]);Ma.debugMode=!1;new ta["TextStyle"]({fontFamily:"minigate",fontSize:77,fontWeight:"bold",fill:"#00ad98"});var Ga=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var i;return Object(l["a"])(this,n),i=t.call(this,aa.Handle.currentGame.getResource("sign.png").texture),i.anchor.set(.5,1),i.mCardTextureNormal=aa.Handle.currentGame.getResource("card.png").texture,i.mCardTextureCurrent=aa.Handle.currentGame.getResource("card_question.png").texture,i.mCardTextureCorrect=aa.Handle.currentGame.getResource("card_correct.png").texture,i.mCard=new ta["Sprite"](i.mCardTextureNormal),i.mCard.anchor.set(.5,.5),i.mCard.position.set(0,-127),i.addChild(i.mCard),i.mQuizWord=new ta["Sprite"](aa.Handle.currentGame.getProductResource("".concat(e.toLowerCase()).concat(a+1,".png")).texture),i.mQuizWord.anchor.set(.5),i.mCard.addChild(i.mQuizWord),i.mEff=new ta["spine"].Spine(aa.Handle.currentGame.getResource("effect_success.json").spineData),i.mCard.addChild(i.mEff),i.turnOff(),i}return Object(u["a"])(n,[{key:"turnOff",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.mEff.visible=!1,this.mCard.texture=this.mCardTextureNormal,0==e?this.scale.set(.8):me["a"].to(this.scale,e,{x:.8,y:.8}),this.tint=11184810,this.mCard.tint=11184810,this.mQuizWord.tint=11184810}},{key:"turnOn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.mEff.visible=!1,this.mCard.texture=this.mCardTextureCurrent,this.tint=16777215,this.mCard.tint=16777215,this.mQuizWord.tint=16777215,0==e?this.scale.set(1):me["a"].to(this.scale,e,{x:1,y:1})}},{key:"correct",value:function(){var e=this;this.mCard.texture=this.mCardTextureCorrect,this.mEff.visible=!0,this.mEff.state.setAnimation(0,"effect_success",!1),this.mEff.state.addListener({complete:function(t){"effect_success"==t.animation.name&&(e.mEff.visible=!1)}});var t=me["c"].timeline();t.set(this.mCard.scale,{x:1,y:1}),t.fromTo(this.mCard.scale,{x:1,y:1,duration:.5},{x:1.5,y:1.5}),t.fromTo(this.mCard.scale,{x:1.5,y:1.5,duration:.5},{x:1,y:1})}}]),n}(ta["Sprite"]),Ea=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;Object(l["a"])(this,n),a=t.call(this),a.mSound=aa.Handle.currentGame.getProductResource("".concat(e.toLowerCase(),".mp3")).sound,a.mQuizIndex=-1,a.mBoards=[new Ga(e,0),new Ga(e,1)],a.mBoards[0].x=-100,a.mBoards[1].x=100;var i,o=Object(x["a"])(a.mBoards);try{for(o.s();!(i=o.n()).done;){var r=i.value;a.addChild(r)}}catch(c){o.e(c)}finally{o.f()}if(n.debugMode){var s=new ta["Graphics"];s.lineStyle(2,16711680,1),s.moveTo(0,-10),s.lineTo(0,10),s.moveTo(-10,0),s.lineTo(10,0),a.addChild(s)}return a}return Object(u["a"])(n,[{key:"startQuizStep",value:function(e){this.mSound.play(),this.mQuizIndex=e,1==this.mQuizIndex||3==this.mQuizIndex?(this.mBoards[0].turnOn(.3),this.mBoards[1].turnOff(.3)):2!=this.mQuizIndex&&4!=this.mQuizIndex||(this.mBoards[0].turnOff(.3),this.mBoards[1].turnOn(.3)),aa.Handle.currentGame.getResource("ac_sfx_3.mp3").sound.play()}},{key:"correct",value:function(){this.mSound.play(),console.log("CORRECT",this.mQuizIndex),1==this.mQuizIndex||3==this.mQuizIndex?this.mBoards[0].correct():2!=this.mQuizIndex&&4!=this.mQuizIndex||this.mBoards[1].correct()}}]),n}(ta["Container"]);Ea.debugMode=!1;var Xa=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mQuizSymbolText="A",e}return Object(u["a"])(n,[{key:"onInit",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return na["a"].stopAll(),this.mWrongCount=0,this.mThemeIDX=Math.ceil(3*Math.random())+1,this.mBGM=this.game.getResource("ac_bgm_".concat(this.mThemeIDX,".mp3")).sound,this.mQuizSymbolText=aa.Handle.appData.symbol,console.log(" Activity start: Symbol->",this.mQuizSymbolText,this.levelData),this.mBG=ta["Sprite"].from(this.game.getResource("bg_0".concat(this.mThemeIDX,".png")).texture),this.addChild(this.mBG),this.mQuizBox=new Ea(this.mQuizSymbolText),this.mQuizBox.position.set(640,216),this.addChild(this.mQuizBox),this.mStage=new Ma(this.mQuizSymbolText,this.mThemeIDX,this.levelData),this.mStage.on("success",(function(){t.onQuizSucess()})),this.mStage.on("fail",(function(){t.onQuizFail()})),this.mStage.position.set(640,450),this.addChild(this.mStage),this.mQuizStepIDX=0,this.mStage.ready(),e.next=20,this.game.endLoadingScreen();case 20:return e.next=22,this.game.startReadyScreen(2,"al_catch");case 22:this.start();case 23:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onStart",value:function(){this.mBGM.play({loop:!0}),this.onNextQuiz(),window.onkeyup=function(e){"+"==e.key&&(aa.Handle.nextGame(),window.onkeyup=null)}}},{key:"onEnd",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"main"==L.excuteMode&&""!=re.token?(console.log("알파벳 캐치 끝",this.game.gameName,aa.Handle.appData.symbol.toLowerCase(),ue.childSetting.lrngChoLvlCd,this.mWrongCount),Vt.setActivityEnd({activity:this.game.gameName,endinfo:{symbol:aa.Handle.appData.symbol.toLowerCase(),lrngChoLvlCd:ue.childSetting.lrngChoLvlCd,wrongCount:this.mWrongCount}})):console.warn("catch 학습결과를 전송하지 않습니다."),this.mBGM&&this.mBGM.stop(),na["a"].stopAll(),me["b"].globalTimeline.clear(),e.next=6,this.game.startEOPScreen(1);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onAppMessage",value:function(e){}},{key:"onNextQuiz",value:function(){var e=this;console.log("this.mQuizStepIDX:",this.mQuizStepIDX),this.mQuizStepIDX<4?(this.mQuizStepIDX+=1,this.mQuizBox.startQuizStep(this.mQuizStepIDX),me["b"].delayedCall(1,(function(){e.mStage.start(e.mQuizStepIDX)}))):(console.log("알파벳 캐치 게임 모두 풀었음."),aa.Handle.nextGame())}},{key:"onQuizSucess",value:function(){var e=this;this.mQuizBox.correct(),me["b"].delayedCall(3,(function(){e.onNextQuiz()}))}},{key:"onQuizFail",value:function(){this.mWrongCount+=1,console.log("틀린갯수 => [".concat(this.mWrongCount,"]"))}},{key:"levelData",get:function(){return aa.Handle.currentGame.levelData}}]),n}(Pa),Ha=[{holeCount:3,appearTiming:2,activeCountOnce:1,activeCountLimit:2,moleHoldDelay:2},{holeCount:6,appearTiming:2.5,activeCountOnce:2,activeCountLimit:4,moleHoldDelay:2},{holeCount:9,appearTiming:1,activeCountOnce:1,activeCountLimit:6,moleHoldDelay:1.5}],za=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.call(this,"catch")}return Object(u["a"])(n,[{key:"onStartGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.startLoadingScreen();case 2:return e.next=4,T.a.post("".concat(N.Config.restAPIProd,"/alphabet/getViewerResource"),{activity:"catch"});case 4:return t=e.sent,e.next=7,this._loadViewerResource(t.data);case 7:return e.next=9,T.a.post("".concat(N.Config.restAPIProd,"/alphabet/getProductResource"),{activity:"catch",symbol:aa.Handle.appData.symbol.toLowerCase()});case 9:return n=e.sent,e.next=12,this._loadProductResource(n.data);case 12:this.mLevelData=Ha[aa.Handle.appData.level-1],this.addScene("activity",new Xa),this.goScene("activity");case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onEndGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.warn("AL catch END",this.playTime),e.next=3,ce.updatePlayTime(this.playTime);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"levelData",get:function(){return this.mLevelData}}]),n}(Oa),Fa=n("a5cf"),Va=(new PIXI.TextStyle({fontFamily:"minigate",fontSize:90,fontWeight:"bold",fill:"#ffffff"}),function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(l["a"])(this,n),i=t.call(this,aa.Handle.currentGame.getResource("match_box.png").texture),i.mOffset=new PIXI.Point(e,a),i.anchor.set(.5),i.mText=new PIXI.Sprite,i.mText.anchor.set(.5,.5),i.mText.scale.set(.4),i.mText.position.set(0,0),i.addChild(i.mText),i.blockCode=o,i.interactive=!0,i.buttonMode=!0,i.on("pointerdown",(function(){Qa.Handle.dragBlock&&Qa.Handle.dragBlock.onDragStart(Object(ea["a"])(i))})),i}return Object(u["a"])(n,[{key:"_updateSymbol",value:function(){switch(this.mColorIDX){case 1:this.mText.tint=14231592;break;case 2:this.mText.tint=14643230;break;case 3:this.mText.tint=15516938;break;case 4:this.mText.tint=2005324;break;case 5:this.mText.tint=33224;break;case 6:this.mText.tint=2244751;break;case 7:this.mText.tint=8852879;break;case 8:this.mText.tint=15401099;break}this.mSymbol=Qa.Handle.quizSymbols[this.mTextIDX],console.log("symbol:",this.mSymbol),this.mSymbol.toUpperCase()==this.mSymbol?this.mText.texture=aa.Handle.currentGame.getResource("".concat(this.mSymbol.toLowerCase(),"_body_big.png")).texture:this.mText.texture=aa.Handle.currentGame.getResource("".concat(this.mSymbol.toLowerCase(),"_body_small.png")).texture}},{key:"canMove",value:function(){var e=Qa.Handle;if(this.offset.y>0){var t=e.getBlock(new PIXI.Point(this.offset.x,this.offset.y-1));if(0!=t.blockCode)return!1}return!0}},{key:"correctSound",value:function(){if(this.mSymbol.toLowerCase()==Qa.Handle.quizSymbols[1]){var e=aa.Handle.currentGame.getResource("am_sfx_3.mp3").sound,t=aa.Handle.currentGame.getProductResource("".concat(this.mSymbol.toLowerCase(),".mp3")).sound;e.play(),me["c"].delayedCall(e.duration-.5,(function(){t.play()}))}else{var n=aa.Handle.currentGame.getResource("am_sfx_3.mp3").sound;n.play()}}},{key:"correctProc",value:function(){var e=this;n.ProcCount+=1,console.warn("correctProc :",n.ProcCount),Qa.Handle.correctAnimation(this.offset),this.alpha=1,me["a"].to(this,.5,{alpha:0}).eventCallback("onComplete",(function(){n.ProcCount-=1,console.warn("correctProc end",n.ProcCount);var t=null;if(e.offset.y>0&&(t=Qa.Handle.getBlock(new PIXI.Point(e.mOffset.x,e.mOffset.y-1))),null==t||0==t.blockCode||e._checkCoupleBlock(t))e.alpha=1,e.blockCode=0,0==n.ProcCount&&Qa.Handle.dragBlock.onDropFinish();else{e.alpha=1,e.blockCode=0,t.startDrop(1);for(var a=t.offset.y;a>=0;a--){console.warn("up check:",a);var i=Qa.Handle.getBlock(new PIXI.Point(e.mOffset.x,a));0!=i.blockCode&&i.startDrop(1)}}Qa.Handle.checkAllClear()}))}},{key:"_getDropPosition",value:function(){var e=new PIXI.Point(this.mOffset.x,this.mOffset.y),t=this.mOffset.y+1;console.log("DropCheck StartY:",t);for(var n=t;n<4;n++){var a=Qa.Handle.getBlock(new PIXI.Point(this.mOffset.x,n));if(0!=a.blockCode)return e.y=n-1,e}return e.y=3,e}},{key:"_checkCoupleBlock",value:function(e){if(this.colorIDX==e.colorIDX){if(0==this.symbolIDX)return 1==e.symbolIDX;if(1==this.symbolIDX)return 0==e.symbolIDX;if(2==this.symbolIDX)return 3==e.symbolIDX;if(3==this.symbolIDX)return 2==e.symbolIDX}return!1}},{key:"startDrop",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;n.ProcCount+=1,console.warn("Start Drop ",n.ProcCount);var a=new PIXI.Point(this.mOffset.x,this.mOffset.y);if(console.log("startOffset:",a),3==a.y){var i=Qa.Handle.getBlock(a),o=this.blockCode;return this.blockCode=0,i.blockCode=o,void i.doMatchProc()}var r=new PIXI.Point(this.offset.x,this.offset.y+t);if(0==t&&(r=this._getDropPosition()),console.log("endOffset:",r),r.x==a.x&&r.y==a.y)return console.log("같은위치검사"),void this.doMatchProc();console.log("다른위치검사 ",a,"->",r);var s=this.y,c=this.blockCode,l=Qa.Handle.getBlockPosition(r);me["a"].to(this,.5,{y:l.y,ease:Fa["a"].easeOut}).eventCallback("onComplete",(function(){var t=Qa.Handle.getBlock(r);e.blockCode=0,t.blockCode=c,e.y=s,t.doMatchProc()}))}},{key:"doMatchProc",value:function(){console.log("doMatchProc:",this.offset.x,",",this.offset.y);var e=null,t=null,a=null,i=null;this.mOffset.y>0&&(e=Qa.Handle.getBlock(new PIXI.Point(this.mOffset.x,this.mOffset.y-1))),this.mOffset.y+1<4&&(i=Qa.Handle.getBlock(new PIXI.Point(this.mOffset.x,this.mOffset.y+1))),this.mOffset.x>0&&(t=Qa.Handle.getBlock(new PIXI.Point(this.mOffset.x-1,this.mOffset.y))),this.mOffset.x+1<8&&(a=Qa.Handle.getBlock(new PIXI.Point(this.mOffset.x+1,this.mOffset.y)));var o=!1;e&&0!=e.blockCode&&this._checkCoupleBlock(e)&&(console.log("doMatchProc-> correct UP"),o=!0,e.correctProc()),i&&0!=i.blockCode&&this._checkCoupleBlock(i)&&(console.log("doMatchProc-> correct DOWN"),o=!0,i.correctProc()),t&&0!=t.blockCode&&this._checkCoupleBlock(t)&&(console.log("doMatchProc-> correct LEFT"),o=!0,t.correctProc()),a&&0!=a.blockCode&&this._checkCoupleBlock(a)&&(console.log("doMatchProc-> correct RIGHT"),o=!0,a.correctProc()),1==o?(n.ProcCount-=1,console.log("doMatchProc-> correct SELF ",n.ProcCount),this.correctProc(),this.correctSound()):(n.ProcCount-=1,console.warn("Drop end",n.ProcCount),0==n.ProcCount&&Qa.Handle.dragBlock.onDropFinish())}},{key:"colorIDX",get:function(){return this.mColorIDX}},{key:"symbolIDX",get:function(){return this.mTextIDX}},{key:"blockCode",get:function(){return this.mBlockCode},set:function(e){this.visible=!(0==e),this.mTextIDX=e%10,this.mColorIDX=Math.floor(e/10),this.mBlockCode=e,this._updateSymbol()}},{key:"offset",get:function(){return this.mOffset}}]),n}(PIXI.Sprite));Va.ProcCount=0;var Wa=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this,-1,-1),e.mCanDragStart=!0,e.mOffset=new PIXI.Point(0,0),e.mDragMoveAniTween=null,e.mDragLock=!1,e.mCanDragStart=!0,e}return Object(u["a"])(n,[{key:"onDragStart",value:function(e){if(this.mCanDragStart){this.mCanDragStart=!1;Qa.Handle;var t=aa.Handle.currentGame.getResource("am_sfx_1.mp3").sound;if(t.play(),1!=this.mDragLock&&e.canMove()){var n=e.blockCode;e.blockCode=0,this.blockCode=n,this.mOffset.x=e.offset.x,this.mOffset.y=e.offset.y,this.position.x=e.position.x,this.position.y=e.position.y,this.scale.set(1),me["a"].to(this.scale,.5,{x:1.2,y:1.2})}}}},{key:"onDragging",value:function(e){var t=this.parent.toLocal(e);if(1==this.visible){var n=Qa.Handle.getOffsetPos(t),a=Qa.Handle.getBlock(n);if(0==a.blockCode&&(this.mOffset.x!=n.x||this.mOffset.y!=n.y)){this.mOffset.x=n.x,this.mOffset.y=n.y;var i=Qa.Handle.getBlockPosition(this.mOffset);this.mDragMoveAniTween&&this.mDragMoveAniTween.kill(),this.mDragMoveAniTween=me["c"].to(this.position,{x:i.x,y:i.y,duration:.3,ease:Fa["c"].easeOut})}}}},{key:"onDragEnd",value:function(){if(this.mCanDragStart=!0,0!=this.visible&&1!=this.mDragLock){var e=aa.Handle.currentGame.getResource("am_sfx_2.mp3").sound;e.play(),this.mDragLock=!0;var t=Qa.Handle.getBlock(this.mOffset);t.blockCode=this.blockCode,t.startDrop(),this.visible=!1}}},{key:"onDropFinish",value:function(){this.mDragLock=!1}}]),n}(Va),Qa=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var i;Object(l["a"])(this,n),i=t.call(this),n.sHandle=Object(ea["a"])(i),i.interactive=!0,i.mSize=new PIXI.Point(1046,538);var o=String.fromCharCode(a.charCodeAt(0)-1);if("a"==a.toLowerCase()&&(o="z"),o=o.toLowerCase(),i.mQuizSymbol=[a.toUpperCase(),a.toLowerCase(),o.toUpperCase(),o.toLowerCase()],i.mCorrectEffectRoot=new PIXI.Container,i._createBlocks(e),i._createDragBlock(),i.addChild(i.mCorrectEffectRoot),i.on("pointermove",(function(e){i.mDragBlock.onDragging(e.data.global)})),i.on("pointerup",(function(e){i.mDragBlock.onDragEnd()})),i.on("pointerupoutside",(function(e){i.mDragBlock.onDragEnd()})),i.on("pointercancel",(function(e){i.mDragBlock.onDragEnd()})),n.debugMode){var r=new PIXI.Graphics;r.lineStyle(2,65535,1),r.drawRect(0,0,i.mSize.x,i.mSize.y),i.addChild(r);var s=new PIXI.Graphics;s.lineStyle(2,16776960,1),s.moveTo(0,-10),s.lineTo(0,10),s.moveTo(-10,0),s.lineTo(10,0),i.addChild(s)}return i}return Object(u["a"])(n,[{key:"_createDragBlock",value:function(){this.mDragBlock=new Wa,this.mDragBlock.visible=!1,this.addChild(this.mDragBlock)}},{key:"_createBlocks",value:function(e){var t=aa.Handle.currentGame.getResource("match_effect.json").spineData;this.mBlocks=[],this.mCorrectEffects=[];for(var n=68,a=68,i=0;i<4;i++){this.mBlocks[i]=[],this.mCorrectEffects[i]=[],n=68;for(var o=0;o<8;o++){var r=new Va(o,i,0);r.position.set(n,a),this.mBlocks[i].push(r),this.addChild(r);var s=new PIXI.spine.Spine(t);s.visible=!1,s.position.set(n,a),this.mCorrectEffects[i].push(s),this.mCorrectEffectRoot.addChild(s),n+=131}a+=134}for(var c=0;c<4;c++)for(var l=0;l<8;l++)this.mBlocks[c][l].blockCode=e[c][l]}},{key:"getOffsetPos",value:function(e){var t=e.x-68+65.5,n=e.y-68+67,a=new PIXI.Point;return a.x=Math.floor(t/131),a.y=Math.floor(n/134),a.x<0&&(a.x=0),a.y<0&&(a.y=0),a.x>7&&(a.x=7),a.y>3&&(a.y=3),a}},{key:"getBlockPosition",value:function(e){return this.mBlocks[e.y][e.x].position}},{key:"getBlock",value:function(e){return this.mBlocks[e.y][e.x]}},{key:"checkAllClear",value:function(){var e,t=!0,n=Object(x["a"])(this.mBlocks);try{for(n.s();!(e=n.n()).done;){var a,i=e.value,o=Object(x["a"])(i);try{for(o.s();!(a=o.n()).done;){var r=a.value;0!=r.blockCode&&(t=!1)}}catch(s){o.e(s)}finally{o.f()}}}catch(s){n.e(s)}finally{n.f()}1==t&&me["c"].delayedCall(1,(function(){aa.Handle.nextGame()}))}},{key:"correctAnimation",value:function(e){var t=this.mCorrectEffects[e.y][e.x];t.visible=!0,t.state.setAnimation(0,"animation",!1),me["c"].delayedCall(1,(function(){t.visible=!1}))}},{key:"quizSymbols",get:function(){return this.mQuizSymbol}},{key:"dragBlock",get:function(){return this.mDragBlock}}],[{key:"Handle",get:function(){return n.sHandle}}]),n}(PIXI.Container);Qa.debugMode=!1;var Na,$a=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mQuizSymbolText="A",e}return Object(u["a"])(n,[{key:"onInit",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return na["a"].stopAll(),this.mBGM=this.game.getResource("am_bgm.mp3").sound,this.mQuizSymbolText=aa.Handle.appData.symbol,console.log(" Activity start: Symbol->",this.mQuizSymbolText),this.mBG=ta["Sprite"].from(this.game.getResource("match_bg.png").texture),this.addChild(this.mBG),this.mStage=new Qa(this.levelData,this.mQuizSymbolText),this.mStage.position.set(113,93),this.addChild(this.mStage),e.next=11,this.game.endLoadingScreen();case 11:return e.next=13,this.game.startReadyScreen(0,"al_match");case 13:this.start();case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onStart",value:function(){this.mBGM&&this.mBGM.play({loop:!0}),console.log("알파벳 매치 시작"),this.mTime=Date.now(),window.onkeyup=function(e){"+"==e.key&&(aa.Handle.nextGame(),window.onkeyup=null)}}},{key:"onEnd",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"main"==L.excuteMode&&""!=re.token?(console.log(" 알파벳 매치 종료",this.game.gameName,aa.Handle.appData.symbol.toLowerCase(),ue.childSetting.lrngChoLvlCd,(Date.now()-this.mTime)/1e3),Vt.setActivityEnd({activity:this.game.gameName,endinfo:{symbol:aa.Handle.appData.symbol.toLowerCase(),lrngChoLvlCd:ue.childSetting.lrngChoLvlCd,completeTime:(Date.now()-this.mTime)/1e3}})):console.warn("match 학습결과를 전송하지 않습니다."),this.mBGM&&this.mBGM.stop(),na["a"].stopAll(),me["b"].globalTimeline.clear(),e.next=6,this.game.startEOPScreen(1);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onAppMessage",value:function(e){}},{key:"levelData",get:function(){return aa.Handle.currentGame.levelData}}]),n}(Pa),qa=[[[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,41,21,40,13,0,0],[0,0,20,31,12,30,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,21,40,11,41,0,0],[0,0,33,10,32,20,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,40,11,41,23,0,0],[0,0,10,30,22,31,0,0]]],[[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,61,30,51,42,60,50,0],[0,21,10,31,11,43,20,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,30,21,40,62,50,63,0],[0,10,31,11,41,20,51,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,23,40,60,50,61,30,0],[0,31,11,41,22,51,10,0]]],[[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[70,23,40,60,50,61,30,80],[81,31,11,41,22,51,10,71]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[72,40,60,50,61,30,80,21],[81,11,41,20,51,10,73,31]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[40,60,50,61,30,80,23,70],[11,41,22,51,10,71,31,81]]]],Ua=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.call(this,"match")}return Object(u["a"])(n,[{key:"onStartGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.startLoadingScreen();case 2:return e.next=4,T.a.post("".concat(N.Config.restAPIProd,"/alphabet/getViewerResource"),{activity:"match"});case 4:return t=e.sent,e.next=7,this._loadViewerResource(t.data);case 7:return e.next=9,T.a.post("".concat(N.Config.restAPIProd,"/alphabet/getProductResource"),{activity:"match",symbol:aa.Handle.appData.symbol.toLowerCase()});case 9:return n=e.sent,e.next=12,this._loadProductResource(n.data);case 12:a=Math.floor(Math.random()*qa[aa.Handle.appData.level-1].length),console.log("setIDX",a),this.mLevelData=qa[aa.Handle.appData.level-1][a],this.addScene("activity",new $a),this.goScene("activity");case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onEndGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.warn("AL match END",this.playTime),e.next=3,ce.updatePlayTime(this.playTime);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"levelData",get:function(){return this.mLevelData}}]),n}(Oa),Ya=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"onInit",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return na["a"].stopAll(),this.onBackground(),e.next=4,this.game.endLoadingScreen();case 4:return e.next=6,this.game.startReadyScreen(2,"al_touch");case 6:this.start();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onStart",value:function(){na["a"].stopAll(),this.onThumSet()}},{key:"onBackground",value:function(){this.mBgGroup=new PIXI.Container,this.mSideBar=new PIXI.Container;var e=new PIXI.Sprite(this.game.getResource("bg_wood.png").texture);this.mBgGroup.addChild(e),this.addChild(this.mBgGroup);var t=new PIXI.Sprite(this.game.getResource("right.png").texture);t.position.set(-110,10),this.mSideBar.addChild(t),this.addChild(this.mSideBar),this.mSideBar.position.set(1518,0)}},{key:"onThumSet",value:function(){var e=this,t=new PIXI.Sprite(this.game.getResource("bg_book.png").texture);this.mBgGroup.addChild(t),me["b"].from(t,{y:-720,duraiton:1}),me["b"].to(this.mSideBar,{x:1118,duration:.5,delay:1}),me["b"].delayedCall(1.5,(function(){e.onNext()}))}},{key:"onNext",value:function(){this.game.goScene("activity")}},{key:"onEnd",value:function(){console.log("[intro] onEnd")}}]),n}(Pa),Ka=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0;Object(l["a"])(this,n),e=t.call(this),e.misOK=!1,e.mAllowClick=!0;var s=new ta["Texture"](r,new ta["Rectangle"](0,a*i,473,a));return e.texture=s,e.anchor.x=.5,e.x=-800,e.mMoveTween=me["b"].to(e.position,{x:200,duration:2*o,ease:"none"}),e.mMoveTween.eventCallback("onComplete",(function(){e.mMoveTween=me["b"].to(e.position,{x:-200,duration:o,ease:"none"}),e.mMoveTween.repeat(-1),e.mMoveTween.yoyo(!0)})),e.mMoveTween.pause(),e.visible=!1,e}return Object(u["a"])(n,[{key:"miniGameEnd",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;me["b"].to(this.position,{x:0,duration:.5,ease:"none"}).delay(e),this.visible=!0,console.log("end")}},{key:"fix",value:function(){var e=this;return new Promise((function(t,n){e.x=0,e.visible=!0,e.alpha=0,e.scale.set(.8),me["b"].to(e.scale,{x:1,y:1,duration:.3}),me["b"].to(e,{alpha:1,duration:.3}).eventCallback("onComplete",(function(){t()}))}))}},{key:"start",value:function(){this.visible=!0,this.mMoveTween.play()}},{key:"isOK",value:function(){return this.misOK}},{key:"stop",value:function(){var e=this;return console.log(this.mAllowClick),this.x>=-50&&this.x<=50?(this.mMoveTween.pause(),this.misOK=!0,!0):(this.mMoveTween.pause(),me["b"].delayedCall(1,(function(){e.mMoveTween.play()})),this.misOK=!1,!1)}},{key:"allowClick",get:function(){return this.mAllowClick}}]),n}(ta["Sprite"]),Ja=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var i;Object(l["a"])(this,n),i=t.call(this),i.symbolText="A",i.mLevelData=a,i.mCorrectBGM=aa.Handle.currentGame.getResource("at_sfx_1.mp3").sound,i.mWrongBGM=aa.Handle.currentGame.getResource("at_sfx_2.mp3").sound,i.symbolText=aa.Handle.appData.symbol.toLowerCase();var o=0;1==e||3==e?o=0:2==e?o=1:4==e&&(o=2);var r=aa.Handle.currentGame.soundList[o];i.mStudyBGM=aa.Handle.currentGame.getProductResource("".concat(r)).sound,i.mCard=[],i.mCurrentStep=0,i.mTotalStep=i.mLevelData.sliceCount,i.mActiveCardIDX=[],i.mActiveCardStepIDX=0;for(var s=0,c=0;c<i.mTotalStep;c++){var u=556/i.mTotalStep,m=new Ka(u,c,i.mLevelData.moveSpeed,aa.Handle.currentGame.getProductResource("que_".concat(i.symbolText).concat(e,".png")).texture.baseTexture);i.addChild(m),m.anchor.set(.5),i.mCard.push(m),m.y=s+45,s+=556/i.mLevelData.sliceCount}return i.hitArea=new PIXI.Rectangle(-400,-70,800,700),i.interactive=!0,i.buttonMode=!0,i.allowClick=!1,me["c"].delayedCall(1,(function(){i.allowClick=!0})),i.on("pointerdown",(function(){i.allowClick&&(i.checkPlay(),me["c"].delayedCall(1,(function(){i.allowClick=!0})))})),i}return Object(u["a"])(n,[{key:"fixPlay",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=[1,2,3,4],n=4-this.mLevelData.firstFix,a=0;a<n;a++)i=Math.floor(Math.random()*t.length),this.mActiveCardIDX.push(t[i]),t.splice(i,1);this.mActiveCardIDX.sort(),o=0;case 5:if(!(o<t.length)){e.next=11;break}return e.next=8,this.mCard[t[o]].fix();case 8:o++,e.next=5;break;case 11:return e.next=13,this.mCard[0].fix();case 13:return e.next=15,this.mCard[this.mTotalStep-1].fix();case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"GreatPlay",value:function(){this.mCorrectBGM.play();var e=new PIXI.Sprite(aa.Handle.currentGame.getResource("stamp_great.png").texture);this.addChild(e),e.width=150,e.height=150,e.anchor.set(.5),e.scale.set(0),e.x=100*Math.ceil(2*Math.random())-200,e.y=520-100*Math.ceil(5*Math.random()),this.mPassMove=me["c"].to(e.scale,{visible:!0,set:1.5,duration:.8,ease:"bounce",onComplete:function(){e.visible=!1}})}},{key:"GoodPlay",value:function(){this.mCorrectBGM.play();var e=new PIXI.Sprite(aa.Handle.currentGame.getResource("stamp_good.png").texture);this.addChild(e),e.width=150,e.height=150,e.anchor.set(.5),e.scale.set(0),e.x=100*Math.ceil(2*Math.random())-200,e.y=520-100*Math.ceil(5*Math.random()),this.mPassMove=me["c"].to(e.scale,{set:1.5,visible:!0,duration:.8,ease:"bounce",onComplete:function(){e.visible=!1}})}},{key:"BadPlay",value:function(){this.mWrongBGM.play();var e=new PIXI.Sprite(aa.Handle.currentGame.getResource("stamp_wrong.png").texture);this.addChild(e),e.width=150,e.height=150,e.anchor.set(.5),e.x=100*Math.ceil(2*Math.random())-200,e.y=520-100*Math.ceil(5*Math.random()),e.scale.set(0),this.mPassMove=me["c"].to(e.scale,{visible:!0,set:1.5,duration:.8,ease:"bounce",onComplete:function(){e.visible=!1}})}},{key:"checkPlay",value:function(){if(4==this.mActiveCardStepIDX)this.allowClick=!1;else{this.allowClick=!1,this.mCurrentStep=this.mActiveCardIDX[this.mActiveCardStepIDX];var e=this.mCard[this.mCurrentStep].x,t=this.mCard[this.mCurrentStep].stop();!0===t?(e<15&&e>-15?this.GreatPlay():this.GoodPlay(),this.allowClick=!1,this.onNextStep()):(ei.Handle.wrongCount+=1,this.BadPlay())}}},{key:"onStartPlay",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fixPlay();case 2:this.mCurrentStep=this.mActiveCardIDX[this.mActiveCardStepIDX],me["c"].delayedCall(.5,(function(){t.mCard[t.mCurrentStep].start();var e=aa.Handle.currentGame.getResource("at_sfx_3.mp3").sound;e.play()}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onNextStep",value:function(){var e=this;this.mActiveCardStepIDX+=1,this.mActiveCardStepIDX<this.mActiveCardIDX.length?me["c"].delayedCall(1,(function(){e.mCard[e.mActiveCardIDX[e.mActiveCardStepIDX]].start(),e.allowClick=!0})):this.certify()}},{key:"endScale",value:function(){var e=this;this.allowClick=!1,this.mScaleMove=me["c"].fromTo(this.scale,{set:1},{set:1.2,duration:2,ease:"bounce"}),this.mYMove=me["c"].to(this.position,{y:30,duration:.1,ease:"none"}),this.mScaleMove.seek(1.2),this.mScaleMove.play(),this.mYMove.play(),me["c"].delayedCall(.5,(function(){e.mStudyBGM.play()})),me["c"].delayedCall(2.5,(function(){e.mStudyBGM.play()})),me["c"].delayedCall(3.5,(function(){me["c"].to(e.position,{y:-700,duration:.5})}))}},{key:"certify",value:function(){var e=this;this.allowClick=!1;for(var t=0;t<6;t++)this.mCard[t].miniGameEnd(1);me["c"].delayedCall(2,(function(){e.endScale()})),me["c"].delayedCall(6,(function(){e.onEnd()}))}},{key:"onEnd",value:function(){}},{key:"onNext",value:function(){}}]),n}(PIXI.Container),Za=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;Object(l["a"])(this,n),e=t.call(this);var a=aa.Handle.appData.symbol.toLowerCase();e.mClearArray=[],e.mCheckArray=[],e.mBlurArray=[],e.mShadowArray=[];for(var i=0,o=1;o<5;o++){var r=new PIXI.Sprite(aa.Handle.currentGame.getResource("memo.png").texture);r.anchor.x=.5,r.position.y=152*i,e.addChild(r);var s=new PIXI.Sprite(aa.Handle.currentGame.getProductResource("ex_".concat(a).concat(o,".png")).texture);s.anchor.x=.5,s.alpha=0,r.addChild(s),e.mClearArray.push(s);var c=new PIXI.Sprite(aa.Handle.currentGame.getProductResource("ex_".concat(a).concat(o,"_focus.png")).texture);c.anchor.x=.5,c.alpha=0,r.addChild(c),e.mBlurArray.push(c);var u=new PIXI.Sprite(aa.Handle.currentGame.getResource("memo_shadow.png").texture);u.anchor.x=.5,u.position.y=152*i,u.alpha=.5,e.addChild(u),e.mShadowArray.push(u);var m=new PIXI.Sprite(aa.Handle.currentGame.getResource("check.png").texture);m.position.set(-m.width/2+58,m.height/2-56),m.scale.set(1.2),m.alpha=0,r.addChild(m),e.mCheckArray.push(m),i+=1}return e}return Object(u["a"])(n,[{key:"ready",value:function(){for(var e=0;e<this.mBlurArray.length;e++)me["b"].to(this.mBlurArray[e],{alpha:1,duration:1,delay:e/4})}},{key:"onCorrect",value:function(e){var t=this;return new Promise((function(n,a){me["b"].to(t.mCheckArray[e],{alpha:1,duration:.5}),me["b"].to(t.mCheckArray[e].scale,{x:1,y:1,duration:.5}),me["b"].to(t.mBlurArray[e],{alpha:0,duration:.5}),me["b"].to(t.mShadowArray[e],{alpha:0,duration:.5}).eventCallback("onComplete",(function(){me["b"].to(t.mClearArray[e],{alpha:1,duration:.5}).eventCallback("onComplete",(function(){n()}))}))}))}}]),n}(PIXI.Container),ei=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),n._handle=Object(ea["a"])(e),e.mBgGroup=null,e.mCardGroup=null,e.mWrongCount=0,e}return Object(u["a"])(n,[{key:"onInit",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:na["a"].stopAll(),this.mBGM=this.game.getResource("at_bgm.mp3").sound,this.mBGM.play({loop:!0}),this.mBgGroup=new ta["Container"],t=new ta["Sprite"](this.game.getResource("bg_wood.png").texture),n=new ta["Sprite"](this.game.getResource("bg_book.png").texture),this.mBgGroup.addChild(t),this.mBgGroup.addChild(n),this.addChild(this.mBgGroup),this.mSideBar=new ta["Container"],a=new ta["Sprite"](this.game.getResource("right.png").texture),a.position.set(-110,10),this.mSideBar.addChild(a),this.mSideBar.position.set(1118,0),this.addChild(this.mSideBar),this.onThumNail(),this.addChild(this.currentCardGroup),this.start();case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onStart",value:function(){var e=this;this.currentCardGroup.onStartPlay(),window.onkeyup=function(t){"+"==t.key&&(e.game.goScene("outro"),window.onkeyup=null)}}},{key:"onThumNail",value:function(){var e=this;this.mThumNail=new Za,this.mSideBar.addChild(this.mThumNail),this.mThumNail.position.set(0,80),this.mThumNail.ready(),this.mCardGroup=[],this.mCurrentCardGroupIDX=0;for(var t=0;t<4;t++)this.mCardGroup[t]=new Ja(t+1,this.levelData),this.mCardGroup[t].onEnd=function(){e.onEndCardGroup()},this.mCardGroup[t].x=565.5,this.mCardGroup[t].y=77}},{key:"onEndCardGroup",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.mThumNail.onCorrect(this.mCurrentCardGroupIDX);case 2:this.removeChild(this.currentCardGroup),this.mCurrentCardGroupIDX+=1,this.mCurrentCardGroupIDX>=4?this.onNext():(this.addChild(this.currentCardGroup),this.currentCardGroup.onStartPlay());case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onEnd",value:function(){}},{key:"onNext",value:function(){var e=this;me["b"].to(this.mSideBar,{alpha:0,duration:.5}).eventCallback("onComplete",(function(){e.game.goScene("outro")}))}},{key:"currentCardGroup",get:function(){return this.mCardGroup[this.mCurrentCardGroupIDX]}},{key:"levelData",get:function(){return aa.Handle.currentGame.levelData}},{key:"wrongCount",get:function(){return this.mWrongCount},set:function(e){this.mWrongCount=e}}],[{key:"Handle",get:function(){return n._handle}}]),n}(Pa),ti=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.symbolText="A",e}return Object(u["a"])(n,[{key:"onInit",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.start(),console.error("틀린갯수 => [".concat(ei.Handle.wrongCount,"]"));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onStart",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=new PIXI.Sprite(this.game.getResource("bg_wood.png").texture),this.addChild(t),this.mLeftPBox=new PIXI.Container,this.mRightPBox=new PIXI.Container,this.mCenterPBox=new PIXI.Container,this.mAffordance=new PIXI.Container,this.symbolText=aa.Handle.appData.symbol.toLowerCase(),this.createPeeKaBoo();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"createPeeKaBoo",value:function(){for(var e=this,t=new PIXI.Sprite(this.game.getResource("shadow_left.png").texture),n=3;n>0;n--){var a=new PIXI.Sprite(this.game.getProductResource("complete_".concat(this.symbolText).concat(n,".png")).texture);1==n&&(t=new PIXI.Sprite(this.game.getResource("shadow_left.png").texture),this.mLeftPBox.addChild(t,a)),2==n&&(t=new PIXI.Sprite(this.game.getResource("shadow_right.png").texture),this.mRightPBox.addChild(t,a)),3==n&&(t=new PIXI.Sprite(this.game.getResource("shadow_center.png").texture),this.mCenterPBox.addChild(t,a)),t.y=15,t.anchor.set(.5),a.anchor.set(.5)}this.mLeftPBox.position.set(this.width/2+22-this.mLeftPBox.width/2,0),this.mRightPBox.position.set(this.width/2+this.mRightPBox.width/2,0),this.mCenterPBox.position.set(this.width/2,0),this.addChild(this.mCenterPBox,this.mRightPBox,this.mLeftPBox),me["b"].to(this.mLeftPBox,{y:360,duration:1,ease:"bounce"}),me["b"].to(this.mRightPBox,{y:360,duration:1,ease:"bounce"}),me["b"].to(this.mCenterPBox,{y:360,duration:1,ease:"bounce"}).eventCallback("onComplete",(function(){e.createAffordance()}))}},{key:"OpenPeeKaBoo",value:function(){me["b"].to(this.mLeftPBox,{x:this.mLeftPBox.x-this.mLeftPBox.width/2,duration:.5}),me["b"].to(this.mRightPBox,{x:this.mRightPBox.x+this.mRightPBox.width/2,duration:.5})}},{key:"onSound",value:function(){var e=this,t=aa.Handle.currentGame.getViewerResource("at_sfx_4.mp3").sound;t.play();for(var n=[0,1,0,2],a=0,i=function(t){var i=aa.Handle.currentGame.soundList[n[t]],o=aa.Handle.currentGame.getProductResource("".concat(i)).sound;a+=2==t?o.duration+.5:o.duration,me["b"].delayedCall(a,(function(){o.play(),0==t&&me["b"].to(e.mLeftPBox.scale,{x:1.1,y:1.1,duration:o.duration/3}).yoyo(!0).repeat(1),1!=t&&3!=t||me["b"].to(e.mCenterPBox.scale,{x:1.1,y:1.1,duration:o.duration/3}).yoyo(!0).repeat(1),2==t&&me["b"].to(e.mRightPBox.scale,{x:1.1,y:1.1,duration:o.duration/3}).yoyo(!0).repeat(1),t==n.length-1&&me["b"].delayedCall(o.duration,(function(){aa.Handle.nextGame()}))}))},o=0;o<n.length;o++)i(o)}},{key:"createAffordance",value:function(){var e=this;this.mAffordance=new PIXI.Container,this.mAffordance.alpha=0;var t=new PIXI.Sprite(this.game.getViewerResource("circle.png").texture);t.position.set(0,0),t.anchor.set(.5),me["b"].fromTo(t.scale,{x:1.4,y:1.4},{x:1,y:1,duration:1}).yoyo(!0).repeat(-1),this.mAffordance.addChild(t);var n=new PIXI.Sprite(this.game.getViewerResource("finger.png").texture);n.anchor.set(.5),n.position.set(0,60),me["b"].to(n,{y:n.y+30,duration:1}).yoyo(!0).repeat(-1),this.mAffordance.addChild(n),this.addChild(this.mAffordance),this.mAffordance.position.set(this.width/2,this.height/2),me["b"].to(this.mAffordance,{alpha:1,duration:.5}),this.mAffordance.interactive=!0,this.mAffordance.buttonMode=!0,this.mAffordance.on("pointertap",(function(){e.mAffordance.interactive=!1,e.mAffordance.buttonMode=!1,me["b"].to(e.mAffordance,{alpha:0,duration:1}),e.OpenPeeKaBoo(),e.onSound()}))}},{key:"onEnd",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"main"==L.excuteMode&&""!=re.token?(console.log(" 알파벳 터치 종료",this.game.gameName,aa.Handle.appData.symbol.toLowerCase(),ue.childSetting.lrngChoLvlCd,ei.Handle.wrongCount),Vt.setActivityEnd({activity:this.game.gameName,endinfo:{symbol:aa.Handle.appData.symbol.toLowerCase(),lrngChoLvlCd:ue.childSetting.lrngChoLvlCd,wrongCount:ei.Handle.wrongCount}})):console.warn("touch 학습결과를 전송하지 않습니다."),na["a"].stopAll(),me["b"].globalTimeline.clear(),e.next=5,this.game.startEOPScreen(1);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(Pa),ni=[{sliceCount:6,moveSpeed:1.5,firstFix:2},{sliceCount:6,moveSpeed:1.5,firstFix:1},{sliceCount:6,moveSpeed:1,firstFix:0}],ai=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.call(this,"touch")}return Object(u["a"])(n,[{key:"onStartGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.startLoadingScreen();case 2:return e.next=4,T.a.post("".concat(N.Config.restAPIProd,"/alphabet/getViewerResource"),{activity:"touch"});case 4:return t=e.sent,e.next=7,this._loadViewerResource(t.data);case 7:return e.next=9,T.a.post("".concat(N.Config.restAPIProd,"/alphabet/getProductResource"),{activity:"touch",symbol:aa.Handle.appData.symbol.toLowerCase()});case 9:return n=e.sent,e.next=12,this._loadProductResource(n.data);case 12:this.mSoundList=n.data.sound.splice(0),this.mLevelData=ni[aa.Handle.appData.level-1],this.addScene("intro",new Ya),this.addScene("activity",new ei),this.addScene("outro",new ti),this.goScene("intro");case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onEndGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.warn("AL touch END",this.playTime),e.next=3,ce.updatePlayTime(this.playTime);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"soundList",get:function(){return this.mSoundList}},{key:"levelData",get:function(){return this.mLevelData}}]),n}(Oa),ii=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;if(Object(l["a"])(this,n),a=t.call(this),a.background=new PIXI.Sprite,"Type1"===e){var i=["block_bg_1.png","block_bg_2.png","block_bg_3.png"];Ta(i),a.background.texture=aa.Handle.currentGame.getResource(i[0]).texture}else a.background.texture=aa.Handle.currentGame.getResource("block_bg_4.png").texture;return a.addChild(a.background),a}return Object(u["a"])(n,[{key:"onSetting",value:function(){}},{key:"type2Background",value:function(){this.background.texture=aa.Handle.currentGame.getResource("block_bg_5.png").texture}}]),n}(PIXI.Container),oi=(n("b680"),{MarkerRange:20,SegLineColor:13010975,SegLineWidth:10});(function(e){e[e["normal"]=0]="normal",e[e["selected"]=1]="selected"})(Na||(Na={}));var ri=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mIsStartMark=!1,e.mChecked=!1,e}return Object(u["a"])(n,[{key:"hitTest",value:function(e,t){var n=this.toLocal(new ta["Point"](e,t)),a=n.x,i=n.y,o=a*a+i*i;return o<oi.MarkerRange*oi.MarkerRange}},{key:"isStartMark",get:function(){return this.mIsStartMark},set:function(e){this.mIsStartMark=e,this.onRefreshDraw()}},{key:"checked",get:function(){return this.mChecked},set:function(e){this.mChecked=e}},{key:"markerState",get:function(){return this.mState},set:function(e){this.mState!=e&&(this.mState=e,this.onRefreshDraw())}}]),n}(ta["Container"]),si=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(l["a"])(this,n),e=t.call(this),e.mDrawing=new ta["Graphics"],e.addChild(e.mDrawing),e.x=a,e.y=i,e.markerState=Na.normal,e}return Object(u["a"])(n,[{key:"onRefreshDraw",value:function(){switch(this.markerState){case Na.normal:this.mDrawing.clear(),this.isStartMark&&this.mDrawing.lineStyle(8,16724736,.8,1),this.mDrawing.beginFill(16777215),this.mDrawing.drawCircle(0,0,oi.MarkerRange),this.mDrawing.endFill(),me["c"].to(this.scale,{x:1,y:1,duration:.5});break;case Na.selected:this.mDrawing.clear(),this.isStartMark&&this.mDrawing.lineStyle(8,16724736,.8,1),this.mDrawing.beginFill(16777215),this.mDrawing.drawCircle(0,0,oi.MarkerRange),this.mDrawing.endFill(),me["c"].to(this.scale,{x:1.2,y:1.2,duration:.5});break}}},{key:"clone",value:function(){var e=new n(this.x,this.y);return e}}]),n}(ri),ci=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return Object(l["a"])(this,n),i=t.call(this),i.mDisplayStartMarkerAni=!0,i.mDisplayStartMarkerAni=s,i.mTextureNormal=e,i.mTextureSelected=a,i.mDrawing=new ta["Sprite"],i.mDrawing.anchor.set(.5),i.addChild(i.mDrawing),i.x=o,i.y=r,i.mStartMarkerIdleAni=null,i.markerState=Na.normal,i}return Object(u["a"])(n,[{key:"onRefreshDraw",value:function(){switch(this.markerState){case Na.normal:this.mDrawing.texture=this.mTextureNormal,this.mDisplayStartMarkerAni&&this.isStartMark?null==this.mStartMarkerIdleAni&&(this.mStartMarkerIdleAni=me["c"].fromTo(this.scale,{x:1,y:1,duration:.5},{x:1.2,y:1.2}).repeat(-1).yoyo(!0)):me["c"].to(this.scale,{x:1,y:1,duration:.5});break;case Na.selected:var e=aa.Handle.currentGame.getResource("ab_sfx_5.mp3").sound;e.play(),this.mDrawing.texture=this.mTextureSelected,this.mDisplayStartMarkerAni&&this.isStartMark&&null!=this.mStartMarkerIdleAni&&this.mStartMarkerIdleAni.kill(),me["c"].to(this.scale,{x:1.2,y:1.2,duration:.5});break}}},{key:"clone",value:function(){var e=new n(this.mTextureNormal,this.mTextureSelected,this.x,this.y,this.mDisplayStartMarkerAni);return e}}]),n}(ri),li=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var i;return Object(l["a"])(this,n),i=t.call(this),i.mStartMarker=e,i.mEndMarker=a,i.mControlPos=new ta["Point"](0,0),i._refreshDraw(),i}return Object(u["a"])(n,[{key:"setCV",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.mControlPos.set(e,t),this._refreshDraw()}},{key:"_refreshDraw",value:function(){this.clear(),this.mStartMarker&&this.mEndMarker&&(this.x=this.mStartMarker.x,this.y=this.mStartMarker.y,this.beginFill(16777215,0),this.lineStyle(oi.SegLineWidth,oi.SegLineColor),this.moveTo(0,0),this.quadraticCurveTo(this.controlPos.x,this.controlPos.y,this.mEndMarker.x-this.x,this.mEndMarker.y-this.y),this.endFill())}},{key:"startMarker",set:function(e){e&&(this.mStartMarker=e,this._refreshDraw())}},{key:"endMarker",set:function(e){e&&(this.mEndMarker=e,this._refreshDraw())}},{key:"controlPos",get:function(){return this.mControlPos}}]),n}(ta["Graphics"]),ui=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this),a.mMarkerSource=e,a.mMarkerRoot=new ta["Container"],a.mSegmentRoot=new ta["Container"],a.addChild(a.mSegmentRoot),a.addChild(a.mMarkerRoot),a.clear(),a}return Object(u["a"])(n,[{key:"clear",value:function(){this.mMarkerRoot.removeChildren(),this.mSegmentRoot.removeChildren(),this.mMarkerList=[],this.mSegmentList=[];var e=this.mMarkerSource.clone();e.x=20,e.y=20,e.isStartMark=!0,this.mMarkerRoot.addChild(e),this.mMarkerList.push(e),this.mCurrentOffset=0}},{key:"addMarker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.mMarkerSource.clone();n.x=e,n.y=t,this.mMarkerRoot.addChild(n),this.mMarkerList.push(n);var a=new li(this.mMarkerList[this.mMarkerList.length-2],n);this.mSegmentRoot.addChild(a),this.mSegmentList.push(a)}},{key:"removeMarker",value:function(e){var t=this.mMarkerList.indexOf(e);if(t>0){this.mMarkerRoot.removeChild(e),this.mMarkerList.splice(t,1);var n=t-1;this.mSegmentRoot.removeChildAt(n),this.mSegmentList.splice(n,1),this.mSegmentList[n]&&(this.mSegmentList[n].startMarker=this.mMarkerList[t-1]),this.refreshDraw()}}},{key:"getMarkerSegment",value:function(e){var t=this.mMarkerList.indexOf(e);return t>=0?this.mSegmentList[t]:null}},{key:"refreshDraw",value:function(){var e,t=Object(x["a"])(this.mSegmentList);try{for(t.s();!(e=t.n()).done;){var n=e.value;n._refreshDraw()}}catch(a){t.e(a)}finally{t.f()}}},{key:"resetCheckState",value:function(){this.alpha=1;var e,t=Object(x["a"])(this.mMarkerList);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.checked=!1,n.markerState=Na.normal}}catch(a){t.e(a)}finally{t.f()}}},{key:"getHitedMarker",value:function(e,t){var n,a=Object(x["a"])(this.mMarkerList);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.hitTest(e,t))return i}}catch(o){a.e(o)}finally{a.f()}return null}},{key:"isNextMarker",value:function(e){var t,n=Object(x["a"])(this.mMarkerList);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(0==a.checked)return e==a}}catch(i){n.e(i)}finally{n.f()}return!0}},{key:"save",value:function(){for(var e=[],t=0;t<this.mMarkerList.length;t++){var n=this.mMarkerList[t],a=this.mSegmentList[t];a?e.push({x:parseFloat(n.x.toFixed(2)),y:parseFloat(n.y.toFixed(2)),cx:parseFloat(a.controlPos.x.toFixed(2)),cy:parseFloat(a.controlPos.y.toFixed(2))}):e.push({x:parseFloat(n.x.toFixed(2)),y:parseFloat(n.y.toFixed(2)),cx:0,cy:0})}return e}},{key:"load",value:function(e){this.mMarkerRoot.removeChildren(),this.mSegmentRoot.removeChildren(),this.mMarkerList=[],this.mSegmentList=[];for(var t=0;t<e.length;t++){var n=e[t];if(0==t){var a=this.mMarkerSource.clone();a.x=n.x,a.y=n.y,a.isStartMark=!0,this.mMarkerRoot.addChild(a),this.mMarkerList.push(a)}else{var i=this.mMarkerSource.clone();i.x=n.x,i.y=n.y,this.mMarkerRoot.addChild(i),this.mMarkerList.push(i);var o=e[t-1],r=new li(this.mMarkerList[this.mMarkerList.length-2],i);r.controlPos.x=o.cx,r.controlPos.y=o.cy,this.mSegmentRoot.addChild(r),this.mSegmentList.push(r)}}this.mCurrentOffset=0,this.refreshDraw()}},{key:"displayWriteAniProc",value:function(){var e=this;return new Promise((function(t,n){var a,i=0,o=Object(x["a"])(e.mMarkerList);try{var r=function(){var e=a.value;me["c"].delayedCall(i,(function(){return e.markerState=Na.selected})),i+=.5};for(o.s();!(a=o.n()).done;)r()}catch(s){o.e(s)}finally{o.f()}me["c"].delayedCall(i,(function(){return t()}))}))}},{key:"markerCount",get:function(){return this.mMarkerList.length}},{key:"isCleared",get:function(){var e,t=Object(x["a"])(this.mMarkerList);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!n.checked)return!1}}catch(a){t.e(a)}finally{t.f()}return!0}}]),n}(ta["Container"]),mi=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this),a.mMarkerSource=e,a.clear(),a}return Object(u["a"])(n,[{key:"addMarker",value:function(e,t){this.currentLine.addMarker(e,t)}},{key:"removeMarker",value:function(e){this.currentLine.removeMarker(e)}},{key:"getMarkerSegment",value:function(e){return this.currentLine.getMarkerSegment(e)}},{key:"refreshDraw",value:function(){this.currentLine.refreshDraw()}},{key:"addLine",value:function(){this.mMarkerLineList.push(new ui(this.mMarkerSource))}},{key:"removeLine",value:function(e){e>0&&e<this.mMarkerLineList.length&&(this.mCurrentLineIDX=e-1,this.mMarkerLineList.splice(e,1),this.currentLineIDX=this.mCurrentLineIDX)}},{key:"resetCheckState",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Object(x["a"])(this.mMarkerLineList);try{for(t.s();!(n=t.n()).done;)a=n.value,a.resetCheckState()}catch(i){t.e(i)}finally{t.f()}this.mCurrentLineIDX=0,this.removeChildren(),this.addChild(this.mMarkerLineList[this.mCurrentLineIDX]);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"clear",value:function(){this.mMarkerLineList=[],this.addLine(),this.currentLineIDX=0}},{key:"save",value:function(){var e,t=[],n=Object(x["a"])(this.mMarkerLineList);try{for(n.s();!(e=n.n()).done;){var a=e.value;t.push(a.save())}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"load",value:function(e){this.removeChildren(),this.mMarkerLineList=[];var t,a=Object(x["a"])(e);try{for(a.s();!(t=a.n()).done;){var i=t.value,o=new ui(this.mMarkerSource);o.load(i),this.mMarkerLineList.push(o)}}catch(r){a.e(r)}finally{a.f()}this.currentLineIDX=0,this.emit(n.EVT_Refresh)}},{key:"currentLineIDX",get:function(){return this.mCurrentLineIDX},set:function(e){this.mCurrentLineIDX=e,this.mCurrentLineIDX>=this.mMarkerLineList.length&&(this.mCurrentLineIDX=this.mMarkerLineList.length-1),this.removeChildren(),this.addChild(this.mMarkerLineList[this.mCurrentLineIDX])}},{key:"currentLine",get:function(){return this.mMarkerLineList[this.mCurrentLineIDX]}},{key:"lineCount",get:function(){return this.mMarkerLineList.length}},{key:"isCleared",get:function(){var e,t=Object(x["a"])(this.mMarkerLineList);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!n.isCleared)return!1}}catch(a){t.e(a)}finally{t.f()}return!0}}]),n}(ta["Container"]);mi.EVT_Refresh="WordMarkerSprite-refresh";ta["Sprite"];var hi=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a,i,o,r){var s;Object(l["a"])(this,n),s=t.call(this),s.mIsDowned=!1,s.mWordSprite=new mi(new ci(e,a,0,0)),s.mWordSprite.visible=!1,s.interactive=!0,s.mOutlineImage=new ta["Sprite"](i),s.mFilledImage=new ta["Sprite"](o),s.mFilledImage.alpha=0,s.mSliceImageList=[];var c,u=Object(x["a"])(r);try{for(u.s();!(c=u.n()).done;){var m=c.value,h=new ta["Sprite"](m);h.alpha=0,s.mSliceImageList.push(h)}}catch(g){u.e(g)}finally{u.f()}s.on("pointerdown",(function(e){if(!s.mIsDowned){s.mIsDowned=!0;s.toLocal(e.data.global);var t=s.getHitedMarker(e.data.global.x,e.data.global.y);t&&(0!=t.checked||s.mWordSprite.currentLine.isNextMarker(t)||s.emit(n.EVT_WrongSelect))}})),s.on("pointermove",(function(e){if(s.mIsDowned){s.toLocal(e.data.global);var t=s.getHitedMarker(e.data.global.x,e.data.global.y);t&&s.onMarkerChecked(t)}})),s.on("pointerup",(function(e){s.mIsDowned&&(s.mIsDowned=!1)})),s.on("pointerupoutside",(function(e){s.mIsDowned&&(s.mIsDowned=!1)})),s.addChild(s.mOutlineImage);var d,p=Object(x["a"])(s.mSliceImageList);try{for(p.s();!(d=p.n()).done;){var f=d.value;s.addChild(f)}}catch(g){p.e(g)}finally{p.f()}return s.addChild(s.mFilledImage),s.addChild(s.mWordSprite),s}return Object(u["a"])(n,[{key:"onMarkerChecked",value:function(e){var t=this;e&&this.mWordSprite.currentLine.isNextMarker(e)&&(e.checked=!0,e.markerState=Na.selected,this.mWordSprite.currentLine.isCleared&&(0==this.mWordSprite.isCleared?(console.log("currentLineIDX",this.mWordSprite.currentLineIDX),this.interactive=!1,this.emit(n.EVT_LineComplete,{lineIDX:this.mWordSprite.currentLineIDX,lineCount:this.mSliceImageList.length}),me["c"].to(this.mWordSprite.currentLine,{duration:.5,alpha:0}),me["c"].to(this.mSliceImageList[this.mWordSprite.currentLineIDX],{delay:.5,duration:.5,alpha:1}).eventCallback("onComplete",(function(){t.mIsDowned=!1,t.mWordSprite.currentLineIDX+=1,t.mWordSprite.currentLine.alpha=0,me["c"].to(t.mWordSprite.currentLine,{delay:.5,duration:.5,alpha:1}).eventCallback("onComplete",(function(){t.interactive=!0}))}))):(this.interactive=!1,me["c"].to(this.mSliceImageList[this.mWordSprite.currentLineIDX],{duration:.5,alpha:1}),me["c"].delayedCall(.5,(function(){return t.emit(n.EVT_LineComplete,{lineIDX:t.mWordSprite.currentLineIDX,lineCount:t.mSliceImageList.length})})),me["c"].to(this.mWordSprite.currentLine,{delay:.5,duration:.5,alpha:0}).eventCallback("onComplete",(function(){var e,a=Object(x["a"])(t.mSliceImageList);try{for(a.s();!(e=a.n()).done;){var i=e.value;me["c"].to(i,{duration:1,alpha:0})}}catch(o){a.e(o)}finally{a.f()}me["c"].to(t.mFilledImage,{duration:1,alpha:1}),me["c"].to(t.mOutlineImage,{duration:1,alpha:0}),me["c"].delayedCall(1,(function(){return t.emit(n.EVT_WordComplete)}))})))))}},{key:"addLine",value:function(){this.mWordSprite.addLine()}},{key:"getHitedMarker",value:function(e,t){return this.mWordSprite.currentLine.getHitedMarker(e,t)}},{key:"loadData",value:function(e){this.mOutlineImage.alpha=1,this.mFilledImage.alpha=0;var t,n=Object(x["a"])(this.mSliceImageList);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.alpha=0}}catch(i){n.e(i)}finally{n.f()}this.mWordSprite.load(e),this.mWordSprite.visible=!0,this.mIsDowned=!1,this.interactive=!0}},{key:"wordData",get:function(){return this.mWordSprite}}]),n}(ta["Sprite"]);hi.EVT_LineComplete="block-line-complete",hi.EVT_WordComplete="block-word-complete",hi.EVT_WrongSelect="block-wrong-select";var di=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a,i,o,r){var s;Object(l["a"])(this,n),s=t.call(this),s.mCorrectState=!0,s.mIsDowned=!1,s.mWordSprite=new mi(new ci(e,a,0,0,!1)),s.mWordSprite.visible=!1,s.interactive=!0,s.mOutlineImage=new ta["Sprite"](i),s.mFilledImage=new ta["Sprite"](o),s.mFilledImage.alpha=0,s.mSliceImageList=[];var c,u=Object(x["a"])(r);try{for(u.s();!(c=u.n()).done;){var m=c.value,h=new ta["Sprite"](m);h.alpha=0,s.mSliceImageList.push(h)}}catch(g){u.e(g)}finally{u.f()}s.on("pointerdown",(function(e){if(!s.mIsDowned){s.mIsDowned=!0;s.toLocal(e.data.global);var t=s.getHitedMarker(e.data.global.x,e.data.global.y);t&&(0!=t.checked||s.mWordSprite.currentLine.isNextMarker(t)||s.emit(hi.EVT_WrongSelect))}})),s.on("pointermove",(function(e){if(s.mIsDowned){s.toLocal(e.data.global);var t=s.getHitedMarker(e.data.global.x,e.data.global.y);t&&s.onMarkerChecked(t)}})),s.on("pointerup",(function(e){s.mIsDowned&&(s.mIsDowned=!1)})),s.on("pointerupoutside",(function(e){s.mIsDowned&&(s.mIsDowned=!1)})),s.addChild(s.mFilledImage),s.addChild(s.mOutlineImage);var d,p=Object(x["a"])(s.mSliceImageList);try{for(p.s();!(d=p.n()).done;){var f=d.value;s.addChild(f)}}catch(g){p.e(g)}finally{p.f()}return s.addChild(s.mWordSprite),s}return Object(u["a"])(n,[{key:"onMarkerChecked",value:function(e){var t=this;e&&(0!=e.checked||this.mWordSprite.currentLine.isNextMarker(e)||(this.mCorrectState=!1),e.checked=!0,e.markerState=Na.selected,this.mWordSprite.currentLine.isCleared&&(0==this.mCorrectState?(this.interactive=!1,this.emit(n.EVT_WrongComplete)):0==this.mWordSprite.isCleared?(console.log("currentLineIDX",this.mWordSprite.currentLineIDX),this.interactive=!1,this.emit(n.EVT_LineComplete,{lineIDX:this.mWordSprite.currentLineIDX,lineCount:this.mSliceImageList.length}),me["c"].to(this.mWordSprite.currentLine,{duration:.5,alpha:0}),me["c"].to(this.mSliceImageList[this.mWordSprite.currentLineIDX],{delay:.5,duration:.5,alpha:1}).eventCallback("onComplete",(function(){t.mIsDowned=!1,t.mWordSprite.currentLineIDX+=1,t.mWordSprite.currentLine.alpha=0,me["c"].to(t.mWordSprite.currentLine,{delay:.5,duration:.5,alpha:1}).eventCallback("onComplete",(function(){t.interactive=!0}))}))):(this.interactive=!1,me["c"].to(this.mSliceImageList[this.mWordSprite.currentLineIDX],{duration:.5,alpha:1}),me["c"].delayedCall(.5,(function(){return t.emit(n.EVT_LineComplete,{lineIDX:t.mWordSprite.currentLineIDX,lineCount:t.mSliceImageList.length})})),me["c"].to(this.mWordSprite.currentLine,{delay:.5,duration:.5,alpha:0}).eventCallback("onComplete",(function(){var e,a=Object(x["a"])(t.mSliceImageList);try{for(a.s();!(e=a.n()).done;){var i=e.value;me["c"].to(i,{duration:1,alpha:0})}}catch(o){a.e(o)}finally{a.f()}me["c"].to(t.mFilledImage,{duration:1,alpha:1}),me["c"].to(t.mOutlineImage,{duration:1,alpha:0}),me["c"].delayedCall(1,(function(){return t.emit(n.EVT_WordComplete)}))})))))}},{key:"displayWriteAniProc",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,a,i,o,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.interactive=!1,this.mWordSprite.resetCheckState(),t=Object(x["a"])(this.mSliceImageList);try{for(t.s();!(a=t.n()).done;)i=a.value,i.alpha=0}catch(s){t.e(s)}finally{t.f()}o=0;case 5:if(!(o<this.mWordSprite.lineCount)){e.next=13;break}return this.mWordSprite.currentLineIDX=o,e.next=9,this.mWordSprite.currentLine.displayWriteAniProc();case 9:me["c"].to(this.mSliceImageList[this.mWordSprite.currentLineIDX],{duration:.5,alpha:1});case 10:o++,e.next=5;break;case 13:me["c"].to(this.mWordSprite.currentLine,{duration:.5,alpha:0}).eventCallback("onComplete",(function(){var e,t=Object(x["a"])(r.mSliceImageList);try{for(t.s();!(e=t.n()).done;){var a=e.value;me["c"].to(a,{duration:1,alpha:0})}}catch(s){t.e(s)}finally{t.f()}me["c"].to(r.mFilledImage,{duration:1,alpha:1}),me["c"].to(r.mOutlineImage,{duration:1,alpha:0}),me["c"].delayedCall(1,(function(){return r.emit(n.EVT_WordComplete)}))}));case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addLine",value:function(){this.mWordSprite.addLine()}},{key:"getHitedMarker",value:function(e,t){return this.mWordSprite.currentLine.getHitedMarker(e,t)}},{key:"loadData",value:function(e){this.mOutlineImage.alpha=1,this.mFilledImage.alpha=0;var t,n=Object(x["a"])(this.mSliceImageList);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.alpha=0}}catch(i){n.e(i)}finally{n.f()}this.mWordSprite.load(e),this.mCorrectState=!0,this.mWordSprite.visible=!0,this.mIsDowned=!1,this.interactive=!0}},{key:"wordData",get:function(){return this.mWordSprite}}]),n}(ta["Sprite"]);di.EVT_LineComplete="quiz-line-complete",di.EVT_WordComplete="quiz-word-complete",di.EVT_WrongComplete="quiz-wrong-complete";var pi,fi=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var i;return Object(l["a"])(this,n),i=t.call(this,"Type1"),i.mInfo=e,i.mData=[],i.readyResource(a),i}return Object(u["a"])(n,[{key:"readyResource",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,o,r,s,c,l,u,m,h,d,p,f,g,v,b,y,C,k,S,w,_;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=aa.Handle.appData.symbol,a=n==n.toUpperCase()?1:2,"upper"==t?(a=1,n=aa.Handle.appData.symbol.toUpperCase()):"lower"==t?(a=2,n=aa.Handle.appData.symbol.toLowerCase()):(t="upper",a=1,n=aa.Handle.appData.symbol.toUpperCase()),i=[],o=[],1==a){r=this.mInfo,i.push(r.guide),s=Object(x["a"])(r.correct);try{for(s.s();!(c=s.n()).done;)l=c.value,i.push(l)}catch(I){s.e(I)}finally{s.f()}u=Object(x["a"])(r.lines);try{for(u.s();!(m=u.n()).done;)h=m.value,o.push(h.replace("line_",""))}catch(I){u.e(I)}finally{u.f()}}else{d=this.mInfo,i.push(d.guide),p=Object(x["a"])(d.correct);try{for(p.s();!(f=p.n()).done;)g=f.value,i.push(g)}catch(I){p.e(I)}finally{p.f()}v=Object(x["a"])(d.lines);try{for(v.s();!(b=v.n()).done;)y=b.value,o.push(y.replace("line_",""))}catch(I){v.e(I)}finally{v.f()}}for(C=[],k=0;k<o.length;k++)C.push(aa.Handle.currentGame.getProductResource(o[k]).texture);return this.mMarkerSprite=new hi(aa.Handle.currentGame.getResource("marker_2.png").texture,aa.Handle.currentGame.getResource("marker_1.png").texture,aa.Handle.currentGame.getProductResource("ab_line_".concat(n.toLowerCase(),"_").concat(a,".png")).texture,aa.Handle.currentGame.getProductResource("ab_".concat(n.toLowerCase(),"_").concat(a,".png")).texture,C),S=aa.Handle.currentGame.getProductResource("ab_line_".concat(n.toLowerCase(),"_").concat(a,".png")).texture.width/2,w=aa.Handle.currentGame.getProductResource("ab_line_".concat(n.toLowerCase(),"_").concat(a,".png")).texture.height/2,this.mMarkerSprite.position.set(672.5-S,313.5-w),this.addChild(this.mMarkerSprite),e.next=15,T.a.get("".concat(N.Config.restAPIProd,"/learning/alphabet/block/").concat(n.toUpperCase()));case 15:_=e.sent,1==a?this.mData=_.data.infolist.upperCase:2==a&&(this.mData=_.data.infolist.lowerCase),this.mMarkerSprite.loadData(this.mData),this.mMarkerSprite.on(hi.EVT_LineComplete,(function(e){var t=aa.Handle.currentGame.getResource("ab_sfx_4.mp3").sound,n=aa.Handle.currentGame.getResource("ab_sfx_6.mp3").sound;t.play(),me["b"].delayedCall(t.duration,(function(){n.play()}))})),this.mMarkerSprite.on(hi.EVT_WordComplete,(function(){console.log("WORD complete");var e=aa.Handle.appData.symbol.toLowerCase(),t=aa.Handle.currentGame.getProductResource("".concat(e.toLowerCase(),".mp3")).sound;t.play(),me["b"].delayedCall(t.duration,(function(){var e=aa.Handle.currentGame.getResource("ab_sfx_3.mp3").sound;e.play(),Ri._handle.NextType()}))})),this.mMarkerSprite.on(hi.EVT_WrongSelect,(function(){var e=aa.Handle.currentGame.getResource("ab_sfx_2.mp3").sound;e.play()}));case 21:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(ii),gi=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this,"Type2"),a.mInfo=e,a.mWordBox=new _i,a.mWordBox.position.set(103,100),a.addChild(a.mWordBox),a.mExamBox=new Pi,a.mExamBox.position.set(103,400),a.addChild(a.mExamBox),a.mGuideFinger=new PIXI.Sprite(aa.Handle.currentGame.getResource("finger.png").texture),a.addChild(a.mGuideFinger),a.mGuideFinger.anchor.set(.5),a.mGuideFinger.position.set(640,720*.7),a.mGuideFinger.alpha=0,a.interactive=!0,a.on("pointerdown",(function(){a.mGuideFinger.removeChildren(),a.removeChild(a.mGuideFinger),a.interactive=!1})),a}return Object(u["a"])(n,[{key:"onSetting",value:function(){this.mWordBox.onStart(),this.mExamBox.onStart(),this.fingerMotion()}},{key:"fingerMotion",value:function(){me["b"].to(this.mGuideFinger,{y:216,alpha:1,duration:1.5}).repeat(-1).delay(2)}},{key:"getWordBox",value:function(){return this.mWordBox}},{key:"getExamBox",value:function(){return this.mExamBox}},{key:"getExamStick",value:function(){return this.mExamStick}},{key:"getGameType2",value:function(){return this}},{key:"info",get:function(){return this.mInfo}},{key:"wordbox",get:function(){return this.mWordBox}},{key:"examBox",get:function(){return this.mExamBox}}]),n}(ii),vi=(n("caad"),n("2532"),{b:{0:["ab_b_1_1.png","ab_b_2_1.png"],1:["ab_b_1_2.png","ab_b_1_3.png","ab_b_2_2.png","ab_b_2_3.png"],2:["ab_b_1_2.png","ab_b_1_3.png","ab_b_2_2.png","ab_b_2_3.png"]},e:{0:["ab_e_1_1.png","ab_e_2_1.png"],1:["ab_e_1_2.png","ab_e_1_3.png","ab_e_1_4.png","ab_e_2_2.png"],2:["ab_e_1_2.png","ab_e_1_3.png","ab_e_1_4.png"],3:["ab_e_1_2.png","ab_e_1_3.png","ab_e_1_4.png"]},f:{0:["ab_f_1_1.png","ab_f_2_1.png"],1:["ab_f_1_2.png","ab_f_1_3.png","ab_f_2_2.png"],2:["ab_f_1_2.png","ab_f_1_3.png"]},h:{0:["ab_h_1_1.png","ab_h_1_2.png","ab_h_2_1.png"],1:["ab_h_1_1.png","ab_h_1_2.png","ab_h_2_2.png"],2:["ab_h_1_3.png"]},i:{0:["ab_i_1_1.png","ab_i_2_1.png"],1:["ab_i_1_2.png","ab_i_1_3.png","ab_i_2_2.png"],2:["ab_i_1_2.png","ab_i_1_3.png"]},m:{0:["ab_m_1_1.png","ab_m_1_3.png","ab_m_2_1.png"],1:["ab_m_1_2.png","ab_m_1_4.png","ab_m_2_2.png","ab_m_2_3.png"],2:["ab_m_1_1.png","ab_m_1_3.png","ab_m_2_2.png","ab_m_2_3.png"],3:["ab_m_1_2.png","ab_m_1_4.png"]},n:{0:["ab_n_1_1.png","ab_n_1_3.png","ab_n_2_1.png"],1:["ab_n_1_2.png","ab_n_2_2.png"],2:["ab_n_1_1.png","ab_n_1_3.png"]},w:{0:["ab_w_1_1.png","ab_w_1_3.png","ab_w_2_1.png","ab_w_2_3.png"],1:["ab_w_1_2.png","ab_w_1_4.png","ab_w_2_2.png","ab_w_2_4.png"],2:["ab_w_1_1.png","ab_w_1_3.png","ab_w_2_1.png","ab_w_2_3.png"],3:["ab_w_1_2.png","ab_w_1_4.png","ab_w_2_2.png","ab_w_2_4.png"]},z:{0:["ab_z_1_1.png","ab_z_1_3.png","ab_z_2_1.png","ab_z_2_3.png"],1:["ab_z_1_2.png","ab_z_2_2.png"],2:["ab_z_1_1.png","ab_z_1_3.png","ab_z_2_1.png","ab_z_2_3.png"]}}),bi=["b","e","f","h","i","m","n","w","z"],yi=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;Object(l["a"])(this,n),e=t.call(this),e.mStepCount=0;var a=aa.Handle.appData.level;return e.levelDirec=a,e.mDotLineArray=[],e.mStickArray=[],e.levelCon=new PIXI.Container,e.mStage=new PIXI.Container,e.mStage.interactive=!0,e.mStage.hitArea=new ta["Rectangle"](-525,-360,1050,740),e.addChild(e.mStage),e.addChild(e.levelCon),e}return Object(u["a"])(n,[{key:"onStart",value:function(e){this.mDotLineArray=[],this.mStickArray=[],this.mStepCount=0,this.mInfo=e,this.levelCon.removeChildren(),this.mLine=new PIXI.Sprite(aa.Handle.currentGame.getProductResource(this.mInfo.guide).texture),this.mLine.anchor.set(.5),this.mLine.scale.set(.9),this.levelCon.addChild(this.mLine);for(var t=0;t<this.mInfo.lines.length;t++){var n=new PIXI.Sprite,a=new PIXI.Sprite;n.texture=aa.Handle.currentGame.getProductResource(this.mInfo.lines[t]).texture,n.anchor.set(.5),n.scale.set(.9),n.visible=!0,a.texture=aa.Handle.currentGame.getProductResource(this.mInfo.correct[t]).texture,a.anchor.set(.5),a.visible=!1,2==this.levelDirec?n.visible=!0:n.visible=!1,this.mDotLineArray.push(n),this.levelCon.addChild(n),this.mStickArray.push(a),this.levelCon.addChild(a)}1==this.levelDirec&&(this.mDotLineArray[this.mStepCount].visible=!0)}},{key:"onCorrect",value:function(e){var t=this,n=aa.Handle.currentGame.getResource("ab_sfx_1.mp3").sound;n.play(),this.mDotLineArray[this.mStepCount].visible=!1,this.mStickArray[this.mStepCount].visible=!0;var a=this.mStage.toLocal(e);this.mStickArray[this.mStepCount].scale.set(.9),this.mStickArray[this.mStepCount].x=a.x,this.mStickArray[this.mStepCount].y=a.y,me["b"].to(this.mStickArray[this.mStepCount],{x:0,y:0,duration:.5}).eventCallback("onComplete",(function(){if(t.mStepCount+=1,console.log("총 획순:[".concat(t.mDotLineArray.length,"] 현재 획순:[").concat(t.mStepCount,"]")),t.mStepCount<t.mDotLineArray.length)t.mDotLineArray[t.mStepCount].visible=!0;else{t.levelCon.removeChildren();var e=new ta["Sprite"](aa.Handle.currentGame.getProductResource(t.mInfo.correct[t.mInfo.correct.length-1]).texture);e.anchor.set(.5),e.scale.set(.9),t.levelCon.addChild(e),e.rotation=.05;var n=me["b"].to(e,{rotation:-.05,duration:.1,onComplete:function(){e.rotation=0}});n.yoyo(!0),n.repeat(3);var a=aa.Handle.currentGame.getResource("ab_sfx_4.mp3").sound,i=aa.Handle.currentGame.getProductResource(t.mInfo.sound[0]).sound;a.play(),me["b"].delayedCall(1,(function(){i.play()})),me["b"].delayedCall(2,(function(){var e=aa.Handle.currentGame.getResource("ab_sfx_3.mp3").sound;e.play(),Ri._handle.NextType()}))}if(t.levelDirec>2)for(var o=0;o<t.mDotLineArray.length;o++)t.mDotLineArray[o].visible=!1}))}},{key:"Wrong",value:function(){Ri.Handle.wrongCountTYPE1+=1,console.error("type1 오답수:".concat(Ri.Handle.wrongCountTYPE1)),console.error("type2 오답수:".concat(Ri.Handle.wrongCountTYPE2));var e=aa.Handle.currentGame.getResource("ab_sfx_2.mp3").sound;e.play()}},{key:"setStick",value:function(e,t){console.warn("정답:[".concat(this.mInfo.correct[this.mStepCount],"],클릭한 이미지:[").concat(e,"]"));var n=aa.Handle.appData.symbol.toLowerCase();return bi.includes(n)?(console.warn("클릭스틱:[".concat(e,"] 통과가능스틱:[").concat(vi[n][this.mStepCount],"]")),1==vi[n][this.mStepCount].includes(e)?(this.onCorrect(t),!0):(this.Wrong(),!1)):this.mInfo.correct[this.mStepCount]==e?(this.onCorrect(t),!0):(this.Wrong(),!1)}},{key:"stage",get:function(){return this.mStage}},{key:"directionlevel",get:function(){return this.levelDirec}}]),n}(PIXI.Container),Ci=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;Object(l["a"])(this,n),a=t.call(this),a.mDragFlag=!1,a.mDeltaByClick=new PIXI.Point(0,0);var i=aa.Handle.appData.level;return a.levelScale=i,1==a.levelScale?a.scale.set(1):me["b"].to(a.scale,{x:.8,y:.8,duration:1}),a.mPath=e,a.texture=aa.Handle.currentGame.getProductResource(e).texture,a.interactive=!0,a.anchor.set(.5),a.on("pointermove",(function(e){a.mDragFlag&&a.onDragging(e)})),a}return Object(u["a"])(n,[{key:"focusPointerUp",value:function(e){0!=this.mDragFlag&&(this.mDragFlag=!1,this.buttonMode=!1,this.onDragEnd(e))}},{key:"checkTouchDown",value:function(e){if(0!=i.getColorByPoint(this,new PIXI.Point(e.x,e.y)).a){this.mDragFlag=!0;var t=this.parent.toLocal(new PIXI.Point(e.x,e.y));return this.mDeltaByClick.x=t.x-this.x,this.mDeltaByClick.y=t.y-this.y,this.buttonMode=!0,this.onDragStart(),!0}return!1}},{key:"onDragStart",value:function(){this.buttonMode=!0,this.mReturnPos=new PIXI.Point(this.x,this.y)}},{key:"onDragging",value:function(e){var t=this.parent.toLocal(new PIXI.Point(e.data.global.x,e.data.global.y));t.x,this.mDeltaByClick.x,t.y,this.mDeltaByClick.y;if(this.position.set(t.x-this.mDeltaByClick.x,t.y-this.mDeltaByClick.y),t.x>350||t.y>550||t.y<-80){this.mDragFlag=!1,this.buttonMode=!1;var n=aa.Handle.currentGame.getResource("ab_sfx_2.mp3").sound;n.play(),me["b"].to(this,{x:this.width/2,y:this.height/2,duration:.5,ease:"back"})}}},{key:"onDragEnd",value:function(e){}},{key:"stickCheck",value:function(e){}},{key:"path",get:function(){return this.mPath}}]),n}(PIXI.Sprite),ki=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;Object(l["a"])(this,n),e=t.call(this),e.mOneStick=!0;var a=aa.Handle.appData.level-1;return e.mOneStickLevel=a,e.mWrongCount=a,0==e.mOneStickLevel?e.mOneStick=!0:e.mOneStick=!1,e.mStage=new PIXI.Container,e.mStage.x=-225,e.mStage.y=-280,e.mStickArray=[],e.mCurrentFocusIDX=0,e.addChild(e.mStage),e.interactive=!0,e.on("pointerdown",(function(t){var n,a=e.mStickArray.slice(0).reverse(),i=Object(x["a"])(a);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(1==o.checkTouchDown(t.data.global)){e.mStage.removeChild(o),e.mStage.addChild(o);break}}}catch(r){i.e(r)}finally{i.f()}})),e.on("pointerup",(function(t){var n,a=Object(x["a"])(e.mStickArray);try{for(a.s();!(n=a.n()).done;){var i=n.value;i.focusPointerUp(t.data.global)}}catch(o){a.e(o)}finally{a.f()}})),e}return Object(u["a"])(n,[{key:"onStart",value:function(e){e.correct.length<1&&(this.mWrongCount=1),this.mStage.removeChildren();for(var t=0;t<e.correct.length-1;t++)console.warn("스틱 리스트 => ".concat(e.correct)),this.mStick=new Ci(e.correct[t]),this.mStick.visible=!this.mOneStick,this.mStickArray.push(this.mStick);if(1==this.mOneStick)console.log("스틱배열 길이=>",this.mStickArray.length),console.log("오답 길이=>",e.wrong);else for(var n=0;n<this.mWrongCount;n++)this.mWrong=new Ci(e.wrong[n]),this.mStickArray.push(this.mWrong);var a=this.mStickArray.slice(0);i.shuffleArray(a);for(var o=0;o<a.length;o++)a[o].anchor.set(.5),a[o].position.set(225,280),0==o?me["b"].to(a[o],{x:0,y:150,duration:1}):1==o?me["b"].to(a[o],{x:200,y:150,duration:1}):2==o?me["b"].to(a[o],{x:0,y:450,duration:1}):3==o?me["b"].to(a[o],{x:200,y:450,duration:1}):a[o].position.set(225,280),this.mStage.addChild(a[o]);this.mStickArray[this.mCurrentFocusIDX].visible=!0}},{key:"onCorrect",value:function(){if(1==this.mOneStick){for(var e=0;e<this.mStickArray.length;e++)this.mStickArray[e].visible=!1;console.log(this.mStickArray),this.mCurrentFocusIDX+=1,this.mCurrentFocusIDX<this.mStickArray.length&&(this.mStickArray[this.mCurrentFocusIDX].visible=!0,console.log("".concat(this.mCurrentFocusIDX+1,"번째 스틱 생성")))}}},{key:"onWrong",value:function(){}},{key:"stage",get:function(){return this.mStage}}]),n}(PIXI.Container),Si=["ab_g_2.png","ab_p_2.png","ab_q_2.png","ab_y_2.png"],wi=["ab_a_2.png","ab_c_2.png","ab_e_2.png","ab_j_2.png","ab_m_2.png","ab_n_2.png","ab_o_2.png","ab_r_2.png","ab_s_2.png","ab_t_2.png","ab_u_2.png","ab_v_2.png","ab_w_2.png","ab_x_2.png","ab_z_2.png"],_i=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mExamStickArray=[],e.mStage=new PIXI.Container,e.mStageSize=new PIXI.Point(1077,272),e.mStage.hitArea=new ta["Rectangle"](-105,-100,1280,e.mStageSize.y+200),e.mStage.interactive=!0,e.addChild(e.mStage),e}return Object(u["a"])(n,[{key:"onStart",value:function(){console.log("WORD BOX:",this.info.correct),this.mStage.removeChildren();for(var e=0,t=0;t<this.info.lines.length;t++){var n=new xi(this.info.correct[t],this.info.lines[t]);this.mStage.addChild(n),n.x=e,e+=n.width,Si.includes(this.info.correct[t])&&(n.y=45,n.onArrowPos(135)),wi.includes(this.info.correct[t])&&(n.y=20,n.onArrowPos(60)),console.log(this.info.correct[t],"ab_-_1.png"!=this.info.correct[t]),"ab_-_1.png"!=this.info.correct[t]?this.mExamStickArray.push(n):"ab_x_1.png"!=this.info.correct[0]&&(n.alpha=0)}this.mStage.pivot.x=-this.mStageSize.x/2+e/2,this.mStage.pivot.y=-this.mStageSize.y/2+this.mExamStickArray[0].height/2;var a=this.mExamStickArray.slice(0);a.shift(),i.shuffleArray(a);var o,r=3,s=Object(x["a"])(a);try{for(s.s();!(o=s.n()).done;){var c=o.value;r>0&&(c.open(),r-=1)}}catch(h){s.e(h)}finally{s.f()}var l,u=Object(x["a"])(this.mExamStickArray);try{for(u.s();!(l=u.n()).done;){var m=l.value;if(m.isOpened){m.open(3!=aa.Handle.appData.level);break}}}catch(h){u.e(h)}finally{u.f()}this.mStage.pivot.set(this.width/2,this.height/2),this.mStage.position.set(538.5,136)}},{key:"onCorrect",value:function(e){var t,n=this,a=this.mStage.toLocal(e),i=null,o=Object(x["a"])(this.mExamStickArray);try{for(o.s();!(t=o.n()).done;){var r=t.value;if(r.isOpened){r.close(),i=r;break}}}catch(d){o.e(d)}finally{o.f()}var s,c=!0,l=Object(x["a"])(this.mExamStickArray);try{for(l.s();!(s=l.n()).done;){var u=s.value;if(u.isOpened){u.open(!0),c=!1;break}}}catch(d){l.e(d)}finally{l.f()}var m=this.info.sound[this.mExamStickArray.indexOf(i)],h=aa.Handle.currentGame.getProductResource(m).sound;h.play(),console.log("사운드 트랙 ".concat(this.mExamStickArray.indexOf(i))),me["b"].from(i,{x:a.x,y:a.y,duration:.5}).eventCallback("onComplete",(function(){if(c){Ri.Handle.getCurrentGameType2().type2Background(),Ri.Handle.getCurrentExamBox().endMotion(),n.endMotion();var e=aa.Handle.currentGame.getProductResource(n.info.sound[n.info.sound.length-1]).sound;e.play(),me["b"].delayedCall(e.duration+1,(function(){var e=aa.Handle.currentGame.getResource("ab_sfx_3.mp3").sound;e.play(),Ri.Handle.NextType()}))}}))}},{key:"onWrong",value:function(){Ri.Handle.wrongCountTYPE2+=1,console.error("type1 오답수:".concat(Ri.Handle.wrongCountTYPE1)),console.error("type2 오답수:".concat(Ri.Handle.wrongCountTYPE2));var e=aa.Handle.currentGame.getResource("ab_sfx_2.mp3").sound;e.play()}},{key:"setStick",value:function(e,t){var n,a=null,i=Object(x["a"])(this.mExamStickArray);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.isOpened){a=o;break}}}catch(r){i.e(r)}finally{i.f()}return console.warn("뚫린 단어:[".concat(a.path,"]와 선택한 스틱:[").concat(e,"]가 동일 해야 통과")),a.path==e?(this.onCorrect(t),!0):(this.onWrong(),a.hint(!0),!1)}},{key:"endMotion",value:function(){me["b"].to(this.mStage.scale,{x:1.05,y:1.05,duration:.5}).yoyo(!0).repeat(-1)}},{key:"stage",get:function(){return this.mStage}},{key:"gameType",get:function(){return this.parent}},{key:"info",get:function(){return this.gameType.info}},{key:"examStickList",get:function(){return this.mExamStickArray.slice(0)}}]),n}(PIXI.Container),xi=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var i;return Object(l["a"])(this,n),i=t.call(this),i.mDragFlag=!1,i.mDeltaByClick=new PIXI.Point(0,0),i.mPath=a,i.mTextureOpened=aa.Handle.currentGame.getProductResource(a).texture,i.mTextureClosed=aa.Handle.currentGame.getProductResource(e).texture,i.texture=i.mTextureClosed,i.interactive=!0,i.mArrow=new PIXI.Sprite,i.mArrow.anchor.set(.5,1),i.mArrow.texture=aa.Handle.currentGame.getResource("arrow.png").texture,i.mArrow.scale.set(2),i.mArrow.x=i.width/2,i.mArrow.visible=!1,i.addChild(i.mArrow),i.mBlink=PIXI.Sprite.from(i.mTextureClosed),i.mBlink.visible=!1,i.addChild(i.mBlink),i.on("pointermove",(function(e){i.mDragFlag&&i.onDragging(e)})),i.scale.set(.35),i}return Object(u["a"])(n,[{key:"onDragging",value:function(e){var t=this.parent.toLocal(new PIXI.Point(e.data.global.x,e.data.global.y)),n=t.x-this.mDeltaByClick.x,a=t.y-this.mDeltaByClick.y;this.position.set(n,a);var i=aa.Handle.currentGame.getResource("ab_sfx_2.mp3").sound;(t.x>600||t.x<-300||t.y>200||t.y<-300)&&(this.mDragFlag=!1,i.play(),me["b"].to(this,{x:this.mReturnPos.x,y:this.mReturnPos.y,duration:.5,ease:"back"}))}},{key:"onDragStart",value:function(){this.buttonMode=!0,this.mReturnPos=new PIXI.Point(this.x,this.y)}},{key:"onDragEnd",value:function(e){var t=Ri.Handle.getCurrentWordBox(),n=t.stage.toLocal(e);t.stage.hitArea.contains(n.x,n.y)?this.mBoxInCheck=!0:this.mBoxInCheck=!1;var a=this.toGlobal(new PIXI.Point(0,0));this.stickCheck(a)}},{key:"focusPointerUp",value:function(e){0!=this.mDragFlag&&(this.mDragFlag=!1,this.buttonMode=!1,this.onDragEnd(e))}},{key:"checkTouchDown",value:function(e){if(0!=i.getColorByPoint(this,new PIXI.Point(e.x,e.y)).a){this.mDragFlag=!0;var t=this.parent.toLocal(new PIXI.Point(e.x,e.y));return this.mDeltaByClick.x=t.x-this.x,this.mDeltaByClick.y=t.y-this.y,this.buttonMode=!0,this.onDragStart(),!0}return!1}},{key:"stickCheck",value:function(e){var t=Ri.Handle.getCurrentWordBox(),n=Ri.Handle.getCurrentExamBox();if(1==this.mBoxInCheck){var a=t.setStick(this.mPath,e);1==a?(n.onCorrect(),this.x=this.mReturnPos.x,this.y=this.mReturnPos.y,this.visible=!1):(n.onWrong(),me["b"].to(this,{x:this.mReturnPos.x,y:this.mReturnPos.y,duration:.5}))}}},{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.texture=this.mTextureOpened,3!=aa.Handle.appData.level&&(this.mArrow.visible=e,this.hint(e))}},{key:"close",value:function(){this.texture=this.mTextureClosed,this.mArrow.visible=!1,this.mBlink.visible=!1}},{key:"onArrowPos",value:function(e){this.mArrow.y=-e}},{key:"hint",value:function(e){var t=this;this.mBlink.visible=e,this.mBlink.alpha=0,this.mBlinkTimeLine&&this.mBlinkTimeLine.kill(),me["b"].delayedCall(.5,(function(){if(e){var n=.3;t.mBlinkTimeLine=me["b"].timeline({repeat:1}),t.mBlinkTimeLine.to(t.mBlink,{alpha:1,duration:n}),t.mBlinkTimeLine.to(t.mBlink,{alpha:0,duration:n}),t.mBlinkTimeLine.eventCallback("onComplete",(function(){t.mBlinkTimeLine.kill()}))}else console.log("힌트 끝"),t.mBlinkTimeLine&&t.mBlinkTimeLine.kill()}))}},{key:"path",get:function(){return this.mPath}},{key:"stepCount",get:function(){return this.mStepCount}},{key:"isOpened",get:function(){return this.texture==this.mTextureOpened}}]),n}(PIXI.Sprite),Ii=["ab_g_2.png","ab_p_2.png","ab_q_2.png","ab_y_2.png"],Oi=["ab_j_2.png","ab_a_2.png","ab_c_2.png","ab_e_2.png","ab_n_2.png","ab_m_2.png","ab_o_2.png","ab_r_2.png","ab_s_2.png","ab_t_2.png","ab_u_2.png","ab_v_2.png","ab_w_2.png","ab_x_2.png","ab_z_2.png"],Pi=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mPictureFlag=!0,e.mExamArray=[],e.mPictureStage=new PIXI.Container,e.mPictureStage.pivot.set(125,127.5),e.mPictureStage.position.set(125,127.5),e.mPictureStage.hitArea=new ta["Rectangle"](0,0,250,255),e.mPictureStage.interactive=!0,e.mPictureStage.buttonMode=!0,e.mPicture=new PIXI.Sprite,e.mPicture.anchor.set(.5),e.mPicture.position.set(125,127.5),e.mPictureStage.addChild(e.mPicture),e.addChild(e.mPictureStage),e.mPictureStage.on("pointerdown",(function(){e.clickPicture()})),e.mExamStage=new PIXI.Container,e.mExamStageSize=new PIXI.Point(800,256),e.mExamStage.x=270,e.addChild(e.mExamStage),e.interactive=!0,e.on("pointerdown",(function(t){var n,a=e.mExamArray.reverse(),i=Object(x["a"])(a);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(1==o.checkTouchDown(t.data.global)){e.mExamStage.removeChild(o),e.mExamStage.addChild(o);break}}}catch(r){i.e(r)}finally{i.f()}})),e.on("pointerup",(function(t){var n,a=Object(x["a"])(e.mExamArray);try{for(a.s();!(n=a.n()).done;){var i=n.value;i.focusPointerUp(t.data.global)}}catch(o){a.e(o)}finally{a.f()}})),e}return Object(u["a"])(n,[{key:"onStart",value:function(){this.mPictureTexture1=aa.Handle.currentGame.getProductResource(this.info.picture[0]).texture,this.mPictureTexture2=aa.Handle.currentGame.getProductResource(this.info.picture[1]).texture,this.mExamStage.removeChildren(),this.mPicture.texture=this.mPictureTexture2,this.sellectSetting();var e=aa.Handle.currentGame.getProductResource(this.info.sound[this.info.sound.length-1]).sound;me["b"].delayedCall(1,(function(){e.play()}))}},{key:"clickPicture",value:function(){var e=this;if(this.mPictureFlag){this.mPictureFlag=!1,this.onCorrect();var t=aa.Handle.currentGame.getProductResource(this.info.sound[this.info.sound.length-1]).sound;t.play(),me["b"].delayedCall(1,(function(){e.mPictureFlag=!0}))}}},{key:"onCorrect",value:function(){this.mPicture.texture=this.mPicture.texture==this.mPictureTexture1?this.mPictureTexture2:this.mPictureTexture1}},{key:"sellectSetting",value:function(){for(var e=0;e<this.info.correct.length;e++){var t=new xi(this.info.correct[e],this.info.lines[e]);Oi.includes(this.info.correct[e])&&(t.y=20,t.onArrowPos(60)),Ii.includes(this.info.correct[e])&&(t.y=45,t.onArrowPos(135)),"ab_-_1.png"!=this.info.correct[e]&&this.mExamArray.push(t)}var n,a=[],o=this.gameType.wordbox.examStickList,r=Object(x["a"])(o);try{for(r.s();!(n=r.n()).done;){var s=n.value;s.isOpened||a.push(o.indexOf(s))}}catch(v){r.e(v)}finally{r.f()}var c=[];for(var l in this.mExamArray){var u=parseInt(l,10);a.includes(u)||c.push(this.mExamArray[u])}this.mExamArray=c;for(var m=aa.Handle.appData.level-1,h=m,d=0;d<h;d++){var p=new xi(this.info.wrong[d],this.info.wrong[d]);Oi.includes(this.info.wrong[d])&&(p.y=20,p.onArrowPos(60)),Ii.includes(this.info.wrong[d])&&(p.y=45,p.onArrowPos(135)),this.mExamArray.push(p),console.log("오답은 ".concat(this.info.wrong[d],"이 나옵니다."))}console.log("오답 갯수 ".concat(h,"개 산출")),i.shuffleArray(this.mExamArray);for(var f=0,g=0;g<this.mExamArray.length;g++)0!=g&&(this.mExamArray[g].x=f+10),f+=this.mExamArray[g].width,this.mExamStage.addChild(this.mExamArray[g]);this.mExamStage.pivot.x=-this.mExamStageSize.x/2+f/2,this.mExamStage.pivot.y=-this.mExamStageSize.y/2+this.mExamArray[0].height/2}},{key:"endMotion",value:function(){this.removeChild(this.mPictureStage),this.mExamStage.removeChildren();var e=new PIXI.Sprite(this.mPictureTexture1);this.addChild(e);var t=new PIXI.Sprite(this.mPictureTexture2);this.addChild(t),e.anchor.set(.5),t.anchor.set(.5),e.x=265,e.y=140,t.x=795,t.y=140,me["b"].fromTo(e,{rotation:-.2},{rotation:.2,duration:.5}).yoyo(!0).repeat(-1),me["b"].fromTo(t,{rotation:-.2},{rotation:.2,duration:.5}).yoyo(!0).repeat(-1)}},{key:"onWrong",value:function(){}},{key:"gameType",get:function(){return this.parent}},{key:"info",get:function(){return this.gameType.info}}]),n}(PIXI.Container),Ri=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),n._handle=Object(ea["a"])(e),e.mTypeStep=[],e.mGameTypeStep=-1,e.mWrongCountTYPE1=0,e.mWrongCountTYPE2=0,e}return Object(u["a"])(n,[{key:"onInit",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return na["a"].stopAll(),this.mBGM=aa.Handle.currentGame.getResource("ab_bgm.mp3").sound,t=new yi,new ki,new Pi,t.directionlevel,this.mTypeStep.push(new fi(this.game.quizData[0],"upper")),this.mTypeStep.push(new gi(this.game.quizData[1])),this.mTypeStep.push(new fi(this.game.quizData[2],"lower")),this.mTypeStep.push(new gi(this.game.quizData[3])),this.removeChildren(),this.addChild(this.mTypeStep[this.mGameTypeStep+1]),e.next=14,this.game.endLoadingScreen();case 14:return e.next=16,this.game.startReadyScreen(1,"al_block");case 16:this.start();case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCurrentGameType2",value:function(){return this.mTypeStep[this.mGameTypeStep]instanceof gi?this.mTypeStep[this.mGameTypeStep]:null}},{key:"getCurrentWordBox",value:function(){return this.mTypeStep[this.mGameTypeStep]instanceof gi?this.mTypeStep[this.mGameTypeStep].getWordBox():null}},{key:"getCurrentExamBox",value:function(){return this.mTypeStep[this.mGameTypeStep]instanceof gi?this.mTypeStep[this.mGameTypeStep].getExamBox():null}},{key:"getCurrentExamStick",value:function(){return this.mTypeStep[this.mGameTypeStep]instanceof gi?this.mTypeStep[this.mGameTypeStep].getExamStick():null}},{key:"NextType",value:function(){var e=this;if(console.log("체인지 타입 !"),this.mGameTypeStep<-1&&(this.mGameTypeStep=0),this.mGameTypeStep+=1,this.mGameTypeStep<4){if(this.removeChildren(),this.addChild(this.mTypeStep[this.mGameTypeStep]),this.mTypeStep[this.mGameTypeStep].onSetting(),0==this.mGameTypeStep)return;this.addChild(this.mTypeStep[this.mGameTypeStep-1]),me["b"].to(this.mTypeStep[this.mGameTypeStep-1],{x:-1300,duration:.5}).eventCallback("onComplete",(function(){e.removeChild(e.mTypeStep[e.mGameTypeStep-1])}))}else aa.Handle.nextGame()}},{key:"onStart",value:function(){this.mBGM.play({loop:!0}),this.NextType(),window.onkeyup=function(e){"+"==e.key&&(aa.Handle.nextGame(),window.onkeyup=null)}}},{key:"onEnd",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"main"==L.excuteMode&&""!=re.token?(console.log(" 알파벳 블록 종료",this.game.gameName,aa.Handle.appData.symbol.toLowerCase(),ue.childSetting.lrngChoLvlCd,"첫번째 타입 오답:[".concat(this.wrongCountTYPE1,"]\n            두번째 타입 오답:[").concat(this.wrongCountTYPE2,"]")),Vt.setActivityEnd({activity:this.game.gameName,endinfo:{symbol:aa.Handle.appData.symbol.toLowerCase(),lrngChoLvlCd:ue.childSetting.lrngChoLvlCd,wrongCount:this.wrongCountTYPE1+this.wrongCountTYPE2}})):console.warn("block 학습결과를 보내지 않습니다."),this.mBGM&&this.mBGM.stop(),na["a"].stopAll(),me["b"].globalTimeline.clear(),e.next=6,this.game.startEOPScreen(1);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"wrongCountTYPE1",get:function(){return this.mWrongCountTYPE1},set:function(e){this.mWrongCountTYPE1=e}},{key:"wrongCountTYPE2",get:function(){return this.mWrongCountTYPE2},set:function(e){this.mWrongCountTYPE2=e}}],[{key:"Handle",get:function(){return n._handle}}]),n}(Pa),ji=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.call(this,"block")}return Object(u["a"])(n,[{key:"onStartGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,o,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.startLoadingScreen();case 2:return console.log("Block onStartGame"),e.next=5,T.a.post("".concat(N.Config.restAPIProd,"/alphabet/getProductResource"),{symbol:aa.Handle.appData.symbol.toUpperCase(),activity:"block"});case 5:return t=e.sent,e.next=8,this._loadProductResource(t.data);case 8:return e.next=10,T.a.post("".concat(N.Config.restAPIProd,"/alphabet/getViewerResource"),{activity:"block"});case 10:return n=e.sent,e.next=13,this._loadViewerResource(n.data);case 13:return aa.Handle.appData.symbol.toLowerCase(),e.next=16,T.a.post("".concat(N.Config.restAPIProd,"/alphabet/getBlockData"),{symbol:aa.Handle.appData.symbol.toLowerCase()});case 16:a=e.sent,console.log(a),this.mLoadingAry={image:[],sound:[],spine:[],json:[]},i=Object(x["a"])(a.data.addSymbol),e.prev=20,i.s();case 22:if((o=i.n()).done){e.next=31;break}return r=o.value,e.next=26,T.a.post("".concat(N.Config.restAPIProd,"/alphabet/getProductResource"),{symbol:r.toUpperCase(),activity:"block"});case 26:return s=e.sent,e.next=29,this._loadProductResource(s.data);case 29:e.next=22;break;case 31:e.next=36;break;case 33:e.prev=33,e.t0=e["catch"](20),i.e(e.t0);case 36:return e.prev=36,i.f(),e.finish(36);case 39:this.mQuizData=a.data.QuizData,this.addScene("activity",new Ri),this.goScene("activity");case 42:case"end":return e.stop()}}),e,this,[[20,33,36,39]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"onEndGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.warn("AL block END",this.playTime),e.next=3,ce.updatePlayTime(this.playTime);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onAppMessage",value:function(e){}},{key:"quizData",get:function(){return this.mQuizData}},{key:"blockData",get:function(){return this.getResource("block.json").data}}]),n}(Oa),Di=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a,i){var o;return Object(l["a"])(this,n),o=t.call(this),o.mBG=new PIXI.Sprite(aa.Handle.currentGame.getResource("bg.png").texture),o.addChild(o.mBG),o.mQuizIDX=a,o.mQuizDataList=e,o.mQuizCorrectTex=aa.Handle.currentGame.getResource("correct.png").texture,o.mQuizWrongTex=aa.Handle.currentGame.getResource("wrong.png").texture,o.mQuizResultMark=new PIXI.Sprite,o.mQuizResultMark.zIndex=1,o.mQuizResultMark.position.set(640,360),o.mQuizResultMark.anchor.set(.5),o.addChild(o.mQuizResultMark),o.mQuizResultMark.texture=o.mQuizCorrectTex,o.mQuizResultMark.visible=!1,o}return Object(u["a"])(n,[{key:"setBackground",value:function(e){this.mBG.texture=aa.Handle.currentGame.getResource(e).texture}},{key:"onQuizStepCorrect",value:function(e){var t=this;return new Promise((function(n,a){t.sortChildren(),t.mQuizResultMark.texture=t.mQuizCorrectTex,t.mQuizResultMark.visible=!0,t.mQuizResultMark.alpha=0;var i=aa.Handle.currentGame.getResource("ab_sfx_1.mp3").sound;i.play(),me["c"].to(t.mQuizResultMark,{alpha:1,duration:.5}),me["c"].delayedCall(1,(function(){me["c"].to(t.mQuizResultMark,{alpha:0,duration:.5})})),me["c"].delayedCall(2,(function(){t.mQuizResultMark.visible=!1,void 0==e&&uo.Handle.nextQuiz(),n()}))}))}},{key:"onQuizStepWrong",value:function(e){var t=this;return new Promise((function(n,a){t.sortChildren(),t.mQuizResultMark.texture=t.mQuizWrongTex,t.mQuizResultMark.visible=!0,t.mQuizResultMark.alpha=0;var i=aa.Handle.currentGame.getResource("ab_sfx_2.mp3").sound;i.play(),me["c"].to(t.mQuizResultMark,{alpha:1,duration:.5}),me["c"].delayedCall(1,(function(){me["c"].to(t.mQuizResultMark,{alpha:0,duration:.5})})),me["c"].delayedCall(2,(function(){t.mQuizResultMark.visible=!1,void 0==e&&uo.Handle.nextQuiz(),n()}))}))}},{key:"onStart",value:function(){}},{key:"onEnd",value:function(){}},{key:"activity",get:function(){return this.parent.parent}},{key:"quizData",get:function(){return this.mQuizData}},{key:"quizIDX",get:function(){return this.mQuizIDX}},{key:"quizDataList",get:function(){return this.mQuizDataList}}]),n}(PIXI.Container);(function(e){e[e["blank"]=0]="blank",e[e["Normal"]=1]="Normal",e[e["Line"]=2]="Line",e[e["LineSelected"]=3]="LineSelected",e[e["GuideLineWrong"]=4]="GuideLineWrong",e[e["GuideLineCorrect"]=5]="GuideLineCorrect",e[e["GuideLineWrongSelected"]=6]="GuideLineWrongSelected",e[e["GuideLineCorrectSelected"]=7]="GuideLineCorrectSelected"})(pi||(pi={}));var Ti,Bi=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this),a.mFontMode=pi.Line,a.mIsSelected=!1,a.mSelected=!1,a.mSymbol=e,a.mBody=new PIXI.Sprite,a.mLine=new PIXI.Sprite,a.mWrongGuide=new PIXI.Sprite,a.mCorrectGuide=new PIXI.Sprite,a.mBody.anchor.set(.5),a.mLine.anchor.set(.5),a.mWrongGuide.anchor.set(.5),a.mCorrectGuide.anchor.set(.5),a.addChild(a.mBody),a.addChild(a.mLine),a.addChild(a.mWrongGuide),a.addChild(a.mCorrectGuide),a.setSymbol(e),a._updateModeState(),a}return Object(u["a"])(n,[{key:"_updateModeState",value:function(){switch(this.mFontMode){case pi.blank:this.mBody.visible=!1,this.mLine.visible=!1,this.mWrongGuide.visible=!1,this.mCorrectGuide.visible=!1;break;case pi.Normal:this.mBody.visible=!0,this.mBody.tint=993617,this.mLine.visible=!1,this.mWrongGuide.visible=!1,this.mCorrectGuide.visible=!1;break;case pi.Line:this.mBody.visible=!1,this.mLine.visible=!0,this.mWrongGuide.visible=!1,this.mCorrectGuide.visible=!1;break;case pi.LineSelected:this.mBody.visible=!0,this.mBody.tint=16777215,this.mLine.visible=!0,this.mWrongGuide.visible=!1,this.mCorrectGuide.visible=!1;break;case pi.GuideLineWrong:this.mBody.visible=!1,this.mLine.visible=!1,this.mWrongGuide.visible=!0,this.mCorrectGuide.visible=!1;break;case pi.GuideLineCorrect:this.mBody.visible=!1,this.mLine.visible=!1,this.mWrongGuide.visible=!1,this.mCorrectGuide.visible=!0;break;case pi.GuideLineWrongSelected:this.mBody.visible=!0,this.mBody.tint=16777215,this.mLine.visible=!1,this.mWrongGuide.visible=!0,this.mCorrectGuide.visible=!1;break;case pi.GuideLineCorrectSelected:this.mBody.visible=!0,this.mBody.tint=16777215,this.mLine.visible=!1,this.mWrongGuide.visible=!1,this.mCorrectGuide.visible=!0;break}}},{key:"setSymbol",value:function(e){this.mSymbol=e,this.symbol==this.symbol.toUpperCase()?(this.mBody.texture=aa.Handle.currentGame.getProductResource("".concat(this.symbol.toLowerCase(),"_body_big.png")).texture,this.mLine.texture=aa.Handle.currentGame.getProductResource("".concat(this.symbol.toLowerCase(),"_line_big.png")).texture,this.mWrongGuide.texture=aa.Handle.currentGame.getProductResource("".concat(this.symbol.toLowerCase(),"_wronganswer_big.png")).texture,this.mCorrectGuide.texture=aa.Handle.currentGame.getProductResource("".concat(this.symbol.toLowerCase(),"_answer_big.png")).texture):(this.mBody.texture=aa.Handle.currentGame.getProductResource("".concat(this.symbol.toLowerCase(),"_body_small.png")).texture,this.mLine.texture=aa.Handle.currentGame.getProductResource("".concat(this.symbol.toLowerCase(),"_line_small.png")).texture,this.mWrongGuide.texture=aa.Handle.currentGame.getProductResource("".concat(this.symbol.toLowerCase(),"_wronganswer_small.png")).texture,this.mCorrectGuide.texture=aa.Handle.currentGame.getProductResource("".concat(this.symbol.toLowerCase(),"_answer_small.png")).texture)}},{key:"setMode",value:function(e){this.mFontMode=e,this._updateModeState()}},{key:"symbol",get:function(){return this.mSymbol[0]}},{key:"symbolAll",get:function(){return this.mSymbol}},{key:"fontMode",get:function(){return this.mFontMode},set:function(e){this.mFontMode=e,this._updateModeState()}}]),n}(PIXI.Container),Li=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;Object(l["a"])(this,n),a=t.call(this),a.anchor.set(.5),a.mNormalTexture=aa.Handle.currentGame.getResource("sound_nor.png").texture,a.mActiveTexture=aa.Handle.currentGame.getResource("sound_act.png").texture,a.texture=a.mNormalTexture;var i=aa.Handle.currentGame.getProductResource(e);return a.mSound=i?i.sound:null,a.interactive=!0,a.buttonMode=!0,a.on("pointerdown",(function(e){a.onClick()})),a}return Object(u["a"])(n,[{key:"settingQuizBox",value:function(e){this.mQuizBox=e}},{key:"onClick",value:function(){var e=this;this.mSound.stop(),this.mRepeatSound&&this.mRepeatSound.kill(),this.texture==this.mNormalTexture&&(this.mQuizBox&&this.mQuizBox.repeatMotion(this.mSound.duration),this.mSound.play(),this.texture=this.mActiveTexture,me["c"].delayedCall(this.mSound.duration,(function(){e.texture=e.mNormalTexture,e.mRepeatSound=me["c"].delayedCall(5,(function(){e.onClick()}))})))}},{key:"repeatDestroy",value:function(){this.mRepeatSound&&this.mRepeatSound.kill()}},{key:"getDuration",value:function(){return this.mSound.duration}}]),n}(PIXI.Sprite),Ai=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;Object(l["a"])(this,n),a=t.call(this),a.mCorrectSymbol=e,a.mSolved=!1;var i=1;if(a.mCorrectSymbol!=a.mCorrectSymbol.toUpperCase()){var o=["b","d","f","h","i","k","l","t"],r=["g","j","p","q","t","y"];o.includes(a.mCorrectSymbol)?(i=3,a.y=0):r.includes(a.mCorrectSymbol)?(i=3,a.y=100):(a.y=55,i=2)}return a.mNormalTexture=aa.Handle.currentGame.getResource("box_".concat(i,".png")).texture,a.mFocusLine=new PIXI.Sprite(aa.Handle.currentGame.getResource("box_line_".concat(i,".png")).texture),a.mFocusLine.anchor.set(.5),me["c"].to(a.mFocusLine,{alpha:0,duration:.5}).repeat(-1).yoyo(!0),a.mBG=new PIXI.Sprite(a.mNormalTexture),a.mBG.anchor.set(.5),a.addChild(a.mBG,a.mFocusLine),a.mBoxFont=new Bi(e),a.mBoxFont.setMode(pi.Normal),a.mBoxFont.scale.set(.7),a.addChild(a.mBoxFont),a}return Object(u["a"])(n,[{key:"focused",get:function(){return this.mFocusLine.visible},set:function(e){this.mFocusLine.visible=e}},{key:"solved",get:function(){return this.mSolved},set:function(e){this.mSolved=e,1==this.mSolved?this.mBoxFont.visible=!0:this.mBoxFont.visible=!1}},{key:"symbol",get:function(){return this.mBoxFont.symbol},set:function(e){this.mBoxFont.setSymbol(e)}}]),n}(PIXI.Container),Mi=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var i;Object(l["a"])(this,n),i=t.call(this),i.mClickLock=!1,i.mQuizData=a,i.mSymbol=e,i.mBoxFont=new Bi(e);var o=1;if(e[0]!=e[0].toUpperCase()){var r=["b","d","f","h","i","k","l","t"],s=["g","j","p","q","t","y"];r.includes(e[0])?(o=3,i.y=0):s.includes(e[0])?(o=3,i.y=100):(i.y=20,i.mBoxFont.y=20,o=2)}return i.mNormalTexture=aa.Handle.currentGame.getResource("box_default_".concat(o,".png")).texture,i.mWrongTexture=aa.Handle.currentGame.getResource("box_wrong_".concat(o,".png")).texture,i.mCorrectTexture=aa.Handle.currentGame.getResource("box_inner_answer_".concat(o,".png")).texture,i.mBG=new PIXI.Sprite(i.mNormalTexture),i.mBG.anchor.set(.5),i.mSelectLine=new PIXI.Sprite(aa.Handle.currentGame.getResource("box_inner_select_".concat(o,".png")).texture),i.mSelectLine.anchor.set(.5),i.mSelectLine.alpha=0,i.mSelectLine.y=10,i.addChild(i.mBG,i.mSelectLine),i.addChild(i.mBoxFont),i.interactive=!0,i.buttonMode=!0,i.mBoxFont.setMode(pi.Normal),i.on("pointertap",(function(){i.mClickLock||i.onClick()})),i}return Object(u["a"])(n,[{key:"clickLock",value:function(e){this.mClickLock=e}},{key:"onClick",value:function(){this.mClickLock=!0,me["c"].to(this.mSelectLine,{alpha:1,duration:.5}).repeat(2).yoyo(!0);var e=this.parent.parent.parent;e.quizSection.selectExample(this,this.symbol)}},{key:"correct",value:function(){var e=[];void 0!=this.mQuizData.answer1&&""!=this.mQuizData.answer1&&e.push(this.mQuizData.answer1),void 0!=this.mQuizData.answer2&&""!=this.mQuizData.answer2&&e.push(this.mQuizData.answer2),e.includes(this.mSymbol)?this.mBG.texture=this.mCorrectTexture:this.mBG.texture=this.mWrongTexture}},{key:"symbol",get:function(){return this.mBoxFont.symbol}}]),n}(PIXI.Container),Gi=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;Object(l["a"])(this,n),a=t.call(this),a.mSelected=[],a.mQuizData=e;var i=200,o=[a.mQuizData.quiz1,a.mQuizData.quiz2],r=o.length*-i/2+i/2;a.mBoxes=[];for(var s=0;s<o.length;s++){var c=new Ai(o[s]);c.position.x=r,a.mBoxes.push(c),a.addChild(c),r+=i}return a.makeQuiz(),a}return Object(u["a"])(n,[{key:"makeQuiz",value:function(){this.mBoxes[0].solved=!1,this.mBoxes[0].focused=!1,this.mBoxes[1].solved=!1,this.mBoxes[1].focused=!1,this.mQuizCount=0,void 0!=this.mQuizData.answer1&&""!=this.mQuizData.answer1?this.mQuizCount+=1:this.mBoxes[0].solved=!0,void 0!=this.mQuizData.answer2&&""!=this.mQuizData.answer2?this.mQuizCount+=1:this.mBoxes[1].solved=!0;for(var e=0;e<this.mBoxes.length;e++)this.mBoxes[e].focused=!this.mBoxes[e].solved}},{key:"selectExample",value:function(e,t){var n=this;this.mQuizCount-=1;var a=aa.Handle.currentGame.getResource("ab_sfx_3.mp3").sound;a.play(),this.mSelected.push(t),t==t.toUpperCase()?(this.mBoxes[0].symbol=t,this.mBoxes[0].focused=!1,this.mBoxes[0].solved=!0):(this.mBoxes[1].symbol=t,this.mBoxes[1].focused=!1,this.mBoxes[1].solved=!0);var i=this.parent;0==this.mQuizCount&&(this.parent.destroy(),i.answerSection.clickLock(!0),me["c"].delayedCall(.5,(function(){i.answerSection.checkQuizResult(e,n.mSelected),n.showAnswer()})))}},{key:"showAnswer",value:function(){this.mBoxes[0].solved=!0,this.mBoxes[1].solved=!0,this.mBoxes[0].symbol=this.mQuizData.quiz1,this.mBoxes[1].symbol=this.mQuizData.quiz2,this.mBoxes[0].focused=!1,this.mBoxes[1].focused=!1}}]),n}(PIXI.Container),Ei=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var o;Object(l["a"])(this,n),o=t.call(this),console.log("->",e),o.mQuizIDX=a,o.mQuizData=e,o.mQuizRoot=new PIXI.Container,o.addChild(o.mQuizRoot);var r=[];void 0!=o.mQuizData.example1&&""!=o.mQuizData.example1&&r.push(o.mQuizData.example1),void 0!=o.mQuizData.example2&&""!=o.mQuizData.example2&&r.push(o.mQuizData.example2),void 0!=o.mQuizData.example3&&""!=o.mQuizData.example3&&r.push(o.mQuizData.example3),void 0!=o.mQuizData.example4&&""!=o.mQuizData.example4&&r.push(o.mQuizData.example4),i.shuffleArray(r);var s=0;o.mExampleBoxes=[];for(var c=0;c<r.length;c++){var u=new Mi(r[c],o.mQuizData);c>0&&(300==o.mExampleBoxes[c-1].width?s+=o.mExampleBoxes[c-1].width+10:s+=o.mExampleBoxes[c-1].width+40),u.x=s,o.mExampleBoxes.push(u),o.mQuizRoot.addChild(u)}return o.mQuizRoot.x=-o.mQuizRoot.width/2+160,o}return Object(u["a"])(n,[{key:"checkQuizResult",value:function(e,t){var n=[];void 0!=this.mQuizData.answer1&&""!=this.mQuizData.answer1&&n.push(this.mQuizData.answer1),void 0!=this.mQuizData.answer2&&""!=this.mQuizData.answer2&&n.push(this.mQuizData.answer2);for(var a=!0,i=0;i<n.length;i++)0==n.includes(t[i])&&(a=!1);for(var o=0;o<this.mExampleBoxes.length;o++)this.mExampleBoxes[o].correct();a?(this.quizType.onQuizStepCorrect(),uo.Handle.wrongCountList[this.mQuizIDX]=!1):(this.quizType.onQuizStepWrong(),uo.Handle.wrongCountList[this.mQuizIDX]=!0)}},{key:"clickLock",value:function(e){var t,n=Object(x["a"])(this.mExampleBoxes);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.clickLock(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"quizType",get:function(){return this.parent}}]),n}(PIXI.Container),Xi=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var i;Object(l["a"])(this,n),i=t.call(this,e,a);var o=Math.ceil(Math.random()*i.quizDataList.length)-1;return i.mQuizSection=new Gi(i.quizDataList[o]),i.mQuizSection.position.set(640,114),i.mAnswerSection=new Ei(i.quizDataList[o],a),i.mAnswerSection.position.set(640,450),i.addChild(i.mQuizSection),i.addChild(i.mAnswerSection),i.mListenButton=new Li(i.quizDataList[o].sound),i.mListenButton.position.set(386,120),i.addChild(i.mListenButton),i}return Object(u["a"])(n,[{key:"onStart",value:function(){var e=this;console.log("QuizType1 start"),this.setBackground("bg.png"),me["c"].delayedCall(1,(function(){e.playQuizSound()}))}},{key:"playQuizSound",value:function(){this.mListenButton.onClick()}},{key:"destroy",value:function(){this.mListenButton.onClick=function(){console.log("반복 재생 스탑")}}},{key:"answerSection",get:function(){return this.mAnswerSection}},{key:"quizSection",get:function(){return this.mQuizSection}}]),n}(Di),Hi=n("45eb"),zi=n("7e84"),Fi=!1;(function(e){e[e["uppercase"]=0]="uppercase",e[e["lowerA"]=1]="lowerA",e[e["lowerB"]=2]="lowerB",e[e["lowerG"]=3]="lowerG",e[e["image2"]=4]="image2",e[e["image4"]=5]="image4"})(Ti||(Ti={}));PIXI.Container;var Vi,Wi={MarkerRange:20,SegLineColor:16777215,SegLineWidth:10};(function(e){e[e["normal"]=0]="normal",e[e["selected"]=1]="selected"})(Vi||(Vi={}));var Qi=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mIsStartMark=!1,e.mChecked=!1,e}return Object(u["a"])(n,[{key:"hitTest",value:function(e,t){var n=this.toLocal(new ta["Point"](e,t)),a=n.x,i=n.y,o=a*a+i*i;return o<Wi.MarkerRange*Wi.MarkerRange}},{key:"isStartMark",get:function(){return this.mIsStartMark},set:function(e){this.mIsStartMark=e,this.onRefreshDraw()}},{key:"checked",get:function(){return this.mChecked},set:function(e){this.mChecked=e}},{key:"markerState",get:function(){return this.mState},set:function(e){this.mState!=e&&(this.mState=e,this.onRefreshDraw())}}]),n}(ta["Container"]),Ni=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(l["a"])(this,n),e=t.call(this),e.mDrawing=new ta["Graphics"],e.addChild(e.mDrawing),e.x=a,e.y=i,e.markerState=Vi.normal,e}return Object(u["a"])(n,[{key:"onRefreshDraw",value:function(){switch(this.markerState){case Vi.normal:this.mDrawing.clear(),this.isStartMark&&this.mDrawing.lineStyle(8,16724736,.8,1),this.mDrawing.beginFill(16777215),this.mDrawing.drawCircle(0,0,Wi.MarkerRange),this.mDrawing.endFill(),me["c"].to(this.scale,{x:1,y:1,duration:.5});break;case Vi.selected:this.mDrawing.clear(),this.isStartMark&&this.mDrawing.lineStyle(8,16724736,.8,1),this.mDrawing.beginFill(16777215),this.mDrawing.drawCircle(0,0,Wi.MarkerRange),this.mDrawing.endFill(),me["c"].to(this.scale,{x:1.2,y:1.2,duration:.5});break}}},{key:"clone",value:function(){var e=new n(this.x,this.y);return e}}]),n}(Qi),$i=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return Object(l["a"])(this,n),i=t.call(this),i.mDisplayStartMarkerAni=!0,i.mDisplayStartMarkerAni=s,i.mTextureNormal=e,i.mTextureSelected=a,i.mDrawing=new ta["Sprite"],i.mDrawing.anchor.set(.5),i.addChild(i.mDrawing),i.x=o,i.y=r,i.mStartMarkerIdleAni=null,i.markerState=Vi.normal,i}return Object(u["a"])(n,[{key:"onRefreshDraw",value:function(){switch(this.markerState){case Vi.normal:this.mDrawing.texture=this.mTextureNormal,this.mDisplayStartMarkerAni&&this.isStartMark?null==this.mStartMarkerIdleAni&&(this.mStartMarkerIdleAni=me["c"].fromTo(this.scale,{x:1,y:1,duration:.5},{x:1.2,y:1.2}).repeat(-1).yoyo(!0)):me["c"].to(this.scale,{x:1,y:1,duration:.5});break;case Vi.selected:var e=aa.Handle.currentGame.getResource("ab_sfx_5.mp3").sound;e.play(),this.mDrawing.texture=this.mTextureSelected,this.mDisplayStartMarkerAni&&this.isStartMark&&null!=this.mStartMarkerIdleAni&&this.mStartMarkerIdleAni.kill(),me["c"].to(this.scale,{x:1.2,y:1.2,duration:.5});break}}},{key:"clone",value:function(){var e=new n(this.mTextureNormal,this.mTextureSelected,this.x,this.y,this.mDisplayStartMarkerAni);return e}}]),n}(Qi),qi=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var i;return Object(l["a"])(this,n),i=t.call(this),i.mStartMarker=e,i.mEndMarker=a,i.mControlPos=new ta["Point"](0,0),i._refreshDraw(),i}return Object(u["a"])(n,[{key:"setCV",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.mControlPos.set(e,t),this._refreshDraw()}},{key:"_refreshDraw",value:function(){this.clear(),this.mStartMarker&&this.mEndMarker&&(this.x=this.mStartMarker.x,this.y=this.mStartMarker.y,this.beginFill(16777215,0),this.lineStyle(Wi.SegLineWidth,Wi.SegLineColor),this.moveTo(0,0),this.quadraticCurveTo(this.controlPos.x,this.controlPos.y,this.mEndMarker.x-this.x,this.mEndMarker.y-this.y),this.endFill())}},{key:"startMarker",set:function(e){e&&(this.mStartMarker=e,this._refreshDraw())}},{key:"endMarker",set:function(e){e&&(this.mEndMarker=e,this._refreshDraw())}},{key:"controlPos",get:function(){return this.mControlPos}}]),n}(ta["Graphics"]),Ui=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this),a.mMarkerSource=e,a.mMarkerRoot=new ta["Container"],a.mSegmentRoot=new ta["Container"],a.addChild(a.mSegmentRoot),a.addChild(a.mMarkerRoot),a.clear(),a}return Object(u["a"])(n,[{key:"clear",value:function(){this.mMarkerRoot.removeChildren(),this.mSegmentRoot.removeChildren(),this.mMarkerList=[],this.mSegmentList=[];var e=this.mMarkerSource.clone();e.x=20,e.y=20,e.isStartMark=!0,this.mMarkerRoot.addChild(e),this.mMarkerList.push(e),this.mCurrentOffset=0}},{key:"addMarker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.mMarkerSource.clone();n.x=e,n.y=t,this.mMarkerRoot.addChild(n),this.mMarkerList.push(n);var a=new qi(this.mMarkerList[this.mMarkerList.length-2],n);this.mSegmentRoot.addChild(a),this.mSegmentList.push(a)}},{key:"removeMarker",value:function(e){var t=this.mMarkerList.indexOf(e);if(t>0){this.mMarkerRoot.removeChild(e),this.mMarkerList.splice(t,1);var n=t-1;this.mSegmentRoot.removeChildAt(n),this.mSegmentList.splice(n,1),this.mSegmentList[n]&&(this.mSegmentList[n].startMarker=this.mMarkerList[t-1]),this.refreshDraw()}}},{key:"getMarkerSegment",value:function(e){var t=this.mMarkerList.indexOf(e);return t>=0?this.mSegmentList[t]:null}},{key:"refreshDraw",value:function(){var e,t=Object(x["a"])(this.mSegmentList);try{for(t.s();!(e=t.n()).done;){var n=e.value;n._refreshDraw()}}catch(a){t.e(a)}finally{t.f()}}},{key:"resetCheckState",value:function(){this.alpha=1;var e,t=Object(x["a"])(this.mMarkerList);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.checked=!1,n.markerState=Vi.normal}}catch(a){t.e(a)}finally{t.f()}}},{key:"getHitedMarker",value:function(e,t){var n,a=Object(x["a"])(this.mMarkerList);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.hitTest(e,t))return i}}catch(o){a.e(o)}finally{a.f()}return null}},{key:"isNextMarker",value:function(e){var t,n=Object(x["a"])(this.mMarkerList);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(0==a.checked)return e==a}}catch(i){n.e(i)}finally{n.f()}return!0}},{key:"save",value:function(){for(var e=[],t=0;t<this.mMarkerList.length;t++){var n=this.mMarkerList[t],a=this.mSegmentList[t];a?e.push({x:parseFloat(n.x.toFixed(2)),y:parseFloat(n.y.toFixed(2)),cx:parseFloat(a.controlPos.x.toFixed(2)),cy:parseFloat(a.controlPos.y.toFixed(2))}):e.push({x:parseFloat(n.x.toFixed(2)),y:parseFloat(n.y.toFixed(2)),cx:0,cy:0})}return e}},{key:"load",value:function(e){this.mMarkerRoot.removeChildren(),this.mSegmentRoot.removeChildren(),this.mMarkerList=[],this.mSegmentList=[];for(var t=0;t<e.length;t++){var n=e[t];if(0==t){var a=this.mMarkerSource.clone();a.x=n.x,a.y=n.y,a.isStartMark=!0,this.mMarkerRoot.addChild(a),this.mMarkerList.push(a)}else{var i=this.mMarkerSource.clone();i.x=n.x,i.y=n.y,this.mMarkerRoot.addChild(i),this.mMarkerList.push(i);var o=e[t-1],r=new qi(this.mMarkerList[this.mMarkerList.length-2],i);r.controlPos.x=o.cx,r.controlPos.y=o.cy,this.mSegmentRoot.addChild(r),this.mSegmentList.push(r)}}this.mCurrentOffset=0,this.refreshDraw()}},{key:"displayWriteAniProc",value:function(){var e=this;return new Promise((function(t,n){var a,i=0,o=Object(x["a"])(e.mMarkerList);try{var r=function(){var e=a.value;me["c"].delayedCall(i,(function(){return e.markerState=Vi.selected})),i+=.5};for(o.s();!(a=o.n()).done;)r()}catch(s){o.e(s)}finally{o.f()}me["c"].delayedCall(i,(function(){return t()}))}))}},{key:"markerCount",get:function(){return this.mMarkerList.length}},{key:"isCleared",get:function(){var e,t=Object(x["a"])(this.mMarkerList);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!n.checked)return!1}}catch(a){t.e(a)}finally{t.f()}return!0}}]),n}(ta["Container"]),Yi=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this),a.mMarkerSource=e,a.clear(),a}return Object(u["a"])(n,[{key:"addMarker",value:function(e,t){this.currentLine.addMarker(e,t)}},{key:"removeMarker",value:function(e){this.currentLine.removeMarker(e)}},{key:"getMarkerSegment",value:function(e){return this.currentLine.getMarkerSegment(e)}},{key:"refreshDraw",value:function(){this.currentLine.refreshDraw()}},{key:"addLine",value:function(){this.mMarkerLineList.push(new Ui(this.mMarkerSource))}},{key:"removeLine",value:function(e){e>0&&e<this.mMarkerLineList.length&&(this.mCurrentLineIDX=e-1,this.mMarkerLineList.splice(e,1),this.currentLineIDX=this.mCurrentLineIDX)}},{key:"resetCheckState",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Object(x["a"])(this.mMarkerLineList);try{for(t.s();!(n=t.n()).done;)a=n.value,a.resetCheckState()}catch(i){t.e(i)}finally{t.f()}this.mCurrentLineIDX=0,this.removeChildren(),this.addChild(this.mMarkerLineList[this.mCurrentLineIDX]);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"clear",value:function(){this.mMarkerLineList=[],this.addLine(),this.currentLineIDX=0}},{key:"save",value:function(){var e,t=[],n=Object(x["a"])(this.mMarkerLineList);try{for(n.s();!(e=n.n()).done;){var a=e.value;t.push(a.save())}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"load",value:function(e){this.removeChildren(),this.mMarkerLineList=[];var t,a=Object(x["a"])(e);try{for(a.s();!(t=a.n()).done;){var i=t.value,o=new Ui(this.mMarkerSource);o.load(i),this.mMarkerLineList.push(o)}}catch(r){a.e(r)}finally{a.f()}this.currentLineIDX=0,this.emit(n.EVT_Refresh)}},{key:"currentLineIDX",get:function(){return this.mCurrentLineIDX},set:function(e){this.mCurrentLineIDX=e,this.mCurrentLineIDX>=this.mMarkerLineList.length&&(this.mCurrentLineIDX=this.mMarkerLineList.length-1),this.removeChildren(),this.addChild(this.mMarkerLineList[this.mCurrentLineIDX])}},{key:"currentLine",get:function(){return this.mMarkerLineList[this.mCurrentLineIDX]}},{key:"lineCount",get:function(){return this.mMarkerLineList.length}},{key:"isCleared",get:function(){var e,t=Object(x["a"])(this.mMarkerLineList);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!n.isCleared)return!1}}catch(a){t.e(a)}finally{t.f()}return!0}}]),n}(ta["Container"]);Yi.EVT_Refresh="WordMarkerSprite-refresh";ta["Sprite"];var Ki=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a,i,o,r){var s;Object(l["a"])(this,n),s=t.call(this),s.mIsDowned=!1,s.mWordSprite=new Yi(new $i(e,a,0,0)),s.mWordSprite.visible=!1,s.interactive=!0,s.mOutlineImage=new ta["Sprite"](i),s.mFilledImage=new ta["Sprite"](o),s.mFilledImage.alpha=0,s.mSliceImageList=[];var c,u=Object(x["a"])(r);try{for(u.s();!(c=u.n()).done;){var m=c.value,h=new ta["Sprite"](m);h.alpha=0,s.mSliceImageList.push(h)}}catch(g){u.e(g)}finally{u.f()}s.on("pointerdown",(function(e){if(!s.mIsDowned){s.mIsDowned=!0;s.toLocal(e.data.global);var t=s.getHitedMarker(e.data.global.x,e.data.global.y);t&&(0!=t.checked||s.mWordSprite.currentLine.isNextMarker(t)||s.emit(n.EVT_WrongSelect))}})),s.on("pointermove",(function(e){if(s.mIsDowned){s.toLocal(e.data.global);var t=s.getHitedMarker(e.data.global.x,e.data.global.y);t&&s.onMarkerChecked(t)}})),s.on("pointerup",(function(e){s.mIsDowned&&(s.mIsDowned=!1)})),s.on("pointerupoutside",(function(e){s.mIsDowned&&(s.mIsDowned=!1)})),s.addChild(s.mOutlineImage);var d,p=Object(x["a"])(s.mSliceImageList);try{for(p.s();!(d=p.n()).done;){var f=d.value;s.addChild(f)}}catch(g){p.e(g)}finally{p.f()}return s.addChild(s.mFilledImage),s.addChild(s.mWordSprite),s}return Object(u["a"])(n,[{key:"onMarkerChecked",value:function(e){var t=this;e&&this.mWordSprite.currentLine.isNextMarker(e)&&(e.checked=!0,e.markerState=Vi.selected,this.mWordSprite.currentLine.isCleared&&(0==this.mWordSprite.isCleared?(console.log("currentLineIDX",this.mWordSprite.currentLineIDX),this.interactive=!1,this.emit(n.EVT_LineComplete,{lineIDX:this.mWordSprite.currentLineIDX,lineCount:this.mSliceImageList.length}),me["c"].to(this.mWordSprite.currentLine,{duration:.5,alpha:0}),me["c"].to(this.mSliceImageList[this.mWordSprite.currentLineIDX],{delay:.5,duration:.5,alpha:1}).eventCallback("onComplete",(function(){t.mIsDowned=!1,t.mWordSprite.currentLineIDX+=1,t.mWordSprite.currentLine.alpha=0,me["c"].to(t.mWordSprite.currentLine,{delay:.5,duration:.5,alpha:1}).eventCallback("onComplete",(function(){t.interactive=!0}))}))):(this.interactive=!1,me["c"].to(this.mSliceImageList[this.mWordSprite.currentLineIDX],{duration:.5,alpha:1}),me["c"].delayedCall(.5,(function(){return t.emit(n.EVT_LineComplete,{lineIDX:t.mWordSprite.currentLineIDX,lineCount:t.mSliceImageList.length})})),me["c"].to(this.mWordSprite.currentLine,{delay:.5,duration:.5,alpha:0}).eventCallback("onComplete",(function(){var e,a=Object(x["a"])(t.mSliceImageList);try{for(a.s();!(e=a.n()).done;){var i=e.value;me["c"].to(i,{duration:1,alpha:0})}}catch(o){a.e(o)}finally{a.f()}me["c"].to(t.mFilledImage,{duration:1,alpha:1}),me["c"].to(t.mOutlineImage,{duration:1,alpha:0}),me["c"].delayedCall(1,(function(){return t.emit(n.EVT_WordComplete)}))})))))}},{key:"addLine",value:function(){this.mWordSprite.addLine()}},{key:"getHitedMarker",value:function(e,t){return this.mWordSprite.currentLine.getHitedMarker(e,t)}},{key:"loadData",value:function(e){this.mOutlineImage.alpha=1,this.mFilledImage.alpha=0;var t,n=Object(x["a"])(this.mSliceImageList);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.alpha=0}}catch(i){n.e(i)}finally{n.f()}this.mWordSprite.load(e),this.mWordSprite.visible=!0,this.mIsDowned=!1,this.interactive=!0}},{key:"wordData",get:function(){return this.mWordSprite}}]),n}(ta["Sprite"]);Ki.EVT_LineComplete="block-line-complete",Ki.EVT_WordComplete="block-word-complete",Ki.EVT_WrongSelect="block-wrong-select";var Ji=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a,i,o,r){var s;Object(l["a"])(this,n),s=t.call(this),s.mCorrectState=!0,s.mIsDowned=!1,s.mWordSprite=new Yi(new $i(e,a,0,0,!1)),s.mWordSprite.visible=!1,s.interactive=!0,s.mOutlineImage=new ta["Sprite"](i),s.mFilledImage=new ta["Sprite"](o),s.mFilledImage.alpha=0,s.mSliceImageList=[];var c,u=Object(x["a"])(r);try{for(u.s();!(c=u.n()).done;){var m=c.value,h=new ta["Sprite"](m);h.alpha=0,h.tint=993617,s.mSliceImageList.push(h)}}catch(g){u.e(g)}finally{u.f()}s.on("pointerdown",(function(e){if(!s.mIsDowned){s.mIsDowned=!0;s.toLocal(e.data.global);var t=s.getHitedMarker(e.data.global.x,e.data.global.y);t&&(0!=t.checked||s.mWordSprite.currentLine.isNextMarker(t)||s.emit(Ki.EVT_WrongSelect))}})),s.on("pointermove",(function(e){if(s.mIsDowned){s.toLocal(e.data.global);var t=s.getHitedMarker(e.data.global.x,e.data.global.y);t&&s.onMarkerChecked(t)}})),s.on("pointerup",(function(e){s.mIsDowned&&(s.mIsDowned=!1)})),s.on("pointerupoutside",(function(e){s.mIsDowned&&(s.mIsDowned=!1)}));var d,p=Object(x["a"])(s.mSliceImageList);try{for(p.s();!(d=p.n()).done;){var f=d.value;s.addChild(f)}}catch(g){p.e(g)}finally{p.f()}return s.addChild(s.mFilledImage),s.addChild(s.mOutlineImage),s.addChild(s.mWordSprite),s}return Object(u["a"])(n,[{key:"onMarkerChecked",value:function(e){var t=this;e&&(0!=e.checked||this.mWordSprite.currentLine.isNextMarker(e)||(this.mCorrectState=!1),e.checked=!0,e.markerState=Vi.selected,this.mWordSprite.currentLine.isCleared&&(0==this.mCorrectState?(this.interactive=!1,this.emit(n.EVT_WrongComplete)):0==this.mWordSprite.isCleared?(console.log("currentLineIDX",this.mWordSprite.currentLineIDX),this.interactive=!1,this.emit(n.EVT_LineComplete,{lineIDX:this.mWordSprite.currentLineIDX,lineCount:this.mSliceImageList.length}),me["c"].to(this.mWordSprite.currentLine,{duration:.5,alpha:0}),me["c"].to(this.mSliceImageList[this.mWordSprite.currentLineIDX],{delay:.5,duration:.5,alpha:1}).eventCallback("onComplete",(function(){t.mIsDowned=!1,t.mWordSprite.currentLineIDX+=1,t.mWordSprite.currentLine.alpha=0,me["c"].to(t.mWordSprite.currentLine,{delay:.5,duration:.5,alpha:1}).eventCallback("onComplete",(function(){t.interactive=!0}))}))):(this.interactive=!1,me["c"].to(this.mSliceImageList[this.mWordSprite.currentLineIDX],{duration:.5,alpha:1}),me["c"].delayedCall(.5,(function(){return t.emit(n.EVT_LineComplete,{lineIDX:t.mWordSprite.currentLineIDX,lineCount:t.mSliceImageList.length})})),me["c"].to(this.mWordSprite.currentLine,{delay:.5,duration:.5,alpha:0}).eventCallback("onComplete",(function(){var e,a=Object(x["a"])(t.mSliceImageList);try{for(a.s();!(e=a.n()).done;){var i=e.value;me["c"].to(i,{duration:1,alpha:0})}}catch(o){a.e(o)}finally{a.f()}me["c"].to(t.mFilledImage,{duration:1,alpha:1}),me["c"].to(t.mOutlineImage,{duration:1,alpha:0}),me["c"].delayedCall(1,(function(){return t.emit(n.EVT_WordComplete)}))})))))}},{key:"displayWriteAniProc",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.interactive=!1,this.mWordSprite.resetCheckState(),t=Object(x["a"])(this.mSliceImageList);try{for(t.s();!(n=t.n()).done;)a=n.value,a.alpha=0}catch(r){t.e(r)}finally{t.f()}i=0;case 5:if(!(i<this.mWordSprite.lineCount)){e.next=13;break}return this.mWordSprite.currentLineIDX=i,e.next=9,this.mWordSprite.currentLine.displayWriteAniProc();case 9:me["c"].to(this.mSliceImageList[this.mWordSprite.currentLineIDX],{duration:.5,alpha:1});case 10:i++,e.next=5;break;case 13:me["c"].to(this.mWordSprite.currentLine,{duration:.5,alpha:0}).eventCallback("onComplete",(function(){var e,t=Object(x["a"])(o.mSliceImageList);try{for(t.s();!(e=t.n()).done;){var n=e.value;me["c"].to(n,{duration:1,alpha:0})}}catch(r){t.e(r)}finally{t.f()}me["c"].to(o.mFilledImage,{duration:1,alpha:1}),me["c"].to(o.mOutlineImage,{duration:1,alpha:0})}));case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addLine",value:function(){this.mWordSprite.addLine()}},{key:"getHitedMarker",value:function(e,t){return this.mWordSprite.currentLine.getHitedMarker(e,t)}},{key:"loadData",value:function(e){this.mOutlineImage.alpha=1,this.mFilledImage.alpha=0;var t,n=Object(x["a"])(this.mSliceImageList);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.alpha=0}}catch(i){n.e(i)}finally{n.f()}this.mWordSprite.load(e),this.mCorrectState=!0,this.mWordSprite.visible=!0,this.mIsDowned=!1,this.interactive=!0}},{key:"changeColor",value:function(e){this.mOutlineImage.tint=e,this.mFilledImage.tint=993617}},{key:"wordData",get:function(){return this.mWordSprite}}]),n}(ta["Sprite"]);Ji.EVT_LineComplete="quiz-line-complete",Ji.EVT_WordComplete="quiz-word-complete",Ji.EVT_WrongComplete="quiz-wrong-complete";var Zi=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;Object(l["a"])(this,n),a=t.call(this),a.mCorrectSymbol=e.slice(0,1);if(a.mCorrectSymbol!=a.mCorrectSymbol.toUpperCase()){var i=["b","d","f","h","i","k","l","t"],o=["g","j","p","q","t","y"];i.includes(a.mCorrectSymbol)?(2,a.y=0):o.includes(a.mCorrectSymbol)?(2,a.y=100):(a.y=55,2)}return a.mNormalTexture=aa.Handle.currentGame.getResource("draw_box_1.png").texture,a.mFocusLine=new PIXI.Sprite(aa.Handle.currentGame.getResource("draw_box_line_1.png").texture),a.mFocusLine.anchor.set(.5),a.mFocusLine.alpha=0,a.mBG=new PIXI.Sprite(a.mNormalTexture),a.mBG.anchor.set(.5),a.addChild(a.mBG),a.mBoxFont=new Bi(e),a.mBoxFont.setMode(pi.Normal),a.mBoxFont.scale.set(.7),a.addChild(a.mBoxFont),a.mWrong=new PIXI.Sprite(aa.Handle.currentGame.getResource("draw_box_wrong_1.png").texture),a.addChild(a.mWrong),a.mWrong.alpha=0,a.mWrong.anchor.set(.5),a}return Object(u["a"])(n,[{key:"focusOn",value:function(){this.mWrong.alpha=0,this.addChild(this.mFocusLine),me["c"].to(this.mFocusLine,{alpha:1,duration:.5}).repeat(-1).yoyo(!0),me["c"].to(this.scale,{x:1.1,y:1.1,duration:.5})}},{key:"focusOut",value:function(){this.removeChild(this.mFocusLine),this.mWrong.alpha=1,me["c"].to(this.scale,{x:.9,y:.9,duration:.5})}}]),n}(PIXI.Container),eo=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;Object(l["a"])(this,n),a=t.call(this),a.mQuizData=e;var i=[];void 0!=a.mQuizData.quiz1&&""!=a.mQuizData.quiz1&&i.push(a.mQuizData.quiz1),void 0!=a.mQuizData.quiz2&&""!=a.mQuizData.quiz2&&i.push(a.mQuizData.quiz2);var o=0,r=200;a.mBoxes=[];for(var s=0;s<i.length;s++){var c=new Zi(i[s]);c.position.set(0,o),c.pivot.y=c.height/2,a.mBoxes.push(c),a.addChild(c),o+=r}return a.focus(),a}return Object(u["a"])(n,[{key:"focus",value:function(e){var t=aa.Handle.appData.level;3===t?void 0==e?(this.mBoxes[0].focusOn(),this.mBoxes[1].focusOut()):(this.mBoxes[1].focusOn(),this.mBoxes[0].focusOut(),me["c"].to(this.mBoxes[0],{y:this.mBoxes[0].y-50,duration:.5})):this.mBoxes[0].focusOn()}}]),n}(PIXI.Container),to=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a,i){var o;Object(l["a"])(this,n),o=t.call(this),o.mBG=new PIXI.Sprite(aa.Handle.currentGame.getResource("draw_box_big.png").texture),o.addChild(o.mBG),o.mDrawData=i,o.mQuizIDX=a,o.mQuizData=e;var r=aa.Handle.appData.level,s=1;return 1==r&&(s=1),2==r&&(s=2),3==r&&(s=1),o.readyResource(s),o.pivot.set(o.width/2,o.height/2),o}return Object(u["a"])(n,[{key:"readyResource",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,o,r,s,l,u,m,h,d,p,f,g,v,b,y,C,k,S,w,_,I,O=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=aa.Handle.appData.symbol.toLowerCase(),a=[],console.log(n,t),i=[],1==t){o=this.mDrawData[0],i.push(o.guide),r=Object(x["a"])(o.correct);try{for(r.s();!(s=r.n()).done;)l=s.value,i.push(l)}catch(P){r.e(P)}finally{r.f()}a=[],u=Object(x["a"])(o.lines);try{for(u.s();!(m=u.n()).done;)h=m.value,a.push(h.replace("line_",""))}catch(P){u.e(P)}finally{u.f()}}else{console.log(this.mDrawData[2]),d=this.mDrawData[2],i.push(d.guide),p=Object(x["a"])(d.correct);try{for(p.s();!(f=p.n()).done;)g=f.value,i.push(g)}catch(P){p.e(P)}finally{p.f()}a=[],v=Object(x["a"])(d.lines);try{for(v.s();!(b=v.n()).done;)y=b.value,a.push(y.replace("line_",""))}catch(P){v.e(P)}finally{v.f()}}for(C=[],k=0;k<a.length;k++)C.push(aa.Handle.currentGame.getProductResource(a[k]).texture);return this.mQuiz=new Ji(aa.Handle.currentGame.getResource("marker_2.png").texture,aa.Handle.currentGame.getResource("marker_1.png").texture,aa.Handle.currentGame.getProductResource("ab_line_".concat(n.toLowerCase(),"_").concat(t,".png")).texture,aa.Handle.currentGame.getProductResource("ab_".concat(n.toLowerCase(),"_").concat(t,".png")).texture,C),e.next=10,T.a.get("".concat(N.Config.restAPIProd,"/learning/alphabet/block/").concat(n.toUpperCase()));case 10:S=e.sent,1==t&&(this.mMarkerData=S.data.infolist.upperCase),2==t&&(this.mMarkerData=S.data.infolist.lowerCase),this.mQuiz.changeColor(1475561),this.mQuiz.loadData(this.mMarkerData),this.addChild(this.mQuiz),w=aa.Handle.currentGame.getProductResource("ab_line_".concat(n.toLowerCase(),"_").concat(t,".png")).texture.width/2,_=aa.Handle.currentGame.getProductResource("ab_line_".concat(n.toLowerCase(),"_").concat(t,".png")).texture.height/2,this.mQuiz.position.set(this.width/2-w,this.height/2-_),this.mQuiz.on(Ji.EVT_LineComplete,(function(e){console.log("line complete",e);var t=aa.Handle.currentGame.getResource("ab_sfx_4.mp3").sound,n=aa.Handle.currentGame.getResource("ab_sfx_6.mp3").sound;t.play(),me["c"].delayedCall(t.duration,(function(){n.play()}))})),I=aa.Handle.appData.level,this.mQuiz.on(Ji.EVT_WordComplete,Object(c["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(3!==I){e.next=18;break}if(a=aa.Handle.currentGame.getProductResource("".concat(n,".mp3")).sound,a.play(),2!=t){e.next=9;break}return uo.Handle.wrongCountList[O.mQuizIDX]=!1,e.next=7,O.quizType.onQuizStepCorrect();case 7:e.next=16;break;case 9:return console.log("WORD Correct complete"),e.next=12,O.quizType.onQuizStepCorrect("type2");case 12:O.mQuiz.removeChildren(),O.removeChild(O.mQuiz),O.readyResource(2),O.quizType.quizSection.focus(1);case 16:e.next=23;break;case 18:return uo.Handle.wrongCountList[O.mQuizIDX]=!1,i=aa.Handle.currentGame.getProductResource("".concat(n,".mp3")).sound,i.play(),e.next=23,O.quizType.onQuizStepCorrect();case 23:case"end":return e.stop()}}),e)})))),this.mQuiz.on(Ji.EVT_WrongComplete,Object(c["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("WORD Wrong complete"),e.next=3,O.quizType.onQuizStepWrong("type2");case 3:return uo.Handle.wrongCountList[O.mQuizIDX]=!0,e.next=6,O.mQuiz.displayWriteAniProc();case 6:3===I?2==t?(a=aa.Handle.currentGame.getProductResource("".concat(n,".mp3")).sound,me["c"].delayedCall(1,(function(){a.play(),me["c"].delayedCall(a.duration,(function(){uo.Handle.nextQuiz()}))}))):(console.log("WORD Wrong complete"),me["c"].delayedCall(2,(function(){O.mQuiz.removeChildren(),O.removeChild(O.mQuiz),O.readyResource(2),O.quizType.quizSection.focus(1)}))):(i=aa.Handle.currentGame.getProductResource("".concat(n,".mp3")).sound,me["c"].delayedCall(1,(function(){i.play(),me["c"].delayedCall(i.duration,(function(){uo.Handle.nextQuiz()}))})));case 7:case"end":return e.stop()}}),e)}))));case 23:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clickLock",value:function(e){var t,n=Object(x["a"])(this.mExampleBoxes);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.clickLock(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"quizType",get:function(){return this.parent}}]),n}(PIXI.Container),no=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a,i){var o;Object(l["a"])(this,n),o=t.call(this,e,a,i);var r=Math.ceil(Math.random()*o.quizDataList.length)-1;return o.mQuizSection=new eo(o.quizDataList[r]),o.mQuizSection.position.set(266,370),o.mAnswerSection=new to(o.quizDataList[r],a,i),o.mAnswerSection.position.set(760,360),o.addChild(o.mAnswerSection),o.addChild(o.mQuizSection),o}return Object(u["a"])(n,[{key:"onStart",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("QuizType2 start"),this.setBackground("draw_bg.png");case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"answerSection",get:function(){return this.mAnswerSection}},{key:"quizSection",get:function(){return this.mQuizSection}}]),n}(Di),ao=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var i;return Object(l["a"])(this,n),i=t.call(this),i.mClickLock=!1,i.mSymbol=e,i.mImageIDX=a,console.log("imageIDX",i.mImageIDX),i.mNormal=aa.Handle.currentGame.getResource("box_default_1_2.png").texture,i.mWrong=aa.Handle.currentGame.getResource("box_wrong_1_1.png").texture,i.mAnswer=aa.Handle.currentGame.getResource("box_answer_1.png").texture,i.mSelect=new PIXI.Sprite(aa.Handle.currentGame.getResource("box_select_1.png").texture),i.mSelect.alpha=0,i.mSelect.anchor.set(.5),i.mBG=new PIXI.Sprite(i.mNormal),i.mBG.anchor.set(.5),i.addChild(i.mBG),i.mBG.addChild(i.mSelect),i.mImage=new PIXI.Sprite,i.mImage.scale.set(.9),i.mImage.texture=aa.Handle.currentGame.getProductResource("".concat(i.mSymbol.toLowerCase(),"_").concat(i.mImageIDX,".png")).texture,i.mImage.anchor.set(.5),i.addChild(i.mImage),i.interactive=!0,i.buttonMode=!0,i.on("pointertap",(function(){i.mClickLock||(i.mRepeatSoundTimeLine&&i.mRepeatSoundTimeLine.kill(),i.onClick())})),i}return Object(u["a"])(n,[{key:"clickLock",value:function(e){this.mClickLock=e}},{key:"onClick",value:function(){var e=this;this.quizSection.clickLock(!0),this.selected=!0,this.mBG.alpha=1;var t=aa.Handle.currentGame.getResource("ab_sfx_3.mp3").sound;t.play(),me["b"].delayedCall(t.duration,(function(){e.quizSection.selectExample(e.mImageIDX)}))}},{key:"selected",get:function(){return!0},set:function(e){this.mSelect.alpha=e?1:0}},{key:"corrected",get:function(){return 1==this.mBG.alpha},set:function(e){this.mBG.texture=e?this.mAnswer:this.mWrong}},{key:"quizSection",get:function(){return this.parent}},{key:"imageIDX",get:function(){return this.mImageIDX}}]),n}(PIXI.Container),io=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var o;Object(l["a"])(this,n),o=t.call(this),o.mQuizIDX=a,o.mSymbol=aa.Handle.appData.symbol.toLowerCase(),console.log(e),o.mQuizData=e;var r=[o.mQuizData.example1,o.mQuizData.example2];i.shuffleArray(r),o.mBoxes=[];for(var s=0,c=r;s<c.length;s++){var u=c[s],m=new ao(o.mSymbol,u);o.mBoxes.push(m),o.addChild(m)}return o.mBoxes[0].position.set(-275,0),o.mBoxes[1].position.set(275,0),o}return Object(u["a"])(n,[{key:"selectExample",value:function(e){this.parent.destroy();var t,n=Object(x["a"])(this.mBoxes);try{for(n.s();!(t=n.n()).done;){var a=t.value;this.mQuizData.answer1.includes(a.imageIDX)?a.corrected=!0:a.corrected=!1}}catch(i){n.e(i)}finally{n.f()}this.mQuizData.answer1==e?(this.quizType.onQuizStepCorrect(),uo.Handle.wrongCountList[this.mQuizIDX]=!1):(this.quizType.onQuizStepWrong(),uo.Handle.wrongCountList[this.mQuizIDX]=!0)}},{key:"repeatMotion",value:function(e){for(var t=0;t<this.mBoxes.length;t++){var n=me["b"].timeline();n.to(this.mBoxes[t].scale,{x:.8,y:.8,duration:e/2}),n.to(this.mBoxes[t].scale,{x:1,y:1,duration:e/2})}}},{key:"clickLock",value:function(e){this.mBoxes[0].clickLock(e),this.mBoxes[1].clickLock(e)}},{key:"currentSymbol",get:function(){return this.mSymbol}},{key:"quizType",get:function(){return this.parent}}]),n}(PIXI.Container),oo=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var i;Object(l["a"])(this,n),i=t.call(this,e,a);var o=Math.ceil(Math.random()*i.quizDataList.length)-1;return i.mQuizSection=new io(i.quizDataList[o],a),i.mQuizSection.position.set(640,370),i.addChild(i.mQuizSection),i.mListenButton=new Li(i.quizDataList[o].sound),i.mListenButton.position.set(640,62),i.mListenButton.settingQuizBox(i.mQuizSection),i.addChild(i.mListenButton),i}return Object(u["a"])(n,[{key:"onStart",value:function(){var e=this;console.log("QuizType3 start"),this.setBackground("bg_1.png"),me["b"].delayedCall(1,(function(){e.playQuizSound()}))}},{key:"playQuizSound",value:function(){this.mListenButton.onClick()}},{key:"destroy",value:function(){this.mListenButton.onClick=function(){console.log("반복 재생 스탑")}}},{key:"appData",get:function(){return aa.Handle.appData}}]),n}(Di),ro=new PIXI.TextStyle({fontFamily:"minigate",fontSize:65,fontWeight:"bold",fill:"#222d32",padding:20}),so=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var i;return Object(l["a"])(this,n),i=t.call(this),i.mClickLock=!1,i.mSymbol=e,i.mImageIDX=a,console.log("imageIDX",i.mImageIDX),i.scale.set(1),i.mNormal=aa.Handle.currentGame.getResource("box_default_1_1.png").texture,i.mWrong=aa.Handle.currentGame.getResource("box_wrong_1_2.png").texture,i.mAnswer=aa.Handle.currentGame.getResource("box_answer_2.png").texture,i.mSelect=new PIXI.Sprite(aa.Handle.currentGame.getResource("box_select_2.png").texture),i.mSelect.alpha=0,i.mSelect.anchor.set(.5),i.mBG=new PIXI.Sprite(i.mNormal),i.mBG.anchor.set(.5),i.addChild(i.mBG),i.mBG.addChild(i.mSelect),i.mImage=new PIXI.Sprite,i.mImage.scale.set(.65),i.mImage.texture=aa.Handle.currentGame.getProductResource("".concat(i.mSymbol.toLowerCase(),"_").concat(i.mImageIDX,".png")).texture,i.mImage.anchor.set(.5),i.addChild(i.mImage),i.interactive=!0,i.buttonMode=!0,i.on("pointertap",(function(){i.mClickLock||i.onClick()})),i}return Object(u["a"])(n,[{key:"clickLock",value:function(e){this.mClickLock=e}},{key:"onClick",value:function(){var e=this;this.selected=!0,this.interactive=!1,this.buttonMode=!1;var t=aa.Handle.currentGame.getResource("ab_sfx_3.mp3").sound;t.play(),me["b"].delayedCall(t.duration,(function(){e.quizSection.selectExample(e.mImageIDX)}))}},{key:"selected",get:function(){return!0},set:function(e){this.mSelect.alpha=e?1:0}},{key:"corrected",get:function(){return!0},set:function(e){this.mBG.texture=e?this.mAnswer:this.mWrong}},{key:"quizSection",get:function(){return this.parent}},{key:"imageIDX",get:function(){return this.mImageIDX}}]),n}(PIXI.Container),co=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var o;Object(l["a"])(this,n),o=t.call(this),o.mQuizIDX=a,o.mSymbol=aa.Handle.appData.symbol.toLowerCase(),o.mSize=new PIXI.Point(1e3,300),o.mQuizData=e,o.mCorrectImageIDX=[],""!=o.mQuizData.answer1&&o.mCorrectImageIDX.push(o.mQuizData.answer1),""!=o.mQuizData.answer2&&o.mCorrectImageIDX.push(o.mQuizData.answer2),o.mAnswerImageIDX=[];var r=[];void 0!=o.mQuizData.example1&&""!=o.mQuizData.example1&&r.push(o.mQuizData.example1),void 0!=o.mQuizData.example2&&""!=o.mQuizData.example2&&r.push(o.mQuizData.example2),void 0!=o.mQuizData.example3&&""!=o.mQuizData.example3&&r.push(o.mQuizData.example3),void 0!=o.mQuizData.example4&&""!=o.mQuizData.example4&&r.push(o.mQuizData.example4),void 0!=o.mQuizData.example5&&""!=o.mQuizData.example5&&r.push(o.mQuizData.example5),void 0!=o.mQuizData.example6&&""!=o.mQuizData.example6&&r.push(o.mQuizData.example6),i.shuffleArray(r),o.mBoxes=[];for(var s=0,c=r;s<c.length;s++){var u=c[s],m=new so(o.mSymbol,u);o.mBoxes.push(m),o.addChild(m)}return 4==r.length?(o.mBoxes[0].position.set(-185,-145),o.mBoxes[1].position.set(185,-145),o.mBoxes[2].position.set(-185,145),o.mBoxes[3].position.set(185,145)):5==r.length?(o.mBoxes[0].position.set(-185,-145),o.mBoxes[1].position.set(185,-145),o.mBoxes[2].position.set(-370,145),o.mBoxes[3].position.set(0,145),o.mBoxes[4].position.set(370,145)):6==r.length&&(o.mBoxes[0].position.set(-370,-150),o.mBoxes[1].position.set(0,-150),o.mBoxes[2].position.set(370,-150),o.mBoxes[3].position.set(-370,145),o.mBoxes[4].position.set(0,145),o.mBoxes[5].position.set(370,145)),o}return Object(u["a"])(n,[{key:"selectExample",value:function(e){if(this.mAnswerImageIDX.push(e),2==this.mAnswerImageIDX.length){this.parent.destroy(),console.log(this.mAnswerImageIDX,this.mCorrectImageIDX);var t,n=!0,a=Object(x["a"])(this.mAnswerImageIDX);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(!this.mCorrectImageIDX.includes(i)){n=!1;break}}}catch(c){a.e(c)}finally{a.f()}var o,r=Object(x["a"])(this.mBoxes);try{for(r.s();!(o=r.n()).done;){var s=o.value;this.mCorrectImageIDX.includes(s.imageIDX)?s.corrected=!0:s.corrected=!1,console.log(s.corrected)}}catch(c){r.e(c)}finally{r.f()}n?(this.quizType.onQuizStepCorrect(),uo.Handle.wrongCountList[this.mQuizIDX]=!1):(this.quizType.onQuizStepWrong(),uo.Handle.wrongCountList[this.mQuizIDX]=!0)}}},{key:"showAnswer",value:function(){}},{key:"clickLock",value:function(e){var t,n=Object(x["a"])(this.mBoxes);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.clickLock(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"repeatMotion",value:function(e){for(var t=0;t<this.mBoxes.length;t++){var n=me["b"].timeline();n.to(this.mBoxes[t].scale,{x:.8,y:.8,duration:e/2}),n.to(this.mBoxes[t].scale,{x:1,y:1,duration:e/2})}}},{key:"currentSymbol",get:function(){return this.mSymbol}},{key:"quizType",get:function(){return this.parent}}]),n}(PIXI.Container),lo=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var i;Object(l["a"])(this,n),i=t.call(this,e,a);var o=Math.ceil(Math.random()*i.quizDataList.length)-1;i.mQuizSection=new co(i.quizDataList[o],a),i.mQuizSection.position.set(640,410),i.addChild(i.mQuizSection);var r=new PIXI.Sprite(aa.Handle.currentGame.getResource("sign.png").texture);r.anchor.set(.5),r.position.set(640,62),i.addChild(r);var s=new PIXI.Text(i.quizDataList[o].quiz1,ro);return s.anchor.set(.5),s.position.set(641,52),i.addChild(s),i.mListenButton=new Li(i.quizDataList[o].sound),i.mListenButton.position.set(358,62),i.mListenButton.settingQuizBox(i.mQuizSection),i.addChild(i.mListenButton),i}return Object(u["a"])(n,[{key:"onStart",value:function(){var e=this;console.log("QuizType4 ,5 start");var t=aa.Handle.appData.level;console.log("%c 레벨".concat(t),"border:1px red solid;"),this.setBackground("bg_".concat(t+1,".png")),me["b"].delayedCall(1,(function(){e.playQuizSound()}))}},{key:"playQuizSound",value:function(){this.mListenButton.onClick()}},{key:"destroy",value:function(){this.mListenButton.onClick=function(){console.log("반복 재생 스탑")}}},{key:"appData",get:function(){return aa.Handle.appData}}]),n}(Di),uo=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var i;return Object(l["a"])(this,n),i=t.call(this),n._handle=Object(ea["a"])(i),i.mQuizDataList=e,i.mCurrentQuizIDX=-1,i.mQuizes=[],i.mDrawData=a,i}return Object(u["a"])(n,[{key:"onInit",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return na["a"].stopAll(),this.mWrongCountList=[!1,!1,!1,!1,!1],this.removeChildren(),this.mQuizRoot=new ta["Container"],this.addChild(this.mQuizRoot),t=new ta["Sprite"](aa.Handle.currentGame.getResource("bg.png").texture),this.mQuizRoot.addChild(t),this.mQuizes.push(new Xi(this.mQuizDataList.type1,0)),this.mQuizes.push(new no(this.mQuizDataList.type2,1,this.mDrawData)),this.mQuizes.push(new oo(this.mQuizDataList.type3,2)),this.mQuizes.push(new lo(this.mQuizDataList.type4,3)),this.mQuizes.push(new lo(this.mQuizDataList.type5,4)),e.next=14,this.game.endLoadingScreen();case 14:return e.next=16,this.game.startReadyScreen(-1,"al_quiz");case 16:this.start();case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onStart",value:function(){this.nextQuiz(),window.onkeyup=function(e){"+"==e.key&&(aa.Handle.nextGame(),window.onkeyup=null)}}},{key:"onEnd",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"main"==L.excuteMode&&""!=re.token?(console.log(" 알파벳 퀴즈 종료",this.game.gameName,aa.Handle.appData.symbol.toLowerCase(),ue.childSetting.lrngChoLvlCd,this.mWrongCountList),Vt.setActivityEnd({activity:this.game.gameName,endinfo:{symbol:aa.Handle.appData.symbol.toLowerCase(),lrngChoLvlCd:ue.childSetting.lrngChoLvlCd,quizResult:this.mWrongCountList}})):console.warn("quiz 학습결과를 전송하지 않습니다."),this.mBGM&&this.mBGM.stop(),na["a"].stopAll(),me["b"].globalTimeline.clear(),e.next=6,this.game.startEOPScreen(0);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onAppMessage",value:function(e){}},{key:"nextQuiz",value:function(){console.log("%c 틀린갯수 ".concat(this.wrongCountList),"border:1px red solid;"),this.mQuizRoot.removeChildren(),this.mCurrentQuizIDX>=0&&this.mQuizes[this.mCurrentQuizIDX].onEnd(),this.mCurrentQuizIDX+=1,this.mCurrentQuizIDX<this.mQuizes.length?(this.mQuizRoot.addChild(this.mQuizes[this.mCurrentQuizIDX]),this.mQuizes[this.mCurrentQuizIDX].onStart()):aa.Handle.nextGame()}},{key:"wrongCountList",get:function(){return null==this.mWrongCountList&&(this.mWrongCountList=[!1,!1,!1,!1,!1]),this.mWrongCountList}}],[{key:"Handle",get:function(){return n._handle}}]),n}(Pa),mo=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.call(this,"quiz")}return Object(u["a"])(n,[{key:"onStartGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,o,r,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.startLoadingScreen();case 2:return t=aa.Handle.appData.symbol.toLowerCase(),e.next=5,T.a.post("".concat(N.Config.restAPIProd,"/alphabet/getViewerResource"),{activity:"quiz"});case 5:return n=e.sent,e.next=8,this._loadViewerResource(n.data);case 8:return e.next=10,T.a.post("".concat(N.Config.restAPIProd,"/alphabet/getQuizData"),{symbol:t,level:aa.Handle.appData.level});case 10:a=e.sent,console.log(">>>",a),i=Object(x["a"])(a.data.addSymbol),e.prev=13,i.s();case 15:if((o=i.n()).done){e.next=24;break}return r=o.value,e.next=19,T.a.post("".concat(N.Config.restAPIProd,"/alphabet/getProductResource"),{activity:"quiz",symbol:r});case 19:return s=e.sent,e.next=22,this._loadProductResource(s.data);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e["catch"](13),i.e(e.t0);case 29:return e.prev=29,i.f(),e.finish(29);case 32:return e.next=34,T.a.post("".concat(N.Config.restAPIProd,"/alphabet/getBlockData"),{symbol:aa.Handle.appData.symbol.toLowerCase()});case 34:c=e.sent,console.log(c),this.mQuizData=c.data.QuizData,console.log("quizData",a),this.addScene("activity",new uo(a.data,this.mQuizData)),this.goScene("activity");case 40:case"end":return e.stop()}}),e,this,[[13,26,29,32]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"onEndGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.warn("AL quiz END",this.playTime),e.next=3,ce.updatePlayTime(this.playTime);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"quizData",get:function(){return this.mQuizData}}]),n}(Oa),ho=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this),a.mTexture={},a.texture=aa.Handle.currentGame.getResource(e).texture,a}return Object(u["a"])(n,[{key:"change",value:function(e){this.texture=aa.Handle.currentGame.getResource(e).texture}}]),n}(PIXI.Sprite),po=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.call(this)}return Object(u["a"])(n,[{key:"initSound",value:function(){this.mSound={},this.mSound["sfx/pet_aftershower"]=this.game.getViewerResource("pet_aftershower.mp3").sound,this.mSound["sfx/pet_ani_broom"]=this.game.getViewerResource("pet_ani_broom.mp3").sound,this.mSound["sfx/pet_ani_broom_enter"]=this.game.getViewerResource("pet_ani_broom_enter.mp3").sound,this.mSound["sfx/pet_ani_eat"]=this.game.getViewerResource("pet_ani_eat.mp3").sound,this.mSound["sfx/pet_ani_feed"]=this.game.getViewerResource("pet_ani_feed.mp3").sound,this.mSound["sfx/pet_ani_run"]=this.game.getViewerResource("pet_ani_run.mp3").sound,this.mSound["sfx/pet_ani_shampoo"]=this.game.getViewerResource("pet_ani_shampoo.mp3").sound,this.mSound["sfx/pet_ani_shower"]=this.game.getViewerResource("pet_ani_shower.mp3").sound,this.mSound["sfx/pet_bark"]=this.game.getViewerResource("pet_bark.mp3").sound,this.mSound["sfx/pet_clean"]=this.game.getViewerResource("pet_clean.mp3").sound,this.mSound["sfx/pet_foodbowl"]=this.game.getViewerResource("pet_foodbowl.mp3").sound,this.mSound["sfx/pet_gasp"]=this.game.getViewerResource("pet_gasp.mp3").sound,this.mSound["sfx/pet_gasp_l"]=this.game.getViewerResource("pet_gasp_l.mp3").sound,this.mSound["sfx/pet_get"]=this.game.getViewerResource("pet_get.mp3").sound,this.mSound["sfx/pet_good"]=this.game.getViewerResource("pet_good.mp3").sound,this.mSound["sfx/pet_good2"]=this.game.getViewerResource("pet_good2.mp3").sound,this.mSound["sfx/pet_good3"]=this.game.getViewerResource("pet_good3.mp3").sound,this.mSound["sfx/pet_hungry"]=this.game.getViewerResource("pet_hungry.mp3").sound,this.mSound["sfx/pet_jump"]=this.game.getViewerResource("pet_jump.mp3").sound,this.mSound["sfx/pet_open"]=this.game.getViewerResource("pet_open.mp3").sound,this.mSound["sfx/pet_play"]=this.game.getViewerResource("pet_play.mp3").sound,this.mSound["sfx/pet_sound01"]=this.game.getViewerResource("pet_sound01.mp3").sound,this.mSound["sfx/pet_step"]=this.game.getViewerResource("pet_step.mp3").sound,this.mSound["sfx/pet_wash"]=this.game.getViewerResource("pet_wash.mp3").sound}},{key:"_setupPlayerSoundEvent",value:function(){var e=this;this.mPlayer.state.addListener({event:function(t,n){void 0!==e.mSound[n.data.name]&&(na["a"].stopAll(),e.mSound[n.data.name].play())}})}},{key:"game",get:function(){return Object(Hi["a"])(Object(zi["a"])(n.prototype),"game",this)}}]),n}(Pa),fo=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.call(this)}return Object(u["a"])(n,[{key:"onInit",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.mBG=new ho("bg_02.png"),this.addChild(this.mBG),this.mPlayer=new PIXI.spine.Spine(aa.Handle.currentGame.getResource("common_dog01.json").spineData),this.mPlayer.position.set(640,360),this.addChild(this.mPlayer),this.initSound(),this.start();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onStart",value:function(){this._setupPlayerSoundEvent(),this._setupPlayerAni()}},{key:"_setupPlayerAni",value:function(){var e=this;this.mPlayer.state.setAnimation(0,"02_shower/02_enter",!1),this.mPlayer.state.addListener({complete:function(t){if("02_shower/02_enter"==t.animation.name){e.mPlayer.state.setAnimation(0,"02_shower/02_ready",!0);var n=e.mPlayer.slotContainers[e.mPlayer.skeleton.findSlotIndex("02_click")];n.interactive=!0,n.buttonMode=!0,n.on("pointerdown",(function(){n.interactive=!1,n.buttonMode=!1,e.mPlayer.state.setAnimation(0,"02_shower/02_action",!1)}))}else if("02_shower/02_action"==t.animation.name){e.game.dogCondition.needBath-=1,e.game.dogCondition.needBath<0&&(e.game.dogCondition.needBath=0);var a=e.mPlayer.slotContainers[e.mPlayer.skeleton.findSlotIndex("02_click")];a.interactive=!1,a.buttonMode=!1,e.game.dogCondition.needBath>0?e.game.goScene("home"):e.mPlayer.state.setAnimation(0,"02_shower/02_reaction",!1)}else"02_shower/02_reaction"==t.animation.name&&e.game.goScene("home")}})}},{key:"game",get:function(){return Object(Hi["a"])(Object(zi["a"])(n.prototype),"game",this)}}]),n}(po),go=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.call(this)}return Object(u["a"])(n,[{key:"onInit",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.mBG=new ho("bg_00.png"),this.addChild(this.mBG),this.mPlayer=new PIXI.spine.Spine(aa.Handle.currentGame.getResource("common_dog01.json").spineData),this.mPlayer.position.set(640,360),this.addChild(this.mPlayer),this.initSound(),this.start();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onStart",value:function(){this._setupPlayerSoundEvent(),this._setupPlayerAni()}},{key:"_setupPlayerAni",value:function(){var e=this;this.mPlayer.state.setAnimation(0,"03_cleaning/03_enter",!1),this.mPlayer.state.addListener({complete:function(t){if("03_cleaning/03_enter"==t.animation.name){e.mPlayer.state.setAnimation(0,"03_cleaning/03_ready",!0);var n=e.mPlayer.slotContainers[e.mPlayer.skeleton.findSlotIndex("03_click")];n.interactive=!0,n.buttonMode=!0,n.on("pointerdown",(function(){n.interactive=!1,console.log("click"),e.mPlayer.state.setAnimation(0,"03_cleaning/03_action",!1)}))}else if("03_cleaning/03_action"==t.animation.name){e.game.dogCondition.needClean-=1,e.game.dogCondition.needClean<0&&(e.game.dogCondition.needClean=0);var a=e.mPlayer.slotContainers[e.mPlayer.skeleton.findSlotIndex("03_click")];a.interactive=!1,a.buttonMode=!1,e.game.dogCondition.needClean>0?e.game.goScene("home"):e.mPlayer.state.setAnimation(0,"03_cleaning/03_reaction",!1)}else"03_cleaning/03_reaction"==t.animation.name&&e.game.goScene("home")}})}},{key:"game",get:function(){return Object(Hi["a"])(Object(zi["a"])(n.prototype),"game",this)}}]),n}(po),vo=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.call(this)}return Object(u["a"])(n,[{key:"onInit",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.mBG=new ho("bg_04.png"),this.addChild(this.mBG),this.mPlayer=new PIXI.spine.Spine(aa.Handle.currentGame.getResource("common_dog01.json").spineData),this.mPlayer.position.set(640,360),this.addChild(this.mPlayer),this.initSound(),this.start();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onStart",value:function(){this._setupPlayerSoundEvent(),this._setupPlayerAni()}},{key:"_setupPlayerAni",value:function(){var e=this;this.mPlayer.state.setAnimation(0,"04_meal/04_enter",!1),this.mPlayer.state.addListener({complete:function(t){if("04_meal/04_enter"==t.animation.name){e.mPlayer.state.setAnimation(0,"04_meal/04_ready",!0);var n=e.mPlayer.slotContainers[e.mPlayer.skeleton.findSlotIndex("04_click")];n.interactive=!0,n.buttonMode=!0,n.on("pointerdown",(function(){n.interactive=!1,console.log("click"),e.mPlayer.state.setAnimation(0,"04_meal/04_action",!1)}))}else if("04_meal/04_action"==t.animation.name){e.game.dogCondition.needEat-=1,e.game.dogCondition.needEat<0&&(e.game.dogCondition.needEat=0);var a=e.mPlayer.slotContainers[e.mPlayer.skeleton.findSlotIndex("02_click")];a.interactive=!1,a.buttonMode=!1,e.game.dogCondition.needEat>0?e.game.goScene("home"):e.mPlayer.state.setAnimation(0,"04_meal/04_reaction",!1)}else"04_meal/04_reaction"==t.animation.name&&e.game.goScene("home")}})}},{key:"game",get:function(){return Object(Hi["a"])(Object(zi["a"])(n.prototype),"game",this)}}]),n}(po),bo=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"setMypetScreenShot",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.post("".concat(N.Config.restAPIProd).concat($.myPet.screenShot.req),t);case 3:n=e.sent,1==n.data.ok||j.a.fire({icon:"error",title:"setMypetScreenShot error",text:n.data.err}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setRecieved",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.post("".concat(N.Config.restAPIProd).concat($.myPet.recieved.req),{});case 3:t=e.sent,1==t.data.ok||j.a.fire({icon:"error",title:"setRecieved error",text:t.data.err}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()}]),n}(I["d"]);Object(d["a"])([I["a"]],bo.prototype,"setMypetScreenShot",null),Object(d["a"])([I["a"]],bo.prototype,"setRecieved",null),bo=Object(d["a"])([Object(I["b"])({namespaced:!0,name:"mypet",dynamic:!0,store:P})],bo);var yo,Co=Object(I["e"])(bo),ko=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.call(this)}return Object(u["a"])(n,[{key:"onInit",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.mBG=new ho("bg_firstentry.png"),this.addChild(this.mBG),this.interactive=!0,this.mPlayer=new PIXI.spine.Spine(aa.Handle.currentGame.getResource("common_dog_firstentry.json").spineData),this.mPlayer.position.set(640,360),this.mSound={},this.mSound["sfx/pet_open"]=this.game.getViewerResource("pet_open.mp3").sound,this.mSound["sfx/pet_gasp"]=this.game.getViewerResource("pet_gasp.mp3").sound,this.mSound["sfx/pet_good"]=this.game.getViewerResource("pet_good.mp3").sound,this.initSound(),e.next=12,this.game.endLoadingScreen();case 12:this.start();case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onStart",value:function(){this.addChild(this.mPlayer),this.mPlayer.state.setAnimation(0,"firstentry/enter",!1),this._setupPlayerSoundEvent(),this._setupPlayerAni()}},{key:"_setupPlayerAni",value:function(){var e=this;this.mPlayer.state.addListener({complete:function(t){"firstentry/enter"==t.animation.name?(e.mPlayer.state.setAnimation(0,"firstentry/enter_click",!0),e.once("pointerdown",(function(){e.mPlayer.state.setAnimation(0,"firstentry/open",!1)}))):"firstentry/open"==t.animation.name?(e.mPlayer.state.setAnimation(0,"firstentry/open_click",!0),e.once("pointerdown",(function(){e.mPlayer.state.setAnimation(0,"firstentry/dog_ready",!1)}))):"firstentry/dog_ready"==t.animation.name&&(Co.setRecieved(),e.game.goScene("home"))}})}}]),n}(po),So=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this),a.mPath=e,a.interactive=!0,a.buttonMode=!0,a.on("pointertap",(function(){a.emit("onClick",a.mPath)})),a.texture=aa.Handle.currentGame.getResource(e).texture,a}return Object(u["a"])(n,[{key:"path",get:function(){return this.mPath}}]),n}(PIXI.Sprite),wo=["bg_00_thum.png","bg01_01_thum.png","bg01_02_thum.png","bg01_03_thum.png","bg01_04_thum.png"],_o=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;Object(l["a"])(this,n),e=t.call(this),e.mDecoImageArray=[],e.mSelected=new PIXI.Sprite(aa.Handle.currentGame.getResource("selected.png").texture),e.mSelected.anchor.set(.5),e.mSelected.y=-12;for(var a=0,i=0;i<2;i++)for(var o=0;o<4;o++){var r="no_img.png";wo[a]&&(r=wo[a]);var s=new So(r);s.anchor.set(.5),wo[a]&&(s.scale.set(1),s.on("onClick",(function(t){t=t.slice(0,-9)+".png",console.log("ssss",t),e.emit("onSelectBG",t)}))),s.position.set(165+245*o,170+240*i),e.mDecoImageArray.push(s),e.addChild(s),a+=1}return e}return Object(u["a"])(n,[{key:"setCurrentBGName",value:function(e){var t,n=Object(x["a"])(this.mDecoImageArray);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.path.slice(0,-9)+".png"==e?(a.addChild(this.mSelected),a.interactive=!1):a.interactive=!0}}catch(i){n.e(i)}finally{n.f()}}}]),n}(PIXI.Container),xo=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mDimmed=new PIXI.Graphics,e.mDimmed.beginFill(0),e.mDimmed.drawRect(0,0,1280,720),e.mDimmed.endFill(),e.mDimmed.alpha=.5,e.addChild(e.mDimmed),e.mBox=new PIXI.NineSlicePlane(aa.Handle.currentGame.getResource("deco_box.png").texture,50,50,50,50),e.mBox.width=1082,e.mBox.height=576,e.mBox.pivot.set(e.mBox.width/2,e.mBox.height/2),e.mBox.position.set(640,400),e.addChild(e.mBox),e.mTitle=new PIXI.Sprite(aa.Handle.currentGame.getResource("title_deco.png").texture),e.mTitle.anchor.set(.5),e.mTitle.position.set(640,60),e.addChild(e.mTitle),e.mImageList=new _o,e.mBox.addChild(e.mImageList),e.mImageList.on("onSelectBG",(function(t){e.emit("onSelectBG",t),e.close()})),e.mExitButton=new So("btn_x.png"),e.mExitButton.on("pointerup",(function(t){e.close()})),e.mExitButton.position.set(e.mBox.width-60,-30),e.mBox.addChild(e.mExitButton),e.interactive=!0,e.close(),e}return Object(u["a"])(n,[{key:"show",value:function(e){this.mImageList.setCurrentBGName(e),this.mTitle.y=-100,this.mBox.scale.set(.3),me["c"].to(this.mBox.scale,{x:1,y:1,duration:1,ease:"bounce.out"}),me["c"].to(this.mTitle,{y:60,duration:1,ease:"bounce.out"}),this.visible=!0}},{key:"close",value:function(){this.visible=!1}}]),n}(PIXI.Container),Io=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mBGname="bg_00.png",e}return Object(u["a"])(n,[{key:"onInit",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("DogCondition:",this.game.dogCondition),this.mPictureContainer=new PIXI.Container,this.addChild(this.mPictureContainer),this.mBG=new ho(this.mBGname),this.mPictureContainer.addChild(this.mBG),this.mPlayer=new PIXI.spine.Spine(aa.Handle.currentGame.getResource("common_dog01.json").spineData),this.mPlayer.position.set(640,360),this.mPictureContainer.addChild(this.mPlayer),this.mShotEffect=new PIXI.Graphics,this.mShotEffect.beginFill(16777215),this.mShotEffect.drawRect(0,0,1280,720),this.mShotEffect.endFill(),this.mShotEffect.blendMode=PIXI.BLEND_MODES.ADD,this.mShotEffect.visible=!1,this.mExitButton=new So("btn_exit.png"),this.mExitButton.position.set(32,32),this.mExitButton.on("onClick",(function(){na["a"].stopAll(),aa.Handle.exit()})),this.addChild(this.mExitButton),this.mPhotoButton=new So("btn_photo.png"),this.mPhotoButton.position.set(26,407),this.mPhotoButton.on("onClick",(function(){t.makeScreenShot()})),this.addChild(this.mPhotoButton),this.mDecoButton=new So("btn_deco.png"),this.mDecoButton.position.set(26,555),this.mDecoButton.on("onClick",(function(){t.mDeco.show(t.mBGname)})),this.addChild(this.mDecoButton),this.mClickStop=new PIXI.Graphics,this.mClickStop.beginFill(0,.001),this.mClickStop.drawRect(0,0,1280,720),this.mClickStop.endFill(),this.mClickStop.interactive=!0,this.mClickStop.on("pointerdown",(function(){})),this.mPlayButton=new So("btn_ball.png"),this.mPlayButton.position.set(1120,100),this.mPlayButton.on("onClick",(function(){t.addChild(t.mClickStop);var e=aa.Handle.currentGame.getResource("mpet_1.mp3").sound;void 0!=e?(na["a"].stopAll(),e.play(),me["c"].delayedCall(e.duration,(function(){t.game.goScene("play")}))):t.game.goScene("play")})),this.addChild(this.mPlayButton),this.mBathButton=new So("btn_shower.png"),this.mBathButton.position.set(1120,250),this.mBathButton.on("onClick",(function(){t.addChild(t.mClickStop);var e=aa.Handle.currentGame.getResource("mpet_2.mp3").sound;void 0!=e?(na["a"].stopAll(),e.play(),me["c"].delayedCall(e.duration,(function(){t.game.goScene("bath")}))):t.game.goScene("bath")})),this.addChild(this.mBathButton),this.mCleanButton=new So("btn_clean.png"),this.mCleanButton.position.set(1120,400),this.mCleanButton.on("onClick",(function(){t.addChild(t.mClickStop);var e=aa.Handle.currentGame.getResource("mpet_3.mp3").sound;void 0!=e?(na["a"].stopAll(),e.play(),me["c"].delayedCall(e.duration,(function(){t.game.goScene("clean")}))):t.game.goScene("clean")})),this.addChild(this.mCleanButton),this.mEatButton=new So("btn_meal.png"),this.mEatButton.position.set(1120,550),this.mEatButton.on("onClick",(function(){t.addChild(t.mClickStop);var e=aa.Handle.currentGame.getResource("mpet_4.mp3").sound;void 0!=e?(na["a"].stopAll(),e.play(),me["c"].delayedCall(e.duration,(function(){t.game.goScene("eat")}))):t.game.goScene("eat")})),this.addChild(this.mEatButton),this.addChild(this.mShotEffect),this.mDeco=new xo,this.mDeco.on("onSelectBG",(function(e){t.mBGname=e,t.mBG.change(e)})),this.addChild(this.mDeco),this.initSound(),e.next=55,this.game.endLoadingScreen();case 55:this.start();case 56:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onStart",value:function(){this._setupPlayerSoundEvent(),this._setupPlayerAni()}},{key:"_alertPopUp",value:function(){var e=this,t=new PIXI.Graphics;t.beginFill(0,.6),t.drawRect(0,0,1280,720),t.endFill(),t.position.set(0,0),this.addChild(t);var n=new PIXI.Sprite(aa.Handle.currentGame.getResource("popup_quit_box.png").texture);n.anchor.set(.5),n.position.set(640,360),t.addChild(n),me["c"].from(n.scale,{x:0,y:0,duration:.5});var a=new PIXI.TextStyle({fontFamily:"minigate",fontSize:24,fill:"#000000"}),i=new PIXI.Text("My Room에 저장되었습니다.",a);i.anchor.set(.5),n.addChild(i),t.interactive=!0,t.on("pointertap",(function(){e.removeChild(t),t.removeChild(n)}))}},{key:"makeScreenShot",value:function(){var e=this,t=PIXI.RenderTexture.create({width:1280,height:720});aa.Handle.renderer.render(this.mPictureContainer,t),this.mShotEffect.visible=!0,this.mShotEffect.alpha=1,me["c"].to(this.mShotEffect,{alpha:0,duration:.5}).eventCallback("onComplete",(function(){e.mShotEffect.visible=!1,e._alertPopUp()}));var n=aa.Handle.renderer.extract.canvas(t);n.toBlob((function(e){var t=new FormData;t.set("screenshot",e),T.a.post("".concat(N.Config.restAPIProd,"/learning/child/mypet/screenshot"),t)}),"image/png")}},{key:"_setupPlayerAni",value:function(){var e=this,t=[];this.game.dogCondition.needBath>0&&t.push("bath"),this.game.dogCondition.needClean>0&&t.push("clean"),this.game.dogCondition.needEat>0&&t.push("eat"),this.game.dogCondition.needPlay>0&&t.push("play"),Ta(t),0==t.length?this.mPlayer.state.setAnimation(0,"defalt/00_defalt",!0):"bath"==t[0]?this.mPlayer.state.setAnimation(0,"defalt/02_defalt",!0):"clean"==t[0]?this.mPlayer.state.setAnimation(0,"defalt/03_defalt",!0):"eat"==t[0]?this.mPlayer.state.setAnimation(0,"defalt/04_defalt",!0):"play"==t[0]&&this.mPlayer.state.setAnimation(0,"defalt/01_defalt",!0),this.mPlayer.state.addListener({complete:function(t){if("01_play/01_enter"==t.animation.name){e.mPlayer.state.setAnimation(0,"01_play/01_ready",!0);var n=e.mPlayer.slotContainers[e.mPlayer.skeleton.findSlotIndex("01_click")];n.interactive=!0,n.buttonMode=!0,n.on("pointerdown",(function(){console.log("click"),e.mPlayer.state.setAnimation(0,"01_play/01_action",!1)}))}else if("01_play/01_action"==t.animation.name){var a=e.mPlayer.slotContainers[e.mPlayer.skeleton.findSlotIndex("02_click")];a.interactive=!1,a.buttonMode=!1,e.mPlayer.state.setAnimation(0,"01_play/01_reaction",!1)}else"01_play/01_reaction"==t.animation.name&&e.game.goScene("home")}})}},{key:"game",get:function(){return Object(Hi["a"])(Object(zi["a"])(n.prototype),"game",this)}}]),n}(po),Oo=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.call(this)}return Object(u["a"])(n,[{key:"onInit",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.mBG=new ho("bg_01.png"),this.addChild(this.mBG),this.mPlayer=new PIXI.spine.Spine(aa.Handle.currentGame.getResource("common_dog01.json").spineData),this.mPlayer.position.set(640,360),this.addChild(this.mPlayer),this.initSound(),this.start();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onStart",value:function(){this._setupPlayerSoundEvent(),this._setupPlayerAni()}},{key:"_setupPlayerAni",value:function(){var e=this;this.mPlayer.state.setAnimation(0,"01_play/01_enter",!1),this.mPlayer.state.addListener({complete:function(t){if("01_play/01_enter"==t.animation.name){e.mPlayer.state.setAnimation(0,"01_play/01_ready",!0);var n=e.mPlayer.slotContainers[e.mPlayer.skeleton.findSlotIndex("01_click")];console.log(n),n.interactive=!0,n.buttonMode=!0,n.on("pointerdown",(function(){n.interactive=!1,console.log("click"),e.mPlayer.state.setAnimation(0,"01_play/01_action",!1)}))}else if("01_play/01_action"==t.animation.name){e.game.dogCondition.needPlay-=1,e.game.dogCondition.needPlay<0&&(e.game.dogCondition.needPlay=0);var a=e.mPlayer.slotContainers[e.mPlayer.skeleton.findSlotIndex("02_click")];a.interactive=!1,a.buttonMode=!1,e.game.dogCondition.needEat>0?e.game.goScene("home"):e.mPlayer.state.setAnimation(0,"01_play/01_reaction",!1)}else"01_play/01_reaction"==t.animation.name&&e.game.goScene("home")}})}},{key:"game",get:function(){return Object(Hi["a"])(Object(zi["a"])(n.prototype),"game",this)}}]),n}(po),Po=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this,""),na["a"].stopAll(),e.mDogConditon={needBath:Math.floor(4*Math.random()),needClean:Math.floor(4*Math.random()),needEat:Math.floor(4*Math.random()),needPlay:Math.floor(4*Math.random())},e}return Object(u["a"])(n,[{key:"onStartGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.startLoadingScreen();case 2:return console.log("myPet onStartGame"),this.mMenuScreen.visible=!1,e.next=6,T.a.post("".concat(N.Config.restAPIProd,"/mypet/getViewerResource"),{});case 6:return t=e.sent,e.next=9,this._loadViewerResource(t.data);case 9:this.addScene("first",new ko),this.addScene("home",new Io),this.addScene("bath",new fo),this.addScene("clean",new go),this.addScene("eat",new vo),this.addScene("play",new Oo),null==ue.homeData||0==ue.homeData.mypetInfo.recievedPet?this.goScene("first"):this.goScene("home");case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onEndGame",value:function(){}},{key:"onAppMessage",value:function(e){}},{key:"dogCondition",get:function(){return this.mDogConditon}}]),n}(Oa),Ro=new PIXI.TextStyle({fontFamily:"Arial",fontSize:20,fontWeight:"bold",fill:"#ffffff"}),jo=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this),a.mVideoElement=e,a.mGaugeBG=new PIXI.Sprite(aa.Handle.currentGame.getViewerResource("scroll_bg.png").texture),a.mGaugeBG.y=20,a.addChild(a.mGaugeBG),a.hitArea=new ta["Rectangle"](0,0,a.mGaugeBG.width,50),a.mGauge=new PIXI.Sprite(aa.Handle.currentGame.getViewerResource("scroll_bg.png").texture),a.mGauge.y=20,a.mGauge.tint=16729927,a.mGauge.scale.x=.5,a.addChild(a.mGauge),a.mGaugeCursor=new PIXI.Sprite(aa.Handle.currentGame.getViewerResource("scrollbtn.png").texture),a.mGaugeCursor.anchor.set(.5),a.mGaugeCursor.y=23,a.addChild(a.mGaugeCursor),a.mText=new PIXI.Text("00:00",Ro),a.mText.anchor.set(1,0),a.mText.position.set(a.mGaugeBG.width,35),a.addChild(a.mText),a.mVideoElement.ontimeupdate=function(){var t=new Date(1e3*a.mVideoElement.currentTime),n="0"+t.getMinutes(),i="0"+t.getSeconds(),o=new Date(1e3*a.mVideoElement.duration),r="0"+o.getMinutes(),s="0"+o.getSeconds();a.mText.text=n.substr(-2)+":"+i.substr(-2)+" / "+r.substr(-2)+":"+s.substr(-2),a.mGauge.scale.x=e.currentTime/e.duration,a.mGaugeCursor.x=a.mGauge.width},a.interactive=!0,a.buttonMode=!0,a.mIsDrag=!1,a.on("pointerdown",(function(e){a.mIsDrag=!0;var t=a.toLocal(e.data.global),n=t.x/a.width;n<0&&(n=0),a.mVideoElement.currentTime=a.mVideoElement.duration*n,a.mGaugeCursor.x=a.mGaugeBG.width*n,a.mGauge.scale.x=n})),a.on("pointermove",(function(e){if(1==a.mIsDrag){var t=a.toLocal(e.data.global),n=t.x/a.width;n<0&&(n=0),a.mVideoElement.currentTime=a.mVideoElement.duration*n,a.mGaugeCursor.x=a.mGaugeBG.width*n,a.mGauge.scale.x=n}})),a.on("pointerup",(function(e){a.mIsDrag=!1,e.stopPropagation()})),a.on("pointerupoutside",(function(e){a.mIsDrag=!1,e.stopPropagation()})),a}return n}(PIXI.Container),Do=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this),a.mPlayTexture=aa.Handle.currentGame.getViewerResource("play_btn.png").texture,a.mPauseTexture=aa.Handle.currentGame.getViewerResource("stop_btn.png").texture,a.anchor.set(.5),a.texture=a.mPauseTexture,a.interactive=!0,a.buttonMode=!0,a.mVideoElement=e,a.on("pointerup",(function(e){a.mVideoElement.paused?(a.mVideoElement.play(),a.texture=a.mPauseTexture):(a.mVideoElement.pause(),a.texture=a.mPlayTexture),e.stopPropagation()})),a}return n}(PIXI.Sprite),To=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this),a.mVideoElement=e,a.beginFill(0,.4),a.drawRect(0,0,1280,720),a.endFill(),a.mPlayBTN=new Do(a.mVideoElement),a.mPlayBTN.position.set(640,360),a.addChild(a.mPlayBTN),a.mProgGuage=new jo(a.mVideoElement),a.mProgGuage.position.set(30,650),a.addChild(a.mProgGuage),a.interactive=!0,a.buttonMode=!0,a.on("pointerup",(function(){a.show(!1)})),a.visible=!1,a}return Object(u["a"])(n,[{key:"show",value:function(e){var t=this;console.log("show",e,this.visible),1==e&&0==this.visible?(this.visible=!0,this.alpha=0,me["b"].to(this,{alpha:1,duration:.5})):0==e&&1==this.visible&&me["b"].to(this,{alpha:0,duration:.5}).eventCallback("onComplete",(function(){t.visible=!1}))}}]),n}(PIXI.Graphics),Bo=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.call(this)}return Object(u["a"])(n,[{key:"onInit",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.mVideoSprite=new PIXI.Sprite,this.addChild(this.mVideoSprite),this.mVideoElement=document.createElement("video"),this.mVideoElement.setAttribute("playsinline",""),this.mVideoElement.setAttribute("autoplay",""),t="https://contents.arambookclub.com/contents/product/storybooks/movie/"+"".concat(aa.Handle.appData.bookID,".mp4"),this.mVideoElement.src=t,this.mVideoElement.crossOrigin="",this.mVideoElement.autoplay=!0,window["video"]=this.mVideoElement,this.cb=function(){0==document.hidden?n.mVideoElement&&n.mVideoElement.play():n.mVideoElement&&n.mVideoElement.pause()},document.addEventListener("visibilitychange",this.cb),this.mVideoSprite.texture=PIXI.Texture.from(this.mVideoElement),this.mVideoElement.oncanplay=function(){n.mVideoElement.currentTime=0,n.mVideoElement.pause(),n.mVideoElement.oncanplay=null},this.mVideoElement.onended=function(){aa.Handle.nextGame()},A()&&(this.interactive=!1,this.buttonMode=!1),this.on("pointerup",(function(){n.mDimmed.show(!0)})),this.mDimmed=new To(this.mVideoElement),this.addChild(this.mDimmed),A()||(this.interactive=!0,this.buttonMode=!0),e.next=22,this.game.endLoadingScreen();case 22:return e.next=24,this.game.startReadyScreen(-1,"sb_movie");case 24:this.start();case 25:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onStart",value:function(){var e=this;if(console.log("ACTIVITY MOVIE Start!!"),A()){var t=new PIXI.Graphics;t.beginFill(0,.4),t.drawRect(0,0,1280,720),t.endFill(),this.addChild(t);var n=new PIXI.Sprite(aa.Handle.currentGame.getViewerResource("play_btn.png").texture);n.anchor.set(.5),n.position.set(640,360),t.addChild(n),n.interactive=!0,t.interactive=!0,n.on("pointerdown",(function(){e.removeChild(t),e.mVideoElement.play(),e.interactive=!0,e.buttonMode=!0})),t.on("pointerdown",(function(e){e.stopPropagation()})),this.mVideoElement.pause()}else this.mVideoElement.play();window["video"]=this.mVideoElement,window.onkeyup=function(e){"+"==e.key&&(aa.Handle.nextGame(),window.onkeyup=null)}}},{key:"onPauseStart",value:function(){}},{key:"onPauseEnd",value:function(){}},{key:"onForceExit",value:function(){this.mVideoElement.currentTime=0,this.mVideoElement.pause(),this.mVideoElement=null,window["video"]&&(window["video"].pause(),window["video"]=null)}},{key:"onEnd",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return window["video"]&&(window["video"].pause(),window["video"]=null),this.cb&&document.removeEventListener("visibilitychange",this.cb),"main"==L.excuteMode&&""!=re.token?(console.log("스토리 무비 끝",this.game.gameName,aa.Handle.appData.bookID,ue.childSetting.lrngChoLvlCd),wt.setActivityEnd({activity:this.game.gameName,endinfo:{bookID:aa.Handle.appData.bookID,lrngChoLvlCd:ue.childSetting.lrngChoLvlCd,complete:!0}})):console.warn("스토리무비 학습결과를 전송하지 않습니다."),this.mDimmed.show(!1),na["a"].stopAll(),me["b"].globalTimeline.clear(),e.next=8,this.game.startEOPScreen(1,!0);case 8:this.mVideoElement.currentTime=0,this.mVideoElement.pause();case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(Pa),Lo=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.call(this,"movie")}return Object(u["a"])(n,[{key:"onStartGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.startLoadingScreen();case 2:return console.log("STORYBOOK Movie START"),e.next=5,T.a.post("".concat(N.Config.restAPIProd,"/storybooks/getViewerResource"),{activity:"movie"});case 5:return t=e.sent,e.next=8,this._loadViewerResource(t.data);case 8:this.addScene("activity",new Bo),this.goScene("activity");case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onEndGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.warn("SB movie END",this.playTime),e.next=3,ce.updatePlayTime(this.playTime);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(Oa),Ao=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this),a.mData=e,console.log("bookID=>",e.bookID,"pageNum=>",e.pageNum,"pageType=>",e.pageType),a.mButtonSprite=new Eo("sc_".concat(e.bookID,"_").concat(e.pageNum,"_2.png")),a.mExampleText=new PIXI.Sprite(aa.Handle.currentGame.getProductResource("sc_".concat(e.bookID,"_").concat(e.pageNum,"_3.png")).texture),a.mExampleText.alpha=0,a}return Object(u["a"])(n,[{key:"startAct",value:function(){this.mButtonSprite.affordance()}},{key:"onBackground",value:function(){}},{key:"onText",value:function(){}},{key:"onCorrectText",value:function(){}},{key:"offDimmed",value:function(){}},{key:"activity",get:function(){return this.parent}},{key:"catchData",get:function(){return this.mData}}]),n}(PIXI.Container),Mo=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var i;return Object(l["a"])(this,n),i=t.call(this),i.mQuizBG=e,i.mCorrectBG=a,i.texture=aa.Handle.currentGame.getProductResource(i.mQuizBG).texture,i}return Object(u["a"])(n,[{key:"onCorrectBackground",value:function(){var e=this;this.texture=aa.Handle.currentGame.getProductResource(this.mCorrectBG).texture,me["b"].delayedCall(.5,(function(){console.log("정답 bG"),e.activity.currentPage.onCorrectText()}))}},{key:"activity",get:function(){return aa.Handle.currentGame.currentScene}}]),n}(PIXI.Sprite),Go=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mHands=new PIXI.Sprite(aa.Handle.currentGame.getResource("finger.png").texture),e.mHands.y=40,e.mCircle=new PIXI.Sprite(aa.Handle.currentGame.getResource("circle.png").texture),e.mCircle.anchor.set(.5),e.mCircle.position.set(e.mHands.width/2,e.mCircle.height),e.addChild(e.mCircle),e.addChild(e.mHands),e.hitArea=new ta["Rectangle"](0,0,e.width,e.height+50),e}return Object(u["a"])(n,[{key:"onHand",value:function(){me["b"].to(this.mHands,{y:80,duration:1}).repeat(-1).yoyo(!0),me["b"].to(this.mCircle.scale,{x:1.5,y:1.5,duration:2}).repeat(-1)}},{key:"activity",get:function(){return aa.Handle.currentGame.currentScene}}]),n}(PIXI.Container),Eo=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this),n._handle=Object(ea["a"])(a),a.mQuiz=new PIXI.Sprite(aa.Handle.currentGame.getProductResource(e).texture),a.mQuiz.buttonMode=!1,a.addChild(a.mQuiz),a.mAffordance=new Go,a.mAffordance.on("pointertap",(function(){a.arrowClick()})),a.mQuiz.on("pointerdown",(function(e){a.spriteClick(e)})),a.mQuiz.on("pointermove",(function(e){0!=i.getColorByPoint(a.mQuiz,new PIXI.Point(e.data.global.x,e.data.global.y)).a?a.mQuiz.buttonMode=!0:a.mQuiz.buttonMode=!1})),a}return Object(u["a"])(n,[{key:"spriteClick",value:function(e){if(0!=i.getColorByPoint(this.mQuiz,new PIXI.Point(e.data.global.x,e.data.global.y)).a){this.arrowClick();var t=aa.Handle.currentGame.getResource("common_click.mp3").sound;t.play()}else console.log("클릭영역이 아닙니다.")}},{key:"affordance",value:function(){this.mQuiz.interactive=!0;var e=i.getCropSize(this.mQuiz);this.mRect=e;var t=this.mRect.x+this.mRect.w/2-this.mAffordance.width/2,n=this.mRect.y+this.mRect.h/2-this.mAffordance.height/2;this.mAffordance.position.set(t,n+20),this.mAffordance.onHand(),this.mAffordance.buttonMode=!0,this.mAffordance.interactive=!0,this.addChild(this.mAffordance)}},{key:"arrowClick",value:function(){this.removeChild(this.mAffordance),this.mQuiz.buttonMode=!1,this.mQuiz.interactive=!1,this.activity.currentPage.onText()}},{key:"activity",get:function(){return aa.Handle.currentGame.currentScene}}],[{key:"Handle",get:function(){return n._handle}}]),n}(PIXI.Sprite),Xo=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var i;return Object(l["a"])(this,n),i=t.call(this,aa.Handle.currentGame.getResource(e).texture,30,30,30,30),i.width=288,i.height=412,i.pivot.set(i.width/2,i.height/2),i.position.set(960,360),i.alpha=0,i.buttonMode=!1,i.interactive=!1,i.hitArea=new ta["Rectangle"](0,0,i.width,i.height),i.mQuiz=new PIXI.Sprite(aa.Handle.currentGame.getProductResource(a).texture),i.mQuiz.anchor.set(.5),i.mQuiz.position.set(i.width/2,i.height/2),i.addChild(i.mQuiz),i.mAfforDanceStage=new PIXI.Container,i.addChild(i.mAfforDanceStage),i.affordance(),i}return Object(u["a"])(n,[{key:"affordance",value:function(){var e=new PIXI.Sprite(aa.Handle.currentGame.getViewerResource("circle.png").texture);e.anchor.set(.5),me["b"].to(e.scale,{x:1.1,y:1.1,duration:1}).repeat(-1).yoyo(!0),me["b"].to(e,{alpha:0,duration:1,delay:1}).repeat(-1).yoyo(!0);var t=new PIXI.Sprite(aa.Handle.currentGame.getViewerResource("finger.png").texture);t.anchor.set(.5),t.position.set(0,100),me["b"].to(t,{y:t.y-20,duration:1}).repeat(-1).yoyo(!0),me["b"].to(t,{alpha:0,duration:1,delay:1}).repeat(-1).yoyo(!0),this.mAfforDanceStage.position.set(this.width/2,this.height)}},{key:"wrong",value:function(e){var t=this;this.tint=12369084,this.mQuiz.alpha=.3,this.mAfforDanceStage.removeChildren(),this.removeChild(this.mAfforDanceStage),e&&me["b"].delayedCall(e,(function(){t.tint=16777215,t.mQuiz.alpha=1}))}},{key:"removeAffordance",value:function(){this.mAfforDanceStage.removeChildren(),this.removeChild(this.mAfforDanceStage)}}]),n}(PIXI.NineSlicePlane),Ho=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a,i){var o;Object(l["a"])(this,n),o=t.call(this),n._handle=Object(ea["a"])(o),o.mQuizSound=aa.Handle.currentGame.getProductResource(i).sound,o.mCorrectBG=new Xo("box_1.png",e),o.mWrongBG=new Xo("box_1.png",a);var r=new Xo("box_3.png",e);return r.position.set(o.mCorrectBG.width/2,o.mCorrectBG.height/2),o.addChild(o.mWrongBG),o.addChild(o.mCorrectBG),o.mCorrectBG.addChild(r),o.mSpeaker=new PIXI.spine.Spine(aa.Handle.currentGame.getResource("common_speaker.json").spineData),o.mSpeaker.position.set(960,100),o.addChild(o.mSpeaker),o.mSpeaker.alpha=0,o.mCorrectBG.on("pointertap",(function(){o.cardClickOff(),me["b"].to(r,{alpha:1,duration:.1}).repeat(4).yoyo(!0),o.mCorrectBG.removeAffordance(),r.removeAffordance(),o.correctCardMotion()})),o.mWrongBG.on("pointertap",(function(){o.wrongMotion()})),o}return Object(u["a"])(n,[{key:"correctCardMotion",value:function(){var e=this;this.mSoundTimeLine&&this.mSoundTimeLine.kill(),this.mSoundTimeLine=null,this.mWrongBG.wrong(),me["b"].to(this.mWrongBG.scale,{x:.7,y:.7,duration:.5,ease:"elastic"});var t=aa.Handle.currentGame.getResource("sc_sfx_3.mp3").sound;t.play({volume:5}),me["b"].to(this.mCorrectBG.scale,{x:1.1,y:1.1,duration:t.duration,ease:"bounce"}),me["b"].delayedCall(t.duration,(function(){e.removeChildren(),e.activity.currentPage.onBackground(),e.activity.currentPage.offDimmed(),e.cardClickOn()}))}},{key:"wrongMotion",value:function(){var e=this;this.cardClickOff(),this.activity.wrongCount+=1,console.log("틀린갯수:[".concat(this.activity.wrongCount,"]")),this.mSoundTimeLine&&this.mSoundTimeLine.kill();var t=aa.Handle.currentGame.getResource("sc_sfx_4.mp3").sound;t.play(),me["b"].to(this.mWrongBG.scale,{x:.7,y:.7,duration:t.duration,ease:"elastic"}).eventCallback("onComplete",(function(){me["b"].to(e.mWrongBG.scale,{x:1,y:1,duration:t.duration,ease:"elastic"})})),this.mWrongBG.wrong(t.duration),this.mCorrectBG.wrong(t.duration),me["b"].delayedCall(t.duration+1,(function(){e.soundPlayAndHintMotion(!0),e.cardClickOn()}))}},{key:"cardClickOff",value:function(){this.mWrongBG.interactive=!1,this.mCorrectBG.interactive=!1}},{key:"cardClickOn",value:function(){this.mWrongBG.interactive=!0,this.mCorrectBG.interactive=!0}},{key:"settingCard",value:function(){var e=this,t=aa.Handle.currentGame.getResource("sc_sfx_2.mp3").sound;t.play(),me["b"].delayedCall(.5,(function(){e.soundPlayAndHintMotion(!0)})),me["b"].delayedCall(.5+this.mQuizSound.duration,(function(){e.mCorrectBG.interactive=!0,e.mCorrectBG.buttonMode=!0,e.mWrongBG.interactive=!0,e.mWrongBG.buttonMode=!0;var t=[e.mCorrectBG,e.mWrongBG];i.shuffleArray(t),me["b"].to(t[0],{x:e.mCorrectBG.x-160,alpha:1,duration:1}),me["b"].to(t[1],{x:e.mWrongBG.x+160,alpha:1,duration:1})}))}},{key:"soundPlayAndHintMotion",value:function(e){var t=this;this.mSpeaker.alpha=0,this.mSoundTimeLine&&this.mSoundTimeLine.kill(),this.mQuizSound.stop(),this.mQuizSound.play();var n=me["b"].timeline();n.to(this.mCorrectBG,{rotation:.05,duration:.2}),n.to(this.mCorrectBG,{rotation:-.05,duration:.2}),n.to(this.mCorrectBG,{rotation:0,duration:.2});var a=me["b"].timeline();a.to(this.mWrongBG,{rotation:.05,duration:.2}),a.to(this.mWrongBG,{rotation:-.05,duration:.2}),a.to(this.mWrongBG,{rotation:0,duration:.2}),this.mSpeaker.alpha=1,this.mSpeaker.state.setAnimation(0,"speaker_in",!1),this.mSpeaker.state.addAnimation(0,"speaker_ing",!1,this.mSpeaker.state.data.skeletonData.findAnimation("speaker_in").duration),this.mSpeaker.state.addAnimation(0,"speaker_out",!1,this.mSpeaker.state.data.skeletonData.findAnimation("speaker_in").duration+this.mSpeaker.state.data.skeletonData.findAnimation("speaker_ing").duration),e&&(this.mSoundTimeLine=me["b"].delayedCall(3+this.mQuizSound.duration,(function(){t.soundPlayAndHintMotion(!0)})))}},{key:"activity",get:function(){return this.parent.activity}}],[{key:"Handle",get:function(){return n._handle}}]),n}(PIXI.Sprite),zo=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this,e),a.mBackground=new Mo("sc_".concat(e.bookID,"_").concat(e.pageNum,"_1.png"),"sc_".concat(e.bookID,"_").concat(e.pageNum,"_6.png")),a.mCard=new Ho("sc_".concat(e.bookID,"_").concat(e.pageNum,"_4.png"),"sc_".concat(e.bookID,"_").concat(e.pageNum,"_5.png"),"sc_".concat(e.bookID,"_").concat(e.pageNum,"_1.mp3")),a.mCorrectText=new PIXI.Sprite(aa.Handle.currentGame.getProductResource("sc_".concat(e.bookID,"_").concat(e.pageNum,"_7.png")).texture),a.mCorrectText.alpha=0,a.mDimmed=new PIXI.Graphics,a.mDimmed.beginFill(0,1),a.mDimmed.drawRect(0,0,1300,740),a.mDimmed.endFill(),a.mDimmed.width=1300,a.mDimmed.height=740,a.mDimmed.pivot.set(a.mDimmed.width/2,a.mDimmed.height/2),a.mDimmed.position.set(a.mDimmed.width/2-10,a.mDimmed.height/2),a.mDimmed.alpha=0,a.addChild(a.mBackground),a.addChild(a.mButtonSprite),a.addChild(a.mExampleText),a.addChild(a.mDimmed),a.addChild(a.mCard),a.addChild(a.mCorrectText),a}return Object(u["a"])(n,[{key:"onText",value:function(){var e=this,t=aa.Handle.currentGame.getProductResource("sc_".concat(this.catchData.bookID,"_").concat(this.catchData.pageNum,".mp3")).sound;t.play(),me["c"].to(this.mExampleText,{alpha:1,duration:t.duration,onComplete:function(){me["c"].to(e.mDimmed,{alpha:.4,duration:.5}),e.mCard.settingCard(),me["c"].to(e.mExampleText,{alpha:0,duration:.5})}})}},{key:"offDimmed",value:function(){me["c"].to(this.mDimmed,{alpha:0,duration:.5})}},{key:"onCorrectText",value:function(){var e=this,t=aa.Handle.currentGame.getProductResource("sc_".concat(this.catchData.bookID,"_").concat(this.catchData.pageNum,".mp3")).sound;t.play(),me["c"].to(this.mExampleText,{alpha:1,duration:t.duration,onComplete:function(){var t=aa.Handle.currentGame.getProductResource("sc_".concat(e.catchData.bookID,"_").concat(e.catchData.pageNum,"_1.mp3")).sound;t.play(),me["c"].to(e.mCorrectText,{alpha:1,duration:t.duration,onComplete:function(){e.activity.onNextPage()}})}})}},{key:"onBackground",value:function(){this.removeChild(this.mButtonSprite),this.mBackground.onCorrectBackground()}}]),n}(Ao),Fo=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this,e),a.mBackground=new Mo("sc_".concat(e.bookID,"_").concat(e.pageNum,"_1.png"),"sc_".concat(e.bookID,"_").concat(e.pageNum,"_6.png")),a.addChild(a.mBackground),a.addChild(a.mButtonSprite),a}return Object(u["a"])(n,[{key:"onText",value:function(){var e=this;this.addChild(this.mExampleText);var t=aa.Handle.currentGame.getProductResource("sc_".concat(this.catchData.bookID,"_").concat(this.catchData.pageNum,".mp3")).sound;t.play(),me["c"].to(this.mExampleText,{alpha:1,duration:t.duration,onComplete:function(){e.activity.onNextPage()}})}}]),n}(Ao),Vo=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mPageCount=7,e.mPageArray=[],e.mPageStepIDX=0,e.mWrongCount=0,e}return Object(u["a"])(n,[{key:"onInit",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(this.catchDataList),na["a"].stopAll(),this.mBGM=aa.Handle.currentGame.getProductResource("".concat(aa.Handle.appData.bookID,"_bgm.mp3")).sound,this.mPageCount=this.catchDataList.length,t=Object(x["a"])(this.catchDataList);try{for(t.s();!(n=t.n()).done;)a=n.value,console.log("".concat(a.pageNum,"번째 게임의 타입은 ").concat(a.pageType,"타입 입니다.")),2==a.pageType?this.mPageArray.push(new Fo(a)):this.mPageArray.push(new zo(a))}catch(i){t.e(i)}finally{t.f()}return this.addChild(this.mPageArray[this.mPageStepIDX]),e.next=9,this.game.endLoadingScreen();case 9:return e.next=11,this.game.startReadyScreen(1,"sb_catch");case 11:this.start();case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onStart",value:function(){this.mBGM.play({loop:!0}),console.log("ACTIVITY 시작 !!"),this.currentPage.startAct(),window.onkeyup=function(e){"+"==e.key&&(aa.Handle.nextGame(),window.onkeyup=null)}}},{key:"onEnd",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"main"==L.excuteMode&&""!=re.token?(console.log("스토리 캐치 끝",this.game.gameName,aa.Handle.appData.bookID,ue.childSetting.lrngChoLvlCd,this.mWrongCount),wt.setActivityEnd({activity:this.game.gameName,endinfo:{bookID:aa.Handle.appData.bookID,lrngChoLvlCd:ue.childSetting.lrngChoLvlCd,wrongCount:this.mWrongCount}})):console.warn("스토리캐치 학습결과를 전송하지 않습니다."),na["a"].stopAll(),me["b"].globalTimeline.clear(),this.mPageCount=this.catchDataList.length,console.warn("틀린 갯수 => [".concat(this.mWrongCount,"]")),e.next=7,this.game.startEOPScreen(0,!0);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onNextPage",value:function(){var e=this;this.mPageStepIDX>this.mPageCount&&console.log("끝");var t=aa.Handle.currentGame.getResource("sc_sfx_5.mp3").sound;t.play(),void 0===this.mPageArray[this.mPageStepIDX+1]?aa.Handle.nextGame():(this.addChild(this.mPageArray[this.mPageStepIDX+1]),this.mPageArray[this.mPageStepIDX+1].x=1280,me["b"].to(this.mPageArray[this.mPageStepIDX+1],{x:0,duration:.5}),me["b"].to(this.mPageArray[this.mPageStepIDX],{x:-1280,duration:.5,onComplete:function(){e.removeChildren(),e.mPageStepIDX+=1,e.addChild(e.mPageArray[e.mPageStepIDX]),e.currentPage.startAct()}})),console.log("".concat(this.mPageStepIDX+1," 번째 콘탠츠 시작"))}},{key:"setWrongCount",value:function(){console.log(this.mWrongCount)}},{key:"wrongCount",get:function(){return this.mWrongCount},set:function(e){this.mWrongCount=e}},{key:"currentPage",get:function(){return this.mPageArray[this.mPageStepIDX]}},{key:"catchDataList",get:function(){return void 0===this.game.catchData?[]:this.game.catchData}}]),n}(Pa),Wo=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.call(this,"catch")}return Object(u["a"])(n,[{key:"onStartGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("STORYBOOK CATCH START"),e.next=3,this.startLoadingScreen();case 3:return e.next=5,T.a.post("".concat(N.Config.restAPIProd,"/storybooks/getViewerResource"),{activity:"catch"});case 5:return t=e.sent,e.next=8,this._loadViewerResource(t.data);case 8:return e.next=10,T.a.post("".concat(N.Config.restAPIProd,"/storybooks/getProductResource"),{activity:"catch",bookID:aa.Handle.appData.bookID});case 10:return n=e.sent,a={image:n.data.image},i={sound:n.data.sound},e.next=15,this._loadProductResource(a);case 15:return e.next=17,this._loadProductResource(i);case 17:return e.next=19,T.a.post("".concat(N.Config.restAPIProd,"/storybooks/getCatchData"),{bookID:aa.Handle.appData.bookID});case 19:o=e.sent,this.mCatchData=o.data.list,this.addScene("activity",new Vo),this.goScene("activity");case 23:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onEndGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.warn("SB catch END",this.playTime),e.next=3,ce.updatePlayTime(this.playTime);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onAppMessage",value:function(e){}},{key:"catchData",get:function(){return this.mCatchData}}]),n}(Oa),Qo=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mBG=new PIXI.Sprite,e.addChild(e.mBG),e.mWrongCount=0,e}return Object(u["a"])(n,[{key:"setBackground",value:function(e){this.mBG.texture=aa.Handle.currentGame.getViewerResource(e).texture}},{key:"onStart",value:function(){}},{key:"endQuiz",value:function(){this.activity.onNextGame()}},{key:"activity",get:function(){return this.parent}},{key:"wrongCount",get:function(){return this.mWrongCount},set:function(e){this.mWrongCount=e}}]),n}(PIXI.Sprite);(function(e){e[e["unknown"]=0]="unknown",e[e["left"]=1]="left",e[e["right"]=2]="right"})(yo||(yo={}));var No,$o=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this),a.mQuizIDX=e,a.mAnswerSide=yo.unknown,a.mNormalTexture=aa.Handle.currentGame.getResource("sq_box1_1.png").texture,a.mCorrectTexture=aa.Handle.currentGame.getResource("sq_box1_2.png").texture,a.mWrongTexture=aa.Handle.currentGame.getResource("sq_box1_3.png").texture,a.mLeft=new PIXI.Sprite(a.mNormalTexture),a.mRight=new PIXI.Sprite(a.mNormalTexture),a.mLeft.anchor.set(.5),a.mRight.anchor.set(.5),3!=e?(a.mLeft.position.set(220,360),a.mRight.position.set(1060,360)):(a.mLeft.position.set(420,410),a.mRight.position.set(860,410)),a.addChild(a.mLeft),a.addChild(a.mRight),a.mLeftCover=new PIXI.Sprite,a.mLeftCover.anchor.set(.5),a.mRightCover=new PIXI.Sprite,a.mRightCover.anchor.set(.5),a.mLeftCover.alpha=0,a.mRightCover.alpha=0,a.mLeft.addChild(a.mLeftCover),a.mRight.addChild(a.mRightCover),a.mLeftExternalSlot=new PIXI.Container,a.mLeftExternalSlot.position.set(0,0),a.mRightExternalSlot=new PIXI.Container,a.mRightExternalSlot.position.set(0,0),a.mLeft.addChild(a.mLeftExternalSlot),a.mRight.addChild(a.mRightExternalSlot),a}return Object(u["a"])(n,[{key:"start",value:function(e){var t=this;this.mAnswerSide=e,this.mLeft.interactive=!0,this.mLeft.buttonMode=!0,this.mRight.interactive=!0,this.mRight.buttonMode=!0,this.mLeft.once("pointerdown",(function(){console.log("select Left"),t.setCorrect(t.mAnswerSide==yo.left),t.mRight.off("pointerdown"),t.onResult(t.mAnswerSide==yo.left)})),this.mRight.once("pointerdown",(function(){console.log("select Right"),t.setCorrect(t.mAnswerSide==yo.left),t.mLeft.off("pointerdown"),t.onResult(t.mAnswerSide==yo.right)}))}},{key:"setCorrect",value:function(e){1==e?(this.mLeftCover.texture=this.mCorrectTexture,this.mRightCover.texture=this.mWrongTexture,this.mRightExternalSlot.alpha=.4,me["b"].to(this.mLeftCover,{alpha:1,duration:.5}).yoyo(!0).repeat(-1),me["b"].to(this.mRightCover,{alpha:1,duration:.5})):(this.mLeftCover.texture=this.mWrongTexture,this.mRightCover.texture=this.mCorrectTexture,this.mLeftExternalSlot.alpha=.4,me["b"].to(this.mLeftCover,{alpha:1,duration:.5}),me["b"].to(this.mRightCover,{alpha:1,duration:.5}).yoyo(!0).repeat(-1))}},{key:"onResult",value:function(e){}},{key:"addToLeftSlot",value:function(e){this.mLeftExternalSlot.addChild(e),e.anchor.set(.5),3==this.mQuizIDX&&e.scale.set(.7)}},{key:"addToRightSlot",value:function(e){this.mRightExternalSlot.addChild(e),e.anchor.set(.5),3==this.mQuizIDX&&e.scale.set(.7)}},{key:"waitingAnimation",value:function(){me["b"].to(this.mLeft.scale,{x:1.1,y:1.1,duration:.5}).yoyo(!0).repeat(1),me["b"].to(this.mRight.scale,{x:1.1,y:1.1,duration:.5}).yoyo(!0).repeat(1)}}]),n}(PIXI.Container),qo=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this),a.mIsPlaying=!1,a.interactive=!0,a.buttonMode=!0,a.mDuration=0,a.anchor.set(.5),a.mNormalTexture=aa.Handle.currentGame.getViewerResource("sound.png").texture,a.mActiveTexture=aa.Handle.currentGame.getViewerResource("sound_down.png").texture,a.texture=a.mNormalTexture,a.mSound=e,a.mDuration=e.duration,a.on("pointerup",(function(){0==a.mIsPlaying&&a.repeatSound(!0,a.mCard)})),a}return Object(u["a"])(n,[{key:"clickLock",value:function(e){this.interactive=!e}},{key:"onClick",value:function(){var e=this;return new Promise((function(t,n){null==e.mSound&&t(),e.mIsPlaying=!0,e.mSound.play(),e.texture=e.mActiveTexture,me["b"].delayedCall(e.mSound.duration,(function(){e.texture=e.mNormalTexture,e.mIsPlaying=!1,t()}))}))}},{key:"repeatSound",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n){var a,i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.mCard=n,void 0!=this.mSound&&this.mSound.pause(),this.mRepeatSound&&this.mRepeatSound.kill(),this.mRepeatSound=void 0,this.clickLock(!1),0!=t&&(t=!0),0==t&&(a=this.mSound,this.mSound=null,this.mCard=null,a.play(),this.texture=this.mActiveTexture,me["b"].delayedCall(a.duration,(function(){o.texture=o.mNormalTexture}))),this.mCard&&this.mCard.waitingAnimation(),e.next=10,this.onClick();case 10:i=5,null!=this.mSound&&(this.mRepeatSound=me["b"].delayedCall(i,(function(){o.repeatSound(!0,o.mCard)})));case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"soundDuration",get:function(){return this.mDuration}}]),n}(PIXI.Sprite),Uo=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mCorrectTexture=aa.Handle.currentGame.getViewerResource("correct.png").texture,e.mWrongTexture=aa.Handle.currentGame.getViewerResource("wrong.png").texture,e.anchor.set(.5),e.texture=e.mCorrectTexture,e.visible=!1,e}return Object(u["a"])(n,[{key:"show",value:function(e,t){var n=this;return new Promise((function(a,i){n.visible=!0,n.alpha=0,e?(aa.Handle.currentGame.getViewerResource("sq_sfx_1.mp3").sound.play(),n.texture=n.mCorrectTexture):(aa.Handle.currentGame.getViewerResource("sq_sfx_2.mp3").sound.play(),n.texture=n.mWrongTexture),me["c"].to(n,{alpha:1,duration:.5}).eventCallback("onComplete",(function(){me["c"].to(n,{alpha:0,duration:.5,delay:1}),me["c"].delayedCall(2+t,(function(){a()}))}))}))}}]),n}(PIXI.Sprite),Yo=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this),a.mIsCorrect=!1,a.mCorrectTexture=aa.Handle.currentGame.getViewerResource("sq_box1_2.png").texture,a.mWrongTexture=aa.Handle.currentGame.getViewerResource("sq_box1_3.png").texture,void 0==e&&(a.mBG=new PIXI.Sprite(aa.Handle.currentGame.getViewerResource("sq_box3.png").texture)),4==e&&(a.mBG=new PIXI.Sprite(aa.Handle.currentGame.getViewerResource("sq_box1_1.png").texture)),5==e&&(a.mBG=new PIXI.Sprite(aa.Handle.currentGame.getViewerResource("sq_box2_1.png").texture),a.mCorrectTexture=aa.Handle.currentGame.getViewerResource("sq_box2_2.png").texture,a.mWrongTexture=aa.Handle.currentGame.getViewerResource("sq_box2_3.png").texture),a.mBG.pivot.set(a.mBG.width/2,a.mBG.height/2),a.addChild(a.mBG),a.mCover=new PIXI.Sprite(a.mCorrectTexture),a.mCover.pivot.set(a.mCover.width/2,a.mCover.height/2),a.addChild(a.mCover),a.mCover.visible=!1,a.visible=!1,a.interactive=!1,a.on("pointerdown",(function(e){a.onClick(),e.stopPropagation()})),a.mExternalSlot=new PIXI.Container,a.addChild(a.mExternalSlot),a}return Object(u["a"])(n,[{key:"onClick",value:function(){}},{key:"addToSlot",value:function(e){this.mExternalSlot.addChild(e)}},{key:"show",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(n,a){e.visible=!0,e.scale.set(.2),e.alpha=0,me["b"].to(e,{alpha:1,duration:.2}),me["b"].to(e.scale,{x:1,y:1,duration:t,ease:"bounce.out"}).eventCallback("onComplete",(function(){n()}))}))}},{key:"showCover",value:function(){this.mCover.visible=!0,this.mCover.alpha=0,this.mIsCorrect?(this.mCover.texture=this.mCorrectTexture,me["b"].to(this.mCover,{alpha:1,duration:.5}).yoyo(!0).repeat(-1)):(this.mCover.texture=this.mWrongTexture,me["b"].to(this.mCover,{alpha:1,duration:.5}),me["b"].to(this.mExternalSlot,{alpha:.5,duration:.5}))}},{key:"waitingAnimation",value:function(){me["b"].to(this.scale,{x:.9,y:.9,duration:.5}).yoyo(!0).repeat(1)}},{key:"isCorrect",get:function(){return this.mIsCorrect},set:function(e){this.mIsCorrect=e}}]),n}(PIXI.Container),Ko=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;Object(l["a"])(this,n),a=t.call(this);var i=aa.Handle.appData.bookID;a.setBackground("sq_bg1.png"),a.mChoice=new $o(e),a.mChoice.onResult=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.mSoundButton.repeatSound(!1,a.mCardBG),console.log("onResult ",t),0==t&&(a.wrongCount+=1),a.mSoundButton.clickLock(!0),e.next=6,a.mResultMark.show(t,a.mSoundButton.soundDuration);case 6:a.endQuiz();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.addChild(a.mChoice),a.mCardBG=new Yo,a.mCardBG.interactive=!0,a.mCardBG.position.set(644,360),a.addChild(a.mCardBG);var o=new PIXI.Sprite(aa.Handle.currentGame.getProductResource("sq_".concat(i,"_").concat(e,".png")).texture);o.anchor.set(.5),a.mCardBG.addToSlot(o),Math.random()>.5?a.mCorrectSide=yo.left:a.mCorrectSide=yo.right,3!=e&&(a.mChoice.addToLeftSlot(new PIXI.Sprite(aa.Handle.currentGame.getResource("o.png").texture)),a.mChoice.addToRightSlot(new PIXI.Sprite(aa.Handle.currentGame.getResource("x.png").texture)));var r="sq_".concat(i,"_").concat(e,"_1.mp3");return a.mCorrectSide==yo.right&&(r="sq_".concat(i,"_").concat(e,"_2.mp3")),a.mSoundButton=new qo(aa.Handle.currentGame.getProductResource(r).sound),a.mSoundButton.position.set(640,100),a.mSoundButton.clickLock(!0),a.addChild(a.mSoundButton),a.mResultMark=new Uo,a.mResultMark.position.set(640,360),a.addChild(a.mResultMark),a}return Object(u["a"])(n,[{key:"onStart",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.mSoundButton.repeatSound(!0,this.mCardBG),e.next=3,this.mCardBG.show();case 3:this.mChoice.start(this.mCorrectSide);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(Qo),Jo=new PIXI.TextStyle({fontFamily:"minigate",fontSize:50,fontWeight:"bold",fill:"#000000"}),Zo=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mBG=new PIXI.NineSlicePlane(aa.Handle.currentGame.getViewerResource("sq_text_box.png").texture,50,50,50,50),e.mBG.height=90,e.addChild(e.mBG),e.mText=new PIXI.Text("",Jo),e.mText.anchor.set(.5),e.mText.position.y=40,e.mBG.addChild(e.mText),e}return Object(u["a"])(n,[{key:"resetPos",value:function(){this.mBG.width=this.mText.width+150,this.mBG.pivot.set(this.mBG.width/2,this.mBG.height/2),this.mText.x=this.mBG.width/2}},{key:"text",get:function(){return this.mText.text},set:function(e){this.mText.text=e,this.resetPos()}}]),n}(PIXI.Container),er=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var i;Object(l["a"])(this,n),i=t.call(this);var o=aa.Handle.appData.bookID;i.setBackground("sq_bg2.png"),i.mChoice=new $o(3),i.mChoice.onResult=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i.mSoundButton.repeatSound(!1),console.log("onResult ",t),0==t&&(i.wrongCount+=1),i.mSoundButton.clickLock(!0),e.next=6,i.mResultMark.show(t,i.mSoundButton.soundDuration);case 6:i.endQuiz();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.addChild(i.mChoice);var r=new PIXI.Sprite(aa.Handle.currentGame.getProductResource("sq_".concat(o,"_3.png")).texture);r.anchor.set(.5,1);var s=new PIXI.Sprite(aa.Handle.currentGame.getProductResource("sq_".concat(o,"_4.png")).texture);s.anchor.set(.5,1);var u=[r,s];return Ta(u),i.mChoice.addToLeftSlot(u[0]),i.mChoice.addToRightSlot(u[1]),u[0]==r?i.mCorrectSide=yo.left:i.mCorrectSide=yo.right,i.mWordBox=new Zo,i.mWordBox.text=a,i.mWordBox.position.set(640,70),i.mWordBox.interactive=!0,i.mWordBox.on("pointerdown",(function(e){e.stopPropagation()})).on("pointerup",(function(e){e.stopPropagation()})),i.addChild(i.mWordBox),i.mSoundButton=new qo(aa.Handle.currentGame.getProductResource("sq_".concat(o,"_").concat(e,".mp3")).sound),i.mSoundButton.position.set(-i.mWordBox.width/2-100,0),i.mWordBox.addChild(i.mSoundButton),i.mResultMark=new Uo,i.mResultMark.position.set(640,360),i.addChild(i.mResultMark),i}return Object(u["a"])(n,[{key:"onStart",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.mSoundButton.repeatSound(!0,this.mChoice),this.mChoice.start(this.mCorrectSide);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(Qo),tr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mCards=[],e.mClickLock=!1,e}return Object(u["a"])(n,[{key:"addCard",value:function(e){var t=this;this.mCards.length;e.buttonMode=!0,e.onClick=function(){if(0==t.mClickLock){t.onResult(e.isCorrect),t.mClickLock=!0;var n,a=Object(x["a"])(t.mCards);try{for(a.s();!(n=a.n()).done;){var i=n.value;i.showCover()}}catch(o){a.e(o)}finally{a.f()}}},this.addChild(e),this.mCards.push(e),Ta(this.mCards);var n,a=0,i=Object(x["a"])(this.mCards);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.x=a,a+=o.width+20}}catch(r){i.e(r)}finally{i.f()}1==this.mCards.length&&(this.pivot.x=0),2==this.mCards.length&&(this.pivot.x=this.mCards[0].width/2),3==this.mCards.length&&(this.pivot.x=this.mCards[0].width,this.x=this.x-20)}},{key:"start",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Object(x["a"])(this.mCards);try{for(t.s();!(n=t.n()).done;)a=n.value,a.show(1)}catch(s){t.e(s)}finally{t.f()}i=Object(x["a"])(this.mCards);try{for(i.s();!(o=i.n()).done;)r=o.value,r.interactive=!0}catch(s){i.e(s)}finally{i.f()}case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onSelect",value:function(e){console.log("onSelect ",e)}},{key:"onResult",value:function(e){}},{key:"waitingAnimation",value:function(){for(var e=0;e<this.mCards.length;e++)me["b"].to(this.mCards[e].scale,{x:.9,y:.9,duration:.5}).yoyo(!0).repeat(1)}}]),n}(PIXI.Container),nr=new PIXI.TextStyle({fontFamily:"minigate",fontSize:50,fontWeight:"bold",fill:"#000000"}),ar=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mBG=new PIXI.NineSlicePlane(aa.Handle.currentGame.getViewerResource("sq_text_box.png").texture,50,50,50,50),e.mBG.height=90,e.addChild(e.mBG),e.mText=new PIXI.Text("",nr),e.mText.anchor.set(.5),e.mText.position.y=40,e.mBG.addChild(e.mText),e}return Object(u["a"])(n,[{key:"resetPos",value:function(){this.mBG.width=this.mText.width+150,this.mBG.pivot.set(this.mBG.width/2,this.mBG.height/2),this.mText.x=this.mBG.width/2}},{key:"text",get:function(){return this.mText.text},set:function(e){this.mText.text=e,this.resetPos()}}]),n}(PIXI.Container),ir=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var i;Object(l["a"])(this,n),i=t.call(this);var o=aa.Handle.appData.bookID;if(i.setBackground("sq_bg3.png"),i.mChoiceCards=new tr,i.mChoiceCards.position.set(640,410),i.mChoiceCards.onResult=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i.mSoundButton.clickLock(!0),i.mSoundButton.repeatSound(!1),console.log("onResult ",t),0==t&&(i.wrongCount+=1),e.next=6,i.mResultMark.show(t,i.mSoundButton.soundDuration);case 6:i.endQuiz();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.addChild(i.mChoiceCards),1==aa.Handle.appData.level){var r=new Yo(e);r.isCorrect=!0;var s=new PIXI.Sprite(aa.Handle.currentGame.getProductResource("sq_".concat(o,"_5.png")).texture);s.anchor.set(.5),r.addToSlot(s),i.mChoiceCards.addCard(r);var u=new Yo(e),m=new PIXI.Sprite(aa.Handle.currentGame.getProductResource("sq_".concat(o,"_6.png")).texture);m.anchor.set(.5),u.addToSlot(m),i.mChoiceCards.addCard(u)}else{var h=new Yo(e);h.isCorrect=!0;var d=new PIXI.Sprite(aa.Handle.currentGame.getProductResource("sq_".concat(o,"_5.png")).texture);d.anchor.set(.5),h.addToSlot(d),i.mChoiceCards.addCard(h);var p=new Yo(e),f=new PIXI.Sprite(aa.Handle.currentGame.getProductResource("sq_".concat(o,"_6.png")).texture);f.anchor.set(.5),p.addToSlot(f),i.mChoiceCards.addCard(p);var g=new Yo(e),v=new PIXI.Sprite(aa.Handle.currentGame.getProductResource("sq_".concat(o,"_7.png")).texture);v.anchor.set(.5),g.addToSlot(v),i.mChoiceCards.addCard(g)}return i.mWordBox=new ar,i.mWordBox.text=a,i.mWordBox.position.set(640,80),i.addChild(i.mWordBox),i.mSoundButton=new qo(aa.Handle.currentGame.getProductResource("sq_".concat(o,"_").concat(e,".mp3")).sound),i.mSoundButton.position.set(-i.mWordBox.width/2-100,0),i.mWordBox.addChild(i.mSoundButton),i.mResultMark=new Uo,i.mResultMark.position.set(640,360),i.addChild(i.mResultMark),i}return Object(u["a"])(n,[{key:"onStart",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.mSoundButton.repeatSound(!0,this.mChoiceCards),e.next=3,this.mChoiceCards.start();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(Qo),or=new PIXI.TextStyle({fontFamily:"minigate",fontSize:50,fontWeight:"bold",fill:"#000000"}),rr=new PIXI.TextStyle({fontFamily:"minigate",fontSize:80,fontWeight:"bolder",fill:"#000000"}),sr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var i;Object(l["a"])(this,n),i=t.call(this),i.mAnswerText=e;for(var o=a.split("&")[0],r="",s="",c=0;c<a.length;c++)"&"==a[c]?(s+="W",r+="W"):r+=a[c];var u=new PIXI.Text(o,or),m=new PIXI.Text(s,or);return i.mBG=new PIXI.NineSlicePlane(aa.Handle.currentGame.getViewerResource("sq_text_box.png").texture,50,50,50,50),i.mBG.height=90,i.addChild(i.mBG),i.mTextContainer=new PIXI.Container,i.addChild(i.mTextContainer),i.mText=new PIXI.Text(r,or),i.mText.y=-5,i.mTextContainer.addChild(i.mText),i.mBG.width=i.mText.width+150,i.mBG.pivot.set(i.mBG.width/2,i.mBG.height/2),i.mMask=new PIXI.NineSlicePlane(aa.Handle.currentGame.getViewerResource("sq_box7.png").texture,10,10,10,10),i.mMask.width=m.width+1,i.mMask.height=m.height+4,i.mMask.x=0==o.length?0:u.width,i.mMask.y=-2,i.mTextContainer.addChild(i.mMask),i.mTextContainer.pivot.set(i.mText.width/2,i.mText.height/2),i}return Object(u["a"])(n,[{key:"showResult",value:function(){var e=this;return new Promise((function(t,n){e.mText.text=e.mAnswerText,e.mMask.alpha=0,t()}))}}]),n}(PIXI.Container),cr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a,i,o){var r;Object(l["a"])(this,n),r=t.call(this);var s=aa.Handle.appData.bookID;if(r.setBackground("sq_bg3.png"),r.mChoiceCards=new tr,r.mChoiceCards.position.set(640,410),r.mChoiceCards.onResult=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.mSoundButton.repeatSound(!1),console.log("onResult ",t),0==t&&(r.wrongCount+=1),r.mSoundButton.clickLock(!0),e.next=6,r.mWordBox.showResult();case 6:return e.next=8,r.mResultMark.show(t,r.mSoundButton.soundDuration);case 8:r.endQuiz();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.addChild(r.mChoiceCards),3!=aa.Handle.appData.level){var u=new Yo(e);u.isCorrect=!0;var m=new PIXI.Text(o[0],or);m.anchor.set(.5),u.addToSlot(m),r.mChoiceCards.addCard(u);var h=new Yo(e),d=o[1];o.length>2&&Math.random()>.5&&(d=o[2]);var p=new PIXI.Text(d,or);p.anchor.set(.5),h.addToSlot(p),r.mChoiceCards.addCard(h),1==aa.Handle.appData.level&&(m.style=rr,p.style=rr)}else{var f=new Yo(e);f.isCorrect=!0;var g=new PIXI.Text(o[0],or);g.anchor.set(.5),f.addToSlot(g),r.mChoiceCards.addCard(f);var v=new Yo(e),b=new PIXI.Text(o[1],or);b.anchor.set(.5),v.addToSlot(b),r.mChoiceCards.addCard(v);var y=new Yo(e),C=new PIXI.Text(o[2],or);C.anchor.set(.5),y.addToSlot(C),r.mChoiceCards.addCard(y)}return r.mWordBox=new sr(a,i),r.mWordBox.position.set(640,80),r.addChild(r.mWordBox),r.mSoundButton=new qo(aa.Handle.currentGame.getProductResource("sq_".concat(s,"_").concat(e,".mp3")).sound),r.mSoundButton.position.set(-r.mWordBox.width/2-50,0),r.mWordBox.addChild(r.mSoundButton),r.mResultMark=new Uo,r.mResultMark.position.set(640,360),r.addChild(r.mResultMark),r}return Object(u["a"])(n,[{key:"onStart",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.mSoundButton.repeatSound(!0,this.mChoiceCards);case 2:return e.next=4,this.mChoiceCards.start();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(Qo),lr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mCurrentGameIDX=0,e.mWrongCount=0,e.mQuizPlayer=[],e}return Object(u["a"])(n,[{key:"onInit",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return na["a"].stopAll(),t=this.quizData.quiz5Lv2,n=this.quizData.quiz5ExampleLv2,1==aa.Handle.appData.level&&(t=this.quizData.quiz5Lv1,n=this.quizData.quiz5ExampleLv1),this.mQuizPlayer=[new Ko(1),new Ko(2),new er(3,this.quizData.quiz3),new ir(4,this.quizData.quiz4),new cr(5,this.quizData.quiz5Answer,t,n)],this.addChild(this.mQuizPlayer[this.mCurrentGameIDX]),e.next=8,this.game.endLoadingScreen();case 8:return e.next=10,this.game.startReadyScreen(-1,"sb_quiz");case 10:this.start();case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onStart",value:function(){console.log("총 ".concat(this.mQuizPlayer.length,"개의 게임중 현재 ").concat(this.mCurrentGameIDX+1,"번째 게임을 진행중입니다.")),this.currentQuiz.onStart(),window.onkeyup=function(e){"+"==e.key&&(aa.Handle.nextGame(),window.onkeyup=null)}}},{key:"onEnd",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("main"==L.excuteMode&&""!=re.token){for(t=[!1,!1,!1,!1,!1],n=0;n<this.mCurrentGameIDX;n++)this.mQuizPlayer[n].wrongCount>0&&(t[n]=!0),console.log("".concat(n,"번째 오답수 => [ ").concat(this.mQuizPlayer[n].wrongCount,"]")),this.mWrongCount+=this.mQuizPlayer[n].wrongCount;console.warn("틀린갯수 =>[".concat(this.mWrongCount,"]")),console.log("스토리 퀴즈 끝",this.game.gameName,aa.Handle.appData.bookID,ue.childSetting.lrngChoLvlCd,t),wt.setActivityEnd({activity:this.game.gameName,endinfo:{bookID:aa.Handle.appData.bookID,lrngChoLvlCd:ue.childSetting.lrngChoLvlCd,quizResult:t}})}else console.warn("스토리퀴즈 학습결과를 전송하지 않습니다.");return na["a"].stopAll(),me["b"].globalTimeline.clear(),e.next=5,this.game.startEOPScreen(1,!0);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onNextGame",value:function(){this.mCurrentGameIDX+=1,void 0!=this.mQuizPlayer[this.mCurrentGameIDX]?(console.log("총 ".concat(this.mQuizPlayer.length,"개의 게임중 현재 ").concat(this.mCurrentGameIDX+1,"번째 게임을 진행중입니다.")),this.removeChildren(),this.addChild(this.mQuizPlayer[this.mCurrentGameIDX]),this.mQuizPlayer[this.mCurrentGameIDX].onStart()):aa.Handle.nextGame()}},{key:"currentQuiz",get:function(){return this.mQuizPlayer[this.mCurrentGameIDX]}},{key:"quizData",get:function(){return this.game.quizData}}]),n}(Pa),ur=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.call(this,"quiz")}return Object(u["a"])(n,[{key:"onStartGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("STORYBOOK QUIZ START"),e.next=3,this.startLoadingScreen();case 3:return e.next=5,T.a.post("".concat(N.Config.restAPIProd,"/storybooks/getViewerResource"),{activity:"quiz"});case 5:return t=e.sent,e.next=8,this._loadViewerResource(t.data);case 8:return e.next=10,T.a.post("".concat(N.Config.restAPIProd,"/storybooks/getProductResource"),{activity:"quiz",bookID:aa.Handle.appData.bookID});case 10:return n=e.sent,e.next=13,this._loadProductResource(n.data);case 13:return e.next=15,T.a.post("".concat(N.Config.restAPIProd,"/storybooks/getQuizData"),{bookID:aa.Handle.appData.bookID});case 15:a=e.sent,this.mQuizData=a.data.list[0],this.addScene("activity",new lr),this.goScene("activity");case 19:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onEndGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.warn("SB quiz END",this.playTime),e.next=3,ce.updatePlayTime(this.playTime);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"quizData",get:function(){return this.mQuizData}}]),n}(Oa),mr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mBG=PIXI.Sprite.from(aa.Handle.currentGame.getProductResource("lt_".concat(aa.Handle.appData.bookID,"_bg.png")).texture),e}return Object(u["a"])(n,[{key:"onInit",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.addChild(this.mBG),e.next=3,this.game.endLoadingScreen();case 3:this.start();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onStart",value:function(){console.log("touch Intro 시작 !!"),this.game.goScene("activity")}},{key:"correct",value:function(){}},{key:"onEnd",value:function(){}}]),n}(Pa),hr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var i;return Object(l["a"])(this,n),i=t.call(this),i.mBlink=!0,n._handle=Object(ea["a"])(i),i.mId=e,i.mTextureOpened=aa.Handle.currentGame.getProductResource(a).texture,i.alpha=0,i.texture=i.mTextureOpened,i.anchor.set(.5),i}return Object(u["a"])(n,[{key:"finish",value:function(){this.mFocusAni&&this.mFocusAni.kill(),this.alpha=1}},{key:"hint",value:function(){var e=this;this.mFocusAni&&this.mFocusAni.pause(),null==this.mHintAni&&(console.log("HINT"),this.mHintAni=me["b"].timeline({defaults:{alpha:.2}}),this.mHintAni.to(this,{alpha:1,duration:.25}),this.mHintAni.to(this,{alpha:.2,duration:.25}),this.mHintAni.to(this,{alpha:1,duration:.25}),this.mHintAni.to(this,{alpha:.2,duration:.25}).eventCallback("onComplete",(function(){e.mHintAni=null,e.mFocusAni&&e.mFocusAni.play()})))}},{key:"focus",value:function(e){e?null==this.mFocusAni&&(console.log("FOCUS"),this.mFocusAni=me["b"].timeline({defaults:{alpha:.2}}),this.alpha=.2,this.mFocusAni.to(this,{alpha:1,duration:.25}),this.mFocusAni.to(this,{alpha:.2,duration:.25}),this.mFocusAni.to(this,{alpha:1,duration:.25}),this.mFocusAni.to(this,{alpha:.2,duration:.25}),this.mFocusAni.repeatDelay(3),this.mFocusAni.repeat(-1)):(this.mFocusAni&&this.mFocusAni.kill(),this.mFocusAni=null)}},{key:"effect",value:function(e,t){var n=this;gr.Handle.clickOff(),me["b"].from(this.scale,{x:2,y:2,duration:.5}),me["b"].from(this,{alpha:0,duration:.5}),console.log("%c 정답&스티커 붙는 사운드 ExamStick 136","font-weight:800; color:blue; padding-right:1rem; letter-spacing:-0.1rem");var a=aa.Handle.currentGame.getResource("match_effect.json").spineData,i=new PIXI.spine.Spine(a);i.state.setAnimation(0,"animation",!1),me["b"].delayedCall(.8,(function(){i.position.set(e,t),n.parent.addChild(i)}))}},{key:"currentID",get:function(){return this.mId}}],[{key:"Handle",get:function(){return n._handle}}]),n}(PIXI.Sprite),dr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this),n._handle=Object(ea["a"])(a),a.mData=e,a.mId=0,a.mAnswerArray=[],a.mBlinkFlag=!1,a.mAnswerStage=new PIXI.Container,a.setAnswer(),a.addChild(a.mAnswerStage),a}return Object(u["a"])(n,[{key:"setAnswer",value:function(){for(var e=aa.Handle.appData.level,t=e+2,n=0;n<5;n++){var a=new hr(n+1,"lt_".concat(aa.Handle.appData.bookID,"_").concat(n+1,"_1.png"));n>=t&&e<4&&(a.visible=!0,a.finish()),1==e&&this.mData[n].hideFlag&&(a.visible=!1),2==e&&4==n&&this.mData[n].hideFlag&&(a.visible=!1),a.hitArea=new PIXI.Rectangle(this.mData[n].x-a.width/2,this.mData[n].y-a.height/2,2*a.width,2*a.height),a.position.set(this.mData[n].x+a.width/2,this.mData[n].y+a.height/2),this.mAnswerArray.push(a),this.mAnswerStage.addChild(this.mAnswerArray[n])}}},{key:"getBox",value:function(e){return this.mAnswerArray[e]}},{key:"setClose",value:function(e){console.warn("".concat(e,"번째 진행중")),this.mId=e,this.mAnswerArray[e-1].finish(),this.mAnswerArray[e-1].effect(this.mAnswerArray[e-1].x,this.mAnswerArray[e-1].y)}},{key:"viewPassLine",value:function(e,t){var n=new PIXI.Graphics;n.lineStyle(2,65280,1),n.drawRect(this.mData[e].y-t.height/2,this.mData[e].x-t.width/2,2*t.width,2*t.height),n.endFill(),this.addChild(n)}},{key:"quizStep",get:function(){return this.mId}},{key:"currentAnswer",get:function(){return this.mAnswerArray[this.mId]}}],[{key:"Handle",get:function(){return n._handle}}]),n}(PIXI.Container),pr=880,fr=1.2,gr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;Object(l["a"])(this,n),e=t.call(this),n._handle=Object(ea["a"])(e),e.mWrongCount=0,e.mExamArray=[],e.mCorrect=new PIXI.Sprite;var a=new PIXI.Sprite(aa.Handle.currentGame.getResource("ex_bg_line.png").texture);return a.position.set(1280-a.width,0),e.addChild(a),e.mExamStage=new PIXI.Container,e.mExamStage.x=pr,e.addChild(e.mExamStage),kr.Handle.currentStep>-1&&e.setExams(),e.mDimmed=new PIXI.Sprite(aa.Handle.currentGame.getResource("ex_bg_1.png").texture),e.mDimmed.position.set(1280-e.mDimmed.width,0),e.addChild(e.mDimmed),e.mDimmed.alpha=0,e}return Object(u["a"])(n,[{key:"setExams",value:function(){this.mExamArray=[];for(var e=[],t=0;t<8;t++){var n=new vr(t+1,"lt_".concat(aa.Handle.appData.bookID,"_").concat(t+1,".png"),"lt_".concat(aa.Handle.appData.bookID,"_").concat(t+1,"_2.png"));n.scale.set(fr),e.push(n)}var a=200,o=360,r=[o-220,o,o+220];this.mCorrect=e[kr.Handle.currentStep];var s=[0,1,2,3,4,5,6,7];s.splice(kr.Handle.currentStep,1),i.shuffleArray(s),this.mExamArray=[this.mCorrect,e[s[0]],e[s[1]]];var c=this.mExamArray.slice(0);i.shuffleArray(c);for(var l=0;l<this.mExamArray.length;l++)c[l].x=a,c[l].y=r[l],this.mExamStage.addChild(c[l])}},{key:"nextStep",value:function(){this.mExamStage.removeChildren(),this.setExams()}},{key:"CountWrong",value:function(){this.mWrongCount+=1}},{key:"clickOff",value:function(){this.mDimmed.alpha=1;for(var e=0;e<this.mExamArray.length;e++)this.mExamArray[e].clickOff()}},{key:"clickOn",value:function(){this.mDimmed.alpha=0;for(var e=0;e<this.mExamArray.length;e++)this.mExamArray[e].clickOn()}},{key:"wrongCount",get:function(){return this.mWrongCount}}],[{key:"Handle",get:function(){return n._handle}}]),n}(PIXI.Container),vr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a,i){var o;return Object(l["a"])(this,n),o=t.call(this),o.mId=e,o.mTextureOpened=aa.Handle.currentGame.getProductResource(a).texture,i&&(o.mTextureClosed=aa.Handle.currentGame.getProductResource(i).texture),o.mExamSticker=new PIXI.Sprite,o.mExamSticker.texture=o.mTextureOpened,o.mExamSticker.anchor.set(.5),me["b"].to(o.mExamSticker,{rotation:.05,duration:1}).repeat(-1).yoyo(!0),o.mCloseSticker=new PIXI.Sprite,o.mCloseSticker.texture=o.mTextureClosed,o.mCloseSticker.anchor.set(.5),o.addChild(o.mCloseSticker),o.addChild(o.mExamSticker),o.clickOff(),o.mExamSticker.on("pointerdown",(function(e){var t=o.parent.toLocal(new PIXI.Point(e.data.global.x,e.data.global.y));o.dragStart(),o.parent.addChild(o.mExamSticker),me["b"].to(o.mExamSticker.scale,{x:1.6,y:1.6,duration:.5}),o.mExamSticker.position.set(t.x,t.y)})).on("pointermove",(function(e){if(o.mDragFlag){var t=o.parent.toLocal(new PIXI.Point(e.data.global.x,e.data.global.y));o.mExamSticker.position.set(t.x,t.y)}})).on("pointertap",(function(e){var t=o.parent.parent.toLocal(new PIXI.Point(e.data.global.x,e.data.global.y));o.dragEnd(t),me["b"].to(o.mExamSticker.scale,{x:1.3,y:1.3,duration:.5})})).on("pointerupoutside",(function(e){var t=o.parent.parent.toLocal(new PIXI.Point(e.data.global.x,e.data.global.y));o.dragEnd(t),me["b"].to(o.mExamSticker.scale,{x:1.3,y:1.3,duration:.5})})),o}return Object(u["a"])(n,[{key:"dragStart",value:function(){this.mDragFlag=!0}},{key:"dragEnd",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.mDragFlag=!1,dr.Handle.getBox(kr.Handle.currentStep),!(t.x<900)){e.next=7;break}return e.next=5,this.stickerCheck();case 5:e.next=13;break;case 7:return console.log("x값=>[".concat(t.x,"] // 그림박스 밖에 놔서 오답")),this.wrongSound(),me["b"].to(this.mExamSticker,{x:this.x,y:this.y,duration:.5}),e.next=12,Cr.Handle.onSpeak();case 12:gr.Handle.CountWrong();case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"fadeOut",value:function(){this.mExamSticker.alpha=0,this.removeChild(this.mExamSticker)}},{key:"stickerCheck",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.warn("클릭한 스티커의 인덱스 :".concat(this.mId)),t=this.mId==kr.Handle.currentStep+1,!t){e.next=12;break}return this.fadeOut(),dr.Handle.setClose(this.mId),e.next=7,this.correctSound();case 7:return e.next=9,this.WordSound(this.mId);case 9:kr.Handle.onNextQuiz(),e.next=16;break;case 12:this.wrongSound(),me["b"].to(this.mExamSticker,{x:this.x,y:this.y,duration:.5}),Cr.Handle.onSpeak(),gr.Handle.CountWrong();case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"WordSound",value:function(e){return new Promise((function(t,n){var a=aa.Handle.currentGame.getProductResource("lt_".concat(aa.Handle.appData.bookID,"_").concat(e,"_1.mp3")).sound;a.play(),me["b"].delayedCall(a.duration,(function(){t()}))}))}},{key:"correctSound",value:function(){return new Promise((function(e,t){var n=aa.Handle.currentGame.getResource("lt_sfx_3.mp3").sound,a=aa.Handle.currentGame.getResource("lt_sfx_1.mp3").sound;n.play(),me["b"].delayedCall(n.duration,(function(){a.play()})),me["b"].delayedCall(n.duration+a.duration,(function(){e()}))}))}},{key:"wrongSound",value:function(){return new Promise((function(e,t){var n=aa.Handle.currentGame.getResource("lt_sfx_2.mp3").sound;n.play(),me["b"].delayedCall(n.duration,(function(){e()}))}))}},{key:"clickOff",value:function(){this.mExamSticker.interactive=!1,this.mExamSticker.buttonMode=!1,this.mDragFlag=!1}},{key:"clickOn",value:function(){this.mExamSticker.interactive=!0,this.mExamSticker.buttonMode=!0,this.alpha=1}},{key:"isOpened",get:function(){return this.mExamSticker.texture==this.mTextureOpened}},{key:"stickerIDX",get:function(){return this.mId}}]),n}(PIXI.Container),br={fontFamily:"minigate",fontSize:30,fill:"#000000"},yr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this,aa.Handle.currentGame.getResource("speakbox_bg.png").texture),a.anchor.set(.5),a.mText=new PIXI.Text(e,br),a.mText.anchor.set(.5),a.addChild(a.mText),a.visible=aa.Handle.appData.level<3,a}return Object(u["a"])(n,[{key:"show",get:function(){return this.visible},set:function(e){var t=this;e?this.visible||(this.visible=!0,me["b"].to(this,{alpha:1,duration:.2})):this.visible&&me["b"].to(this,{alpha:0,duration:.2}).eventCallback("onComplete",(function(){t.visible=!1}))}},{key:"text",get:function(){return this.mText.text},set:function(e){this.mText.text=e}}]),n}(PIXI.Sprite),Cr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this),n._handle=Object(ea["a"])(a),a.mData=e,a.mLabel=new yr(""),a.mLabel.show=!1,a.mLabel.position.set(440,a.mLabel.height/2+10),a.addChild(a.mLabel),a.mSpeakerButton=new PIXI.Sprite(aa.Handle.currentGame.getResource("sound.png").texture),a.mSpeakerButton.anchor.set(.5),a.mSpeakerButton.position.set(a.mLabel.x-a.mLabel.width/2-a.mSpeakerButton.width/2,a.mSpeakerButton.height/2+10),a.mSpeakerButton.on("pointertap",Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.onSpeak();case 1:case"end":return e.stop()}}),e)})))),a.addChild(a.mSpeakerButton),a}return Object(u["a"])(n,[{key:"initQuiz",value:function(e){this.mCurrentQuizIDX=e,this.mLabel.text=this.mData[this.mCurrentQuizIDX].text,this.onSpeak()}},{key:"onSpeak",value:function(){var e=this;gr.Handle.clickOff();var t=aa.Handle.appData.level+2,n=this.mCurrentQuizIDX;return new Promise((function(a,i){n<t&&(e.mLabel.text=e.mData[n].text),e.mLabel.show=aa.Handle.appData.level<3;var o=aa.Handle.currentGame.getProductResource("lt_".concat(aa.Handle.appData.bookID,"_").concat(n+1,".mp3")).sound;o.play(),e.onSoundPlayLock(!0),e.mSpeakerButton.texture=aa.Handle.currentGame.getResource("sound_down.png").texture,e.mSpeakerButton.interactive=!1,e.mSpeakerButton.buttonMode=!1,me["b"].delayedCall(o.duration,(function(){gr.Handle.clickOn()})),me["b"].delayedCall(o.duration+.5,(function(){e.mLabel.show=!1,e.mSpeakerButton.texture=aa.Handle.currentGame.getResource("sound.png").texture,e.mSpeakerButton.interactive=!0,e.mSpeakerButton.buttonMode=!0,e.onSoundPlayLock(!1),a()}))}))}},{key:"onSoundPlayLock",value:function(e){}}],[{key:"Handle",get:function(){return n._handle}}]),n}(PIXI.Container),kr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mCurrentStep=-1,n._handle=Object(ea["a"])(e),e}return Object(u["a"])(n,[{key:"onInit",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return na["a"].stopAll(),this.mBG=PIXI.Sprite.from(aa.Handle.currentGame.getProductResource("lt_".concat(aa.Handle.appData.bookID,"_bg.png")).texture),this.addChild(this.mBG),this.mAnswerBox=new dr(this.touchData),this.addChild(this.mAnswerBox),this.mExamStickerBox=new gr,this.addChild(this.mExamStickerBox),this.mSpeakBox=new Cr(this.touchData),this.mSpeakBox.onSoundPlayLock=function(e){e&&t.mAnswerBox.currentAnswer.hint()},this.addChild(this.mSpeakBox),this.interactive=!0,e.next=13,this.game.endLoadingScreen();case 13:return e.next=15,this.game.startReadyScreen(2,"sb_touch");case 15:this.start();case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onEnd",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"main"==L.excuteMode&&""!=re.token?(console.log("스토리 터치 끝",this.game.gameName,aa.Handle.appData.bookID,ue.childSetting.lrngChoLvlCd,this.mExamStickerBox.wrongCount),wt.setActivityEnd({activity:this.game.gameName,endinfo:{bookID:aa.Handle.appData.bookID,lrngChoLvlCd:ue.childSetting.lrngChoLvlCd,wrongCount:this.mExamStickerBox.wrongCount}}),console.warn("틀린갯수 =>[".concat(this.mExamStickerBox.wrongCount,"]"))):console.warn("스토리 터치 학습결과를 전송하지 않습니다."),na["a"].stopAll(),me["b"].globalTimeline.clear(),e.next=5,this.game.startEOPScreen(1,!0);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onStart",value:function(){var e=this;na["a"].stopAll();var t=new PIXI.Sprite(aa.Handle.currentGame.getResource("finger.png").texture);this.addChild(t),t.anchor.set(.5),t.position.set(1024,360),me["b"].to(t,{x:t.x-1280/3,duration:2}).repeat(-1),this.interactive=!0,this.on("pointerdown",(function(){e.removeChild(t)})),this.mBGM=aa.Handle.currentGame.getResource("lt_bgm.mp3").sound,this.mBGM.play({loop:!0}),console.log("touch ACTIVITY 시작 !!"),this.onNextQuiz(),window.onkeyup=function(e){"+"==e.key&&(aa.Handle.nextGame(),window.onkeyup=null)}}},{key:"onNextQuiz",value:function(){if(console.log("FINISH",aa.Handle.appData.level+2,this.mCurrentStep+1,aa.Handle.appData.level+2==this.mCurrentStep),aa.Handle.appData.level+2==this.mCurrentStep+1)return na["a"].stopAll(),me["b"].globalTimeline.clear(),void aa.Handle.nextGame();this.mCurrentStep+=1,this.mExamStickerBox.nextStep(),this.mAnswerBox.currentAnswer.finish(),this.mSpeakBox.initQuiz(this.currentStep),this.mAnswerBox.currentAnswer.focus(!0)}},{key:"touchData",get:function(){return void 0===this.game.touchData?[]:this.game.touchData}},{key:"currentStep",get:function(){return this.mCurrentStep}}],[{key:"Handle",get:function(){return n._handle}}]),n}(Pa),Sr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.call(this,"touch")}return Object(u["a"])(n,[{key:"onStartGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("STORYBOOK TOUCH START"),e.next=3,this.startLoadingScreen();case 3:return e.next=5,T.a.post("".concat(N.Config.restAPIProd,"/storybooks/getViewerResource"),{activity:"touch"});case 5:return t=e.sent,e.next=8,this._loadViewerResource(t.data);case 8:return e.next=10,T.a.post("".concat(N.Config.restAPIProd,"/storybooks/getProductResource"),{activity:"touch",bookID:aa.Handle.appData.bookID});case 10:return n=e.sent,e.next=13,this._loadProductResource(n.data);case 13:return e.next=15,T.a.post("".concat(N.Config.restAPIProd,"/storybooks/getTouchPosData"),{bookID:aa.Handle.appData.bookID});case 15:a=e.sent,this.mTouchData=a.data.imagePos,this.addScene("intro",new mr),this.addScene("activity",new kr),this.goScene("activity");case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onEndGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.warn("SB touch END",this.playTime),e.next=3,ce.updatePlayTime(this.playTime);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onAppMessage",value:function(e){}},{key:"touchData",get:function(){return this.mTouchData}}]),n}(Oa),wr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var i;Object(l["a"])(this,n),i=t.call(this),i.mCorrectFlag=!0;var o=aa.Handle.currentGame.getResource("sf_sfx_1.mp3").sound;i.mOXdelay=o.duration;var r=aa.Handle.currentGame.getProductResource("sf_".concat(aa.Handle.appData.bookID,"_1_").concat(Rr.Handle.quizStep,".mp3")).sound;return i.mEXdelay=r.duration,i.mData=a,i.mQuizStep=e,i.mEffectTexture=new PIXI.Sprite(aa.Handle.currentGame.getResource("magnifier.png").texture),i.mEffectTexture.anchor.set(.5),i.mEffectTexture.angle=-45,me["b"].delayedCall(1,(function(){i.clickStart()})),i.hitArea=new ta["Rectangle"](0,0,i.mData[e-1].w,i.mData[e-1].h),console.warn(i.mData),i.on("pointertap",(function(){i.mCorrectFlag&&i.RectClick()})),i}return Object(u["a"])(n,[{key:"viewLine",value:function(){var e=new PIXI.Graphics;e.lineStyle(2,65535,1),e.drawRect(-this.width/2,-this.height/2,this.mData[this.mQuizStep-1].w,this.mData[this.mQuizStep-1].h),this.addChild(e)}},{key:"RectClick",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return _r.Handle.AllClickStop(),xr.Handle.AllClickStop(),e.next=4,this.checkTotalStep();case 4:_r.Handle.AllClickStart(),xr.Handle.AllClickStart();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"checkTotalStep",value:function(){var e=this;return new Promise((function(t,n){var a=aa.Handle.appData.level+2;e.mQuizStep<=a&&(console.warn("Activity.Handle.quizStep=>".concat(Rr.Handle.quizStep)),e.correct(e.mQuizStep),me["b"].delayedCall(e.mOXdelay+e.mEXdelay,(function(){e.mCorrectFlag=!1,t()})))}))}},{key:"correct",value:function(e){var t=this;Pr.Handle.clickedCorrect(),this.mEffect&&this.mEffect.kill(),this.removeChild(this.mEffectTexture),this.mEffectTexture.position.set(this.mData[this.mQuizStep-1].w/2,this.mData[this.mQuizStep-1].h/2),this.addChild(this.mEffectTexture),this.mEffect=me["b"].timeline(),this.mEffect.to(this.mEffectTexture,{x:this.mEffectTexture.x-10,y:this.mEffectTexture.y+10,angle:-50,duration:.3}),this.mEffect.to(this.mEffectTexture,{x:this.mEffectTexture.x+10,y:this.mEffectTexture.y,duration:.3}),this.mEffect.to(this.mEffectTexture,{x:this.mEffectTexture.x,angle:-45,duration:.3}).eventCallback("onComplete",(function(){t.removeChild(t.mEffectTexture);var n=aa.Handle.currentGame.getResource("sf_sfx_1.mp3").sound,a=aa.Handle.currentGame.getProductResource("sf_".concat(aa.Handle.appData.bookID,"_1_").concat(e,".mp3")).sound;n.play(),t.effect(n.duration+a.duration),xr.Handle.onCorrectMotion(e-1,n.duration+a.duration),me["b"].delayedCall(n.duration,(function(){a.play()}))}))}},{key:"effect",value:function(e){var t=aa.Handle.currentGame.getResource("common_find_circle.json").spineData,n=new PIXI.spine.Spine(t),a=this.mData[this.mQuizStep-1].w/2,i=this.mData[this.mQuizStep-1].h/2;n.state.setAnimation(0,"animation",!1),n.position.set(a,i),this.addChild(n)}},{key:"clickStart",value:function(){this.interactive=!0,this.buttonMode=!0}},{key:"clickStop",value:function(){this.interactive=!1,this.buttonMode=!1}}]),n}(PIXI.Sprite),_r=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this),n._handle=Object(ea["a"])(a),a.mData=e,a.mQuizRectArray=[],a.mbookID=aa.Handle.appData.bookID,a.makeQuizIMG(),a}return Object(u["a"])(n,[{key:"makeQuizIMG",value:function(){for(var e=aa.Handle.appData.level+2,t=4;t<e+4;t++){var n=new wr(t-3,this.mData),a=n.width/2,i=n.height/2;this.mQuizRectArray.push(n),n.position.set(this.mData[t-4].x+a,this.mData[t-4].y+i),this.addChild(n)}}},{key:"AllClickStart",value:function(){for(var e=0;e<this.mQuizRectArray.length;e++)this.mQuizRectArray[e].clickStart()}},{key:"AllClickStop",value:function(){for(var e=0;e<this.mQuizRectArray.length;e++)this.mQuizRectArray[e].clickStop()}}],[{key:"Handle",get:function(){return n._handle}}]),n}(PIXI.Container),xr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mlevel=aa.Handle.appData.level,n._handle=Object(ea["a"])(e),e.mExButtonArray=[],e.makeExButton(),e}return Object(u["a"])(n,[{key:"makeExButton",value:function(){for(var e=this.mlevel+2,t=new Or(1),n=t.width/2,a=4;a<e+4;a++){var i=new Or(a-3);i.pivot.set(.5,.5),i.position.set(n,102.5),n+=i.width+50,this.mExButtonArray.push(i),this.addChild(i)}}},{key:"onCorrectMotion",value:function(e,t){this.mExButtonArray[e].onNext(t)}},{key:"AllClickStart",value:function(){for(var e=0;e<this.mExButtonArray.length;e++)this.mExButtonArray[e].clickStart()}},{key:"AllClickStop",value:function(){for(var e=0;e<this.mExButtonArray.length;e++)this.mExButtonArray[e].clickStop()}}],[{key:"Handle",get:function(){return n._handle}}]),n}(PIXI.Container),Ir=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a,i){var o;return Object(l["a"])(this,n),o=t.call(this),o.mClickFlag=!0,o.mOn=e,o.mOff=a,o.mCorrect=i,o.texture=aa.Handle.currentGame.getResource(o.mOn).texture,o.anchor.set(.5),o}return Object(u["a"])(n,[{key:"onCorrectIMG",value:function(){this.mClickFlag=!1,this.exButton.offFlag(),this.texture=aa.Handle.currentGame.getProductResource(this.mCorrect).texture}},{key:"onButtonOff",value:function(){this.mClickFlag&&(this.texture=aa.Handle.currentGame.getResource(this.mOff).texture)}},{key:"onButtonOn",value:function(){this.mClickFlag&&(this.texture=aa.Handle.currentGame.getResource(this.mOn).texture)}},{key:"exButton",get:function(){return this.parent}}]),n}(PIXI.Sprite),Or=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this),a.mClickFlag=!0,a.mID=e,a.makeButton(a.mID),a.clickStart(),a.on("pointertap",(function(){a.Clicked()})),a}return Object(u["a"])(n,[{key:"makeButton",value:function(e){var t=PIXI.Sprite.from(aa.Handle.currentGame.getResource("box.png").texture);t.anchor.set(.5),this.addChild(t),this.mSoundButton=new Ir("sound.png","sound_down.png","sf_".concat(aa.Handle.appData.bookID,"_").concat(e+3,".png")),this.mSoundButton.position.set(-5,-5),this.addChild(this.mSoundButton)}},{key:"Clicked",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(xr.Handle.AllClickStop(),_r.Handle.AllClickStop(),this.mSoundButton.onButtonOff(),console.log(this.mClickFlag,this.mID),!this.mClickFlag){e.next=7;break}return e.next=7,this.soundOn(this.mID);case 7:this.mSoundButton.onButtonOn(),xr.Handle.AllClickStart(),_r.Handle.AllClickStart();case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"soundOn",value:function(e){var t=this;return new Promise((function(n,a){me["b"].to(t.mSoundButton,{y:t.mSoundButton.y+5,duration:.5});var i=aa.Handle.appData.bookID;console.warn("".concat(e,"번째 사운드 출력"));var o=aa.Handle.currentGame.getProductResource("sf_".concat(i,"_1_").concat(e,".mp3")).sound;o.play(),me["b"].delayedCall(o.duration,(function(){me["b"].to(t.mSoundButton,{y:t.mSoundButton.y-5,duration:.5}),n()}))}))}},{key:"onNext",value:function(e){this.changeIMG(),me["b"].delayedCall(e,(function(){Rr.Handle.onNextStep()}))}},{key:"changeIMG",value:function(){var e=this;me["b"].to(this,{alpha:0,duration:.5}).eventCallback("onComplete",(function(){e.mSoundButton.position.set(0,0),e.mSoundButton.onCorrectIMG()})),me["b"].delayedCall(.5,(function(){me["b"].to(e,{alpha:1,duration:.5})}))}},{key:"clickStart",value:function(){this.buttonMode=!0,this.interactive=!0}},{key:"clickStop",value:function(){this.buttonMode=!1,this.interactive=!1}},{key:"offFlag",value:function(){this.mClickFlag=!1}}]),n}(PIXI.Container),Pr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;Object(l["a"])(this,n),a=t.call(this),n._handle=Object(ea["a"])(a);var i=aa.Handle.appData.bookID,o=aa.Handle.appData.level;return a.mBG=PIXI.Sprite.from(aa.Handle.currentGame.getProductResource("sf_".concat(i,"_").concat(o,".png")).texture),a.addChild(a.mBG),a.mEffectTexture=new PIXI.Sprite(aa.Handle.currentGame.getResource("magnifier.png").texture),a.mEffectTexture.anchor.set(.5),a.mEffectTexture.angle=-45,a.mWrongCount=0,a.mWrongStage=new PIXI.Container,a.mWrongStage.interactive=!0,a.mWrongStage.buttonMode=!0,a.mWrongStage.hitArea=new ta["Rectangle"](0,0,1280,520),a.addChild(a.mWrongStage),a.mExStage=new xr,a.mExStage.position.set(640-a.mExStage.width/2,520),a.addChild(a.mExStage),a.mQuizStage=new _r(e),a.mQuizStage.position.set(0,0),a.addChild(a.mQuizStage),a.mWrongStage.on("pointertap",(function(e){a.mWrongCount+=1,console.log("%c 오답갯수".concat(a.mWrongCount),"font-weight:bold; color:red;"),a.mEffect&&a.mEffect.kill(),a.removeChild(a.mEffectTexture);var t=a.toLocal(e.data.global);a.mEffectTexture.position.set(t.x,t.y),a.addChild(a.mEffectTexture),a.mEffect=me["b"].timeline(),a.mEffect.to(a.mEffectTexture,{x:a.mEffectTexture.x-10,y:a.mEffectTexture.y+10,angle:-50,duration:.3}),a.mEffect.to(a.mEffectTexture,{x:a.mEffectTexture.x+10,y:a.mEffectTexture.y,duration:.3}),a.mEffect.to(a.mEffectTexture,{x:a.mEffectTexture.x,angle:-45,duration:.3}).eventCallback("onComplete",(function(){a.removeChild(a.mEffectTexture),a.mWrongStage.interactive=!0;var e=aa.Handle.currentGame.getResource("sf_sfx_2.mp3").sound;e.play()}))})),a}return Object(u["a"])(n,[{key:"onStart",value:function(){}},{key:"clickedCorrect",value:function(){var e=this;this.mWrongStage.interactive=!1,this.mEffect&&this.mEffect.kill(),this.removeChild(this.mEffectTexture),me["b"].delayedCall(3,(function(){e.mWrongStage.interactive=!0}))}},{key:"wrongCount",get:function(){return this.mWrongCount}}],[{key:"Handle",get:function(){return n._handle}}]),n}(PIXI.Container),Rr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),n._handle=Object(ea["a"])(e),e}return Object(u["a"])(n,[{key:"onInit",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return na["a"].stopAll(),this.mQuizStep=1,this.mFinder=new Pr(this.finderData),this.addChild(this.mFinder),e.next=6,this.game.endLoadingScreen();case 6:return e.next=8,this.game.startReadyScreen(2,"sb_finder");case 8:this.mBGM=aa.Handle.currentGame.getResource("sf_bgm.mp3").sound,this.mBGM.play({loop:!0}),this.start();case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onEnd",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"main"==L.excuteMode&&""!=re.token?(console.log("스토리 파인더 끝",this.game.gameName,aa.Handle.appData.bookID,ue.childSetting.lrngChoLvlCd,this.mFinder.wrongCount),wt.setActivityEnd({activity:this.game.gameName,endinfo:{bookID:aa.Handle.appData.bookID,lrngChoLvlCd:ue.childSetting.lrngChoLvlCd,wrongCount:this.mFinder.wrongCount}})):console.warn("스토리파인더 학습결과를 전송하지 않습니다."),na["a"].stopAll(),me["b"].globalTimeline.clear(),e.next=5,this.game.startEOPScreen(0,!0);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onNextStep",value:function(){console.log("ACTIVITY=>[".concat(this.mQuizStep,"]"));var e=aa.Handle.appData.level+2;this.mQuizStep+=1,this.mQuizStep>e&&(console.error("게임 끝!!"),console.warn("틀린갯수 =>[".concat(this.mFinder.wrongCount,"]")),this.mBGM.stop(),aa.Handle.nextGame())}},{key:"onStart",value:function(){this.mFinder.onStart(),window.onkeyup=function(e){"+"==e.key&&(aa.Handle.nextGame(),window.onkeyup=null)}}},{key:"quizStep",get:function(){return this.mQuizStep}},{key:"finderData",get:function(){return void 0===this.game.finderData?[]:this.game.finderData}}],[{key:"Handle",get:function(){return n._handle}}]),n}(Pa),jr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.call(this,"finder")}return Object(u["a"])(n,[{key:"onStartGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.startLoadingScreen();case 2:return console.log("STORY FINDER START"),e.next=5,T.a.post("".concat(N.Config.restAPIProd,"/storybooks/getViewerResource"),{activity:"finder"});case 5:return t=e.sent,e.next=8,this._loadViewerResource(t.data);case 8:return e.next=10,T.a.post("".concat(N.Config.restAPIProd,"/storybooks/getProductResource"),{activity:"finder",bookID:aa.Handle.appData.bookID});case 10:return n=e.sent,e.next=13,this._loadProductResource(n.data);case 13:return e.next=15,T.a.post("".concat(N.Config.restAPIProd,"/storybooks/getFinderPosData"),{bookID:aa.Handle.appData.bookID});case 15:a=e.sent,this.mFinderData=a.data.rectData,this.addScene("activity",new Rr),this.goScene("activity");case 19:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onEndGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.warn("SB finder END",this.playTime),e.next=3,ce.updatePlayTime(this.playTime);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onAppMassage",value:function(){}},{key:"finderData",get:function(){return this.mFinderData}}]),n}(Oa),Dr=new PIXI.TextStyle({fontFamily:"minigate",fontSize:50,fontWeight:"bold",fill:"#000000",padding:5});(function(e){e[e["left"]=0]="left",e[e["right"]=1]="right"})(No||(No={}));var Tr,Br=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mBG=new PIXI.NineSlicePlane(aa.Handle.currentGame.getViewerResource("box_1.png").texture,45,45,45,45),e.mLine=new PIXI.NineSlicePlane(aa.Handle.currentGame.getViewerResource("box_correct.png").texture,45,45,45,45),e.addChild(e.mBG),e.addChild(e.mLine),e.setSize(325,242),e.mText=new PIXI.Text("",Dr),e.mText.anchor.set(.5),e.mImage=new PIXI.Sprite,e.mImage.anchor.set(.5),e.addChild(e.mText),e.addChild(e.mImage),e.buttonMode=!0,e.on("pointerup",(function(){e.onClick()})),e}return Object(u["a"])(n,[{key:"init",value:function(){this.mLineAniTween&&this.mLineAniTween.kill(),this.mLine.visible=!1,this.mIsCorrect=!1,this.mLine.visible=!1,this.interactive=!1,this.mText.visible=!1,this.mImage.visible=!1,this.mText.style=new PIXI.TextStyle({fontFamily:"minigate",fontSize:50,fontWeight:"bold",fill:"#000000",padding:5})}},{key:"setSize",value:function(e,t){this.mBG.width=e,this.mBG.height=t,this.mLine.width=e,this.mLine.height=t,this.mBG.pivot.set(e/2,t/2),this.mLine.pivot.set(e/2,t/2)}},{key:"setText",value:function(e){this.mText.text=e,this.mText.visible=!0,this.mImage.visible=!1,this.mText.width+80>325?this.setSize(this.mText.width+80,242):this.setSize(325,242)}},{key:"setImage",value:function(e){this.mImage.texture=e,this.mText.visible=!1,this.mImage.visible=!0,this.setSize(325,242)}},{key:"setBarricate",value:function(){this.mImage.texture=aa.Handle.currentGame.getViewerResource("barricade.png").texture,this.mText.visible=!1,this.mImage.visible=!0,this.setSize(325,242)}},{key:"onClick",value:function(){var e=this;this.quizPanel.selectAnswer(this)?this.mLine.texture=aa.Handle.currentGame.getResource("box_correct.png").texture:this.mLine.texture=aa.Handle.currentGame.getResource("box_wrong.png").texture,this.mImage.alpha=1,this.mText.alpha=1,this.mText.style=new PIXI.TextStyle({fontFamily:"minigate",fontSize:50,fontWeight:"bold",fill:"#FFFFFF",padding:5}),this.mLine.visible=!0,this.mLine.alpha=0,this.mLineAniTween=me["b"].to(this.mLine,{alpha:1,duration:.5}).yoyo(!0).repeat(0),me["b"].delayedCall(2,(function(){e.mText.style=new PIXI.TextStyle({fontFamily:"minigate",fontSize:50,fontWeight:"bold",fill:"#000000",padding:5})}))}},{key:"isCorrect",get:function(){return this.mIsCorrect},set:function(e){this.mIsCorrect=e}},{key:"quizPanel",get:function(){return this.parent}}]),n}(PIXI.Container),Lr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;Object(l["a"])(this,n),e=t.call(this),e.beginFill(0,.5),e.drawRect(0,0,1280,720),e.visible=!1,e.mCards=[new Br,new Br];var a=new PIXI.Sprite(aa.Handle.currentGame.getViewerResource("box_bgline.png").texture);a.position.set(-5,250);var i=new PIXI.Sprite(aa.Handle.currentGame.getViewerResource("box_bgline.png").texture);i.position.set(-5,350),e.addChild(a,i);var o,r=Object(x["a"])(e.mCards);try{for(r.s();!(o=r.n()).done;){var s=o.value;e.addChild(s)}}catch(c){r.e(c)}finally{r.f()}return e.mCorrectSound=aa.Handle.currentGame.getViewerResource("rm_sfx_3.mp3").sound,e.mWrongSound=aa.Handle.currentGame.getViewerResource("rm_sfx_4.mp3").sound,e}return Object(u["a"])(n,[{key:"makeWordQuiz",value:function(e){var t=this.mCards[0];return this.mCards[0].init(),this.mCards[1].init(),this.mCards[0].isCorrect=!0,this.mCards[1].isCorrect=!1,this.mCards[0].setText(e),this.mCards[1].setBarricate(),Ta(this.mCards),this.mCards[0].position.set(350,300),this.mCards[1].position.set(930,300),this.mCards[0]==t?No.left:No.right}},{key:"makeImageQuiz",value:function(e,t){var n=this.mCards[0];return this.mCards[0].init(),this.mCards[1].init(),this.mCards[0].isCorrect=!0,this.mCards[1].isCorrect=!1,this.mCards[0].setImage(e),this.mCards[1].setImage(t),Ta(this.mCards),this.mCards[0].position.set(350,300),this.mCards[1].position.set(930,300),this.mCards[0]==n?No.left:No.right}},{key:"makeFullTextQuiz",value:function(e,t){var n=this.mCards[0];return this.mCards[0].init(),this.mCards[1].init(),this.mCards[0].isCorrect=!0,this.mCards[1].isCorrect=!1,this.mCards[0].setText(e),this.mCards[1].setText(t),Ta(this.mCards),this.mCards[0].position.set(350,300),this.mCards[1].position.set(930,300),this.mCards[0]==n?No.left:No.right}},{key:"show",value:function(){var e=this;this.visible=!0,this.alpha=0,me["b"].to(this,{alpha:1,duration:.5}).eventCallback("onComplete",(function(){e.mCards[0].interactive=!0,e.mCards[1].interactive=!0}))}},{key:"close",value:function(){var e=this;return new Promise((function(t,n){e.mCards[0].interactive=!1,e.mCards[1].interactive=!1,me["b"].to(e,{alpha:0,duration:.5}).eventCallback("onComplete",(function(){me["b"].delayedCall(1,(function(){return t()})),e.visible=!1}))}))}},{key:"selectAnswer",value:function(e){return this.mCards[0].interactive=!1,this.mCards[1].interactive=!1,this.onSelectAnswer(e==this.mCards[0]?No.left:No.right,e.isCorrect),e.isCorrect?(this.mCorrectSound.play(),!0):(this.mWrongSound.play(),!1)}},{key:"onSelectAnswer",value:function(e,t){}},{key:"activity",get:function(){return this.parent}}]),n}(PIXI.Graphics),Ar=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;Object(l["a"])(this,n),e=t.call(this),e.texture=aa.Handle.currentGame.getViewerResource("road_stopline.png").texture,e.anchor.set(.5,0),e.visible=!1,e.mBarricade=[],e.mBarricade[0]=new PIXI.Sprite(aa.Handle.currentGame.getViewerResource("barricade.png").texture),e.mBarricade[1]=new PIXI.Sprite(aa.Handle.currentGame.getViewerResource("barricade.png").texture),e.mBarricade[2]=new PIXI.Sprite(aa.Handle.currentGame.getViewerResource("barricade.png").texture);var a,i=Object(x["a"])(e.mBarricade);try{for(i.s();!(a=i.n()).done;){var o=a.value;o.y=200,o.anchor.set(.5,1),e.addChild(o)}}catch(r){i.e(r)}finally{i.f()}return e.mBarricade[0].x=-250,e.mBarricade[1].x=20,e.mBarricade[2].x=280,e.mPoliceTextureL=aa.Handle.currentGame.getViewerResource("l_police.png").texture,e.mPoliceTextureR=aa.Handle.currentGame.getViewerResource("r_police.png").texture,e.mPolice=new PIXI.Sprite(e.mPoliceTextureL),e.mPolice.anchor.set(.5,1),e.mPolice.x=20,e.mPolice.y=300,e.addChild(e.mPolice),e.mPolice.visible=!1,e}return Object(u["a"])(n,[{key:"stop",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=Object(x["a"])(this.mBarricade);try{for(n.s();!(e=n.n()).done;){var a=e.value;a.visible=!0}}catch(i){n.e(i)}finally{n.f()}this.mPolice.visible=!1,this.position.y=-403*t,this.visible=!0}},{key:"start",value:function(){}},{key:"turnoff",value:function(e){var t,n=Object(x["a"])(this.mBarricade);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.visible=!0}}catch(i){n.e(i)}finally{n.f()}this.mBarricade[e].visible=!1}},{key:"displayPolice",value:function(e){var t=this;return new Promise((function(n,a){var i=aa.Handle.currentGame.getResource("rm_sfx_10.mp3").sound;i.play();var o=new PIXI.Sprite(aa.Handle.currentGame.getResource("police_car.png").texture);o.anchor.set(.5),o.position.set(640,310),t.addChild(o),me["b"].to(o,{x:0,duration:.8}).eventCallback("onComplete",(function(){e==No.left?t.mPolice.texture=t.mPoliceTextureL:t.mPolice.texture=t.mPoliceTextureR,t.mPolice.visible=!0,t.mPolice.alpha=0,me["b"].to(t.mPolice,{alpha:1,duration:.5}),me["b"].to(o,{x:-800,duration:.8,delay:.5}).eventCallback("onComplete",(function(){t.removeChild(o)}))})),me["b"].delayedCall(i.duration-1,(function(){n()}))}))}}]),n}(PIXI.Sprite),Mr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;Object(l["a"])(this,n),e=t.call(this),e.mMoveSpeed=20;var a=aa.Handle.currentGame.getViewerResource("bg_ver_1.png").texture;Math.random()>.5&&(a=aa.Handle.currentGame.getViewerResource("bg_ver_2.png").texture),e.mSpeed=e.mMoveSpeed,e.mBGRoot=new PIXI.Container,e.addChild(e.mBGRoot),e.mBG1=new PIXI.Sprite(a),e.mBG2=new PIXI.Sprite(a),e.mBG2.y=-720,e.mBGRoot.addChild(e.mBG1),e.mBGRoot.addChild(e.mBG2),e.mQuizSet=new Ar,e.mQuizSet.position.set(640,0),e.addChild(e.mQuizSet),e.mCar=new PIXI.Sprite(aa.Handle.currentGame.getViewerResource("car.png").texture),e.mCar.anchor.set(.5),e.mCar.position.set(640,470),e.addChild(e.mCar),e.mExplodeEffect=new PIXI.spine.Spine(aa.Handle.currentGame.getViewerResource("common_effect_bomb.json").spineData),e.mCar.addChild(e.mExplodeEffect),e.mExplodeEffect.y=-30,e.mExplodeEffect.scale.set(1.5),e.mExplodeEffect.visible=!1,e.mStopSound=aa.Handle.currentGame.getViewerResource("rm_sfx_1.mp3").sound,e.mCarStartSound=aa.Handle.currentGame.getViewerResource("rm_sfx_5.mp3").sound,e.mExplodeSound=aa.Handle.currentGame.getViewerResource("rm_sfx_6.mp3").sound;var i=PIXI.Ticker.shared;return i.add((function(t){e.onUpdate(t)})),e}return Object(u["a"])(n,[{key:"onUpdate",value:function(e){this.mBGRoot.y+=this.mSpeed*e,this.mBGRoot.y>720&&(this.mBGRoot.y-=720),1==this.mQuizSet.visible&&(this.mQuizSet.y+=this.mSpeed*e,this.mQuizSet.y>1e3&&(this.mQuizSet.visible=!1))}},{key:"moveCarLeft",value:function(){var e=this;return new Promise((function(t,n){e.mCarStartSound.play(),e.mQuizSet.turnoff(0);var a=me["b"].timeline();a.to(e.mCar,{angle:-20,x:400,duration:1}),a.to(e.mCar,{angle:0,duration:.5}),a.to(e.mCar,{angle:20,x:640,duration:1}),a.to(e.mCar,{angle:0,duration:.5}),a.play(),e.start(),me["b"].delayedCall(2,(function(){return t()}))}))}},{key:"moveCarRight",value:function(){var e=this;return new Promise((function(t,n){e.mCarStartSound.play(),e.mQuizSet.turnoff(2);var a=me["b"].timeline();a.to(e.mCar,{angle:20,x:880,duration:1}),a.to(e.mCar,{angle:0,duration:.5}),a.to(e.mCar,{angle:-20,x:640,duration:1}),a.to(e.mCar,{angle:0,duration:.5}),a.play(),e.start(),me["b"].delayedCall(2,(function(){return t()}))}))}},{key:"moveCarLeftDie",value:function(){var e=this;return new Promise((function(t,n){e.mCarStartSound.play();var a=me["b"].timeline();a.to(e.mCar,{angle:-20,x:400,y:200,duration:.5,ease:"none"}),a.play(),me["b"].delayedCall(.5,(function(){e.mExplodeSound.play(),e.mExplodeEffect.visible=!0,e.mExplodeEffect.state.setAnimation(0,"effect_bomb",!1),e.mExplodeEffect.state.clearListeners(),e.mExplodeEffect.state.addListener({complete:function(n){e.mCar.visible=!1,e.start(),e.mCar.position.set(640,1170),me["b"].delayedCall(1,(function(){e.mCar.visible=!0,e.mCar.angle=0,e.mCar.position.set(640,1170),me["b"].to(e.mCar,{y:470,duration:1})})),me["b"].delayedCall(2,(function(){return t()}))}})}))}))}},{key:"moveCarRightDie",value:function(){var e=this;return new Promise((function(t,n){e.mCarStartSound.play();var a=me["b"].timeline();a.to(e.mCar,{angle:20,x:880,y:250,duration:.5,ease:"none"}),a.play(),me["b"].delayedCall(.5,(function(){e.mExplodeSound.play(),e.mExplodeEffect.visible=!0,e.mExplodeEffect.state.setAnimation(0,"effect_bomb",!1),e.mExplodeEffect.state.clearListeners(),e.mExplodeEffect.state.addListener({complete:function(n){e.mCar.visible=!1,e.start(),me["b"].delayedCall(1,(function(){e.mCar.visible=!0,e.mCar.position.set(640,1170),e.mCar.angle=0,me["b"].to(e.mCar,{y:470,duration:1})})),me["b"].delayedCall(2,(function(){return t()}))}})}))}))}},{key:"start",value:function(){this.mQuizSet.start(),me["b"].to(this,{mSpeed:this.mMoveSpeed,duration:2,ease:"easeIn"})}},{key:"stop",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(n,a){e.mStopSound.play(),e.mQuizSet.stop(t),me["b"].to(e,{mSpeed:0,duration:t,ease:"easeIn"}).eventCallback("onComplete",(function(){return n()}))}))}},{key:"endAnimation",value:function(){var e=this;return new Promise((function(t,n){e.mCarStartSound.play(),me["b"].to(e.mCar,{y:-100,duration:1.5,ease:"easeIn"}).eventCallback("onComplete",(function(){return t()}))}))}},{key:"quizSet",get:function(){return this.mQuizSet}}]),n}(PIXI.Container),Gr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this),a.mIsPlaying=!1,a.interactive=!0,a.buttonMode=!0,a.mDuration=0,a.anchor.set(.5),console.log(aa.Handle.currentGame),a.mNormalTexture=aa.Handle.currentGame.getViewerResource("sound.png").texture,a.mActiveTexture=aa.Handle.currentGame.getViewerResource("sound_down.png").texture,a.texture=a.mNormalTexture,a.mSound=e,a.mDuration=e.duration,a.on("pointerup",Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!=a.mIsPlaying){e.next=3;break}return e.next=3,a.onClick();case 3:case"end":return e.stop()}}),e)})))),a}return Object(u["a"])(n,[{key:"clickLock",value:function(e){this.interactive=!e}},{key:"onClick",value:function(){var e=this;return new Promise((function(t,n){null==e.mSound&&t(),e.mSound.pause(),e.mIsPlaying=!0,e.texture=e.mActiveTexture,e.mSound.play(),me["b"].delayedCall(e.mSound.duration,(function(){e.texture=e.mNormalTexture,e.mIsPlaying=!1,t()}))}))}},{key:"soundDuration",get:function(){return this.mDuration}}]),n}(PIXI.Sprite),Er=new PIXI.TextStyle({fontFamily:"minigate",fontSize:40,fontWeight:"bold",fill:"#FFFFFF",padding:5}),Xr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this,aa.Handle.currentGame.getViewerResource("dashboard_box.png").texture),a.anchor.set(0,.5),a.mText=" "!=e?new PIXI.Text(" "+e+" ",Er):new PIXI.Text(e,Er),a.mText.anchor.set(.5),a.mText.position.set(a.width/2,0),a.addChild(a.mText),a.mText.visible=!1,a.init(),a}return Object(u["a"])(n,[{key:"init",value:function(){this.scale.y=.01,me["b"].to(this.scale,{y:1,duration:.5})}},{key:"showText",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?(this.mText.visible=!0,this.mText.alpha=0,me["b"].to(this.mText,{alpha:1,duration:.2})):(this.mText.alpha=1,me["b"].to(this.mText,{alpha:0,duration:.2}).eventCallback("onComplete",(function(){e.mText.visible=!1})))}},{key:"text",get:function(){return this.mText.text},set:function(e){this.mText.text=e}}]),n}(PIXI.Sprite),Hr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.texture=aa.Handle.currentGame.getViewerResource("dashboard.png").texture,e.anchor.set(0,1),e.mHandle=new PIXI.Sprite(aa.Handle.currentGame.getViewerResource("handle.png").texture),e.mHandle.anchor.set(.5),e.mHandle.position.set(40,-100),e.addChild(e.mHandle),e.mTextContainer=new PIXI.Container,e.mTextContainer.position.set(260,-54),e.addChild(e.mTextContainer),e.mDollRoot=new PIXI.Container,e.mDollRoot.position.set(720,-117),e.addChild(e.mDollRoot),e.mTextOpenSound=aa.Handle.currentGame.getViewerResource("rm_sfx_8.mp3").sound,e.mTextCloseSound=aa.Handle.currentGame.getViewerResource("rm_sfx_9.mp3").sound,e}return Object(u["a"])(n,[{key:"handleLeft",value:function(){var e=me["b"].timeline();e.to(this.mHandle,{angle:-45,duration:.5,ease:"easeIn"}),e.to(this.mHandle,{delay:.5,angle:0,duration:.5,ease:"easeIn"}),e.to(this.mHandle,{angle:45,duration:.5,ease:"easeIn"}),e.to(this.mHandle,{delay:.5,angle:0,duration:.5,ease:"easeIn"})}},{key:"handleRight",value:function(){var e=me["b"].timeline();e.to(this.mHandle,{angle:45,duration:.5,ease:"easeIn"}),e.to(this.mHandle,{delay:.5,angle:0,duration:.5,ease:"easeIn"}),e.to(this.mHandle,{angle:-45,duration:.5,ease:"easeIn"}),e.to(this.mHandle,{delay:.5,angle:0,duration:.5,ease:"easeIn"})}},{key:"initText",value:function(e){console.warn(e),this.mTextOpenSound.play(),this.mTextContainer.removeChildren();for(var t=e.answer,n=[],a=0;a<t.length;a++){var i=new Xr(t[a]);i.position.set(40*a,0),this.mTextContainer.addChild(i),n.push(i)}this.mTextBoards={};var o,r=Object(x["a"])(e.words);try{for(r.s();!(o=r.n()).done;){var s=o.value,c=[],l=s.length;while(l>0){var u=n.shift();c.push(u)," "!=u.text&&(l-=1)}this.mTextBoards[s]=c}}catch(m){r.e(m)}finally{r.f()}console.log(this.mTextBoards),this.mTextContainer.x=740-40*Math.floor(t.length/2)}},{key:"initDoll",value:function(e){this.mDollRoot.removeChildren(),this.mDolls=[],this.mDollSprite=[],this.mDollSoundBTN=[];for(var t=0;t<5;t++){var n=e[t],a=new PIXI.spine.Spine(aa.Handle.currentGame.getViewerResource("common_spring.json").spineData);a.x=120*t,this.mDollRoot.addChild(a),this.mDolls.push(a),a.visible=!1;var i=a.slotContainers[a.skeleton.findSlotIndex("spring_point")];i.removeChildren(),i.alpha=1,i.visible=!0;var o=new PIXI.Sprite(aa.Handle.currentGame.getProductResource(n.correctImage).texture);o.scale.set(-.5,.5),o.anchor.set(.5,.7),o.angle=90;var r=new Gr(aa.Handle.currentGame.getProductResource(n.answerSound).sound);r.angle=90,r.anchor.set(.5,.7),r.scale.set(-1,1),i.addChild(o),i.addChild(r),i.updateTransform(),this.mDollSprite.push(o),this.mDollSoundBTN.push(r)}}},{key:"showText",value:function(e){if(void 0!==this.mTextBoards[e]){var t,n=Object(x["a"])(this.mTextBoards[e]);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.showText(!0)}}catch(i){n.e(i)}finally{n.f()}}}},{key:"closeText",value:function(){this.mTextContainer.removeChildren(),this.mTextBoards={}}},{key:"hideText",value:function(){for(var e in this.mTextBoards){var t,n=Object(x["a"])(this.mTextBoards[e]);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.showText(!1)}}catch(i){n.e(i)}finally{n.f()}}}},{key:"openAllText",value:function(){for(var e in this.mTextBoards){var t,n=Object(x["a"])(this.mTextBoards[e]);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.showText(!0)}}catch(i){n.e(i)}finally{n.f()}}}},{key:"showDoll",value:function(e){var t=this.mDolls[e];0==t.visible&&(t.visible=!0,t.state.setAnimation(0,"spring_play",!0)),this.mDollSprite[e].visible=!0,this.mDollSoundBTN[e].visible=!1}},{key:"showSound",value:function(e){var t=this.mDolls[e];0==t.visible&&(t.visible=!0,t.state.setAnimation(0,"spring_play",!0)),this.mDollSprite[e].visible=!1,this.mDollSoundBTN[e].visible=!0}}]),n}(PIXI.Sprite),zr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.texture=aa.Handle.currentGame.getViewerResource("traffic_light.png").texture,e.mTimerSound=aa.Handle.currentGame.getViewerResource("rm_sfx_2.mp3").sound,e.anchor.set(.5,0),e.mLight=new PIXI.Sprite,e.mLight.anchor.set(.5,0),e.addChild(e.mLight),e.mLightTexture=[aa.Handle.currentGame.getViewerResource("traffic_light_green.png").texture,aa.Handle.currentGame.getViewerResource("traffic_light_yellow.png").texture,aa.Handle.currentGame.getViewerResource("traffic_light_red.png").texture],e.mLight.texture=e.mLightTexture[0],e}return Object(u["a"])(n,[{key:"stop",value:function(e){var t=this;this.mLight.texture=this.mLightTexture[1],me["b"].delayedCall(1,(function(){t.mLight.texture=t.mLightTexture[2],t.mTimerSound.play({loop:!0}),t.mQuitTween=me["b"].delayedCall(e,(function(){console.log("make QuitTween"),t.mTimerSound.stop(),t.mQuitTween=null,t.onWaitTimeOut(),t.start()}))}))}},{key:"removeWaitTimeCallback",value:function(){this.mTimerSound.stop(),this.mQuitTween&&this.mQuitTween.isActive&&(this.mQuitTween.kill(),this.mQuitTween=null,console.log("cancel QuitTween"))}},{key:"onWaitTimeOut",value:function(){}},{key:"start",value:function(){this.mQuitTween&&this.mQuitTween.isActive&&(this.mQuitTween.kill(),this.mQuitTween=null),this.mTimerSound.stop(),this.mLight.texture=this.mLightTexture[0]}}]),n}(PIXI.Sprite);(function(e){e[e["word"]=0]="word",e[e["image"]=1]="image",e[e["fullText"]=2]="fullText"})(Tr||(Tr={}));var Fr,Vr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.call(this)}return Object(u["a"])(n,[{key:"onInit",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return na["a"].stopAll(),this.mQuizs=[],this.mWrongCount=0,this.mWaitCount=0,this.mBGM=aa.Handle.currentGame.getViewerResource("rm_bgm.mp3").sound,this.mRoad=new Mr,this.addChild(this.mRoad),this.mQuizPanel=new Lr,this.addChild(this.mQuizPanel),this.mSignalSign=new zr,this.mSignalSign.position.set(640,0),this.addChild(this.mSignalSign),this.mDashBoard=new Hr,this.mDashBoard.position.set(0,720),this.addChild(this.mDashBoard),this.makeQuizData(),this.mDashBoard.initDoll(this.quizGameData),e.next=19,this.game.endLoadingScreen();case 19:return e.next=21,this.game.startReadyScreen(0,"sb_match");case 21:this.start();case 22:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"makeQuizData",value:function(){this.mCurrentQuizStepIDX=0,this.mCurrentQuizIDX=0;var e,t=Object(x["a"])(this.quizGameData);try{for(t.s();!(e=t.n()).done;){var n,a=e.value,i=[],o=0,r=Object(x["a"])(a.words);try{for(r.s();!(n=r.n()).done;){var s=n.value;i.push({quizType:Tr.word,waitDelaySec:10,answer:a.answer,answerSound:aa.Handle.currentGame.getProductResource(a.answerSound).sound,correctWord:s,wordSound:aa.Handle.currentGame.getProductResource(a.wordsSound[o]).sound,correctImage:null,wrongImage:null,correctText:null,wrongText:null}),o+=1}}catch(c){r.e(c)}finally{r.f()}aa.Handle.appData.level>1&&i.push({quizType:Tr.image,waitDelaySec:10,answer:a.answer,answerSound:aa.Handle.currentGame.getProductResource(a.answerSound).sound,correctWord:null,wordSound:null,correctImage:aa.Handle.currentGame.getProductResource(a.correctImage).texture,wrongImage:aa.Handle.currentGame.getProductResource(a.wrongImage).texture,correctText:null,wrongText:null}),aa.Handle.appData.level>2&&i.push({quizType:Tr.fullText,waitDelaySec:10,answer:a.answer,answerSound:aa.Handle.currentGame.getProductResource(a.answerSound).sound,correctWord:null,wordSound:null,correctImage:null,wrongImage:null,correctText:a.answer,wrongText:a.wrongText}),this.mQuizs.push(i)}}catch(c){t.e(c)}finally{t.f()}}},{key:"onStart",value:function(){this.mBGM.play({loop:!0}),this.nextQuiz(),window.onkeyup=function(e){"+"==e.key&&(aa.Handle.nextGame(),window.onkeyup=null)}}},{key:"nextQuiz",value:function(){var e=this;this.mCurrentQuizIDX>=this.mQuizs[this.mCurrentQuizStepIDX].length&&(this.mCurrentQuizIDX=0,this.mCurrentQuizStepIDX+=1),0==this.mCurrentQuizIDX&&this.mQuizs.length>this.mCurrentQuizStepIDX&&(this.mDashBoard.initText(this.quizGameData[this.mCurrentQuizStepIDX]),1==aa.Handle.appData.level?this.mDashBoard.showDoll(this.mCurrentQuizStepIDX):this.mDashBoard.showSound(this.mCurrentQuizStepIDX)),this.currentQuiz&&this.currentQuiz.quizType==Tr.fullText&&this.mDashBoard.hideText(),me["b"].delayedCall(1.5,Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.mQuizs.length<=e.mCurrentQuizStepIDX)){t.next=6;break}return e.mDashBoard.closeText(),t.next=4,e.mRoad.endAnimation();case 4:return aa.Handle.nextGame(),t.abrupt("return");case 6:return n=No.left,e.mSignalSign.stop(e.currentQuiz.waitDelaySec),t.next=10,e.mRoad.stop(2);case 10:e.mQuizPanel.show(),e.currentQuiz.quizType==Tr.word?(e.currentQuiz.wordSound.play(),n=e.mQuizPanel.makeWordQuiz(e.currentQuiz.correctWord)):e.currentQuiz.quizType==Tr.image?(e.currentQuiz.answerSound.play(),n=e.mQuizPanel.makeImageQuiz(e.currentQuiz.correctImage,e.currentQuiz.wrongImage)):e.currentQuiz.quizType==Tr.fullText&&(e.currentQuiz.answerSound.play(),n=e.mQuizPanel.makeFullTextQuiz(e.currentQuiz.correctText,e.currentQuiz.wrongText)),e.mQuizPanel.onSelectAnswer=function(t,n){e.mSignalSign.removeWaitTimeCallback(),me["b"].delayedCall(1.5,Object(c["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n&&e.currentQuiz.quizType==Tr.word&&e.mDashBoard.showText(e.currentQuiz.correctWord),a.next=3,e.mQuizPanel.close();case 3:if(e.mSignalSign.start(),console.warn("isCorrect",n),0==n&&(e.mWrongCount+=1),console.log("_isAllQuizClear",e._isAllQuizClear(),e.mQuizs[e.mCurrentQuizStepIDX]),n&&(aa.Handle.appData.level>1&&e.currentQuiz.quizType==Tr.image&&e.mDashBoard.showDoll(e.mCurrentQuizStepIDX),e._isAllQuizClear()&&(e.currentQuiz.answerSound.play(),e.mDashBoard.openAllText())),t!=No.left){a.next=19;break}if(e.mDashBoard.handleLeft(),!n){a.next=15;break}return a.next=13,e.mRoad.moveCarLeft();case 13:a.next=17;break;case 15:return a.next=17,e.mRoad.moveCarLeftDie();case 17:a.next=27;break;case 19:if(e.mDashBoard.handleRight(),!n){a.next=25;break}return a.next=23,e.mRoad.moveCarRight();case 23:a.next=27;break;case 25:return a.next=27,e.mRoad.moveCarRightDie();case 27:n&&(e.mCurrentQuizIDX+=1),e.nextQuiz();case 29:case"end":return a.stop()}}),a)}))))},e.mSignalSign.onWaitTimeOut=Object(c["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("onWaitTimeOut",n),e.mWaitCount+=1,a=aa.Handle.currentGame.getViewerResource("rm_sfx_7.mp3").sound,a.play(),t.next=6,e.mQuizPanel.close();case 6:return t.next=8,e.mRoad.quizSet.displayPolice(n);case 8:if(n!=No.left){t.next=14;break}return e.mDashBoard.handleLeft(),t.next=12,e.mRoad.moveCarLeft();case 12:t.next=17;break;case 14:return e.mDashBoard.handleRight(),t.next=17,e.mRoad.moveCarRight();case 17:e.nextQuiz();case 18:case"end":return t.stop()}}),t)})));case 14:case"end":return t.stop()}}),t)}))))}},{key:"_isAllQuizClear",value:function(){return this.mCurrentQuizIDX>=this.mQuizs[this.mCurrentQuizStepIDX].length-1}},{key:"onEnd",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"main"==L.excuteMode&&""!=re.token?(console.log("스토리 매치 끝",this.game.gameName,aa.Handle.appData.bookID,ue.childSetting.lrngChoLvlCd,this.mWrongCount),wt.setActivityEnd({activity:this.game.gameName,endinfo:{bookID:aa.Handle.appData.bookID,lrngChoLvlCd:ue.childSetting.lrngChoLvlCd,wrongCount:this.mWrongCount}})):console.warn("스토리 매치 학습결과를 전송하지 않습니다."),this.mBGM&&this.mBGM.stop(),na["a"].stopAll(),me["b"].globalTimeline.clear(),console.log("틀린갯수 => [".concat(this.mWrongCount,"]")),console.log("미응답갯수 => [".concat(this.mWaitCount,"]")),e.next=8,this.game.startEOPScreen(1,!0);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"quizGameData",get:function(){return aa.Handle.currentGame.quizGameData}},{key:"currentQuiz",get:function(){return this.mQuizs.length<=this.mCurrentQuizStepIDX||this.mQuizs[this.mCurrentQuizStepIDX].length<=this.mCurrentQuizIDX?null:this.mQuizs[this.mCurrentQuizStepIDX][this.mCurrentQuizIDX]}}]),n}(Pa),Wr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.call(this,"match")}return Object(u["a"])(n,[{key:"onStartGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("STORYBOOK Match START"),e.next=3,this.startLoadingScreen();case 3:return e.next=5,T.a.post("".concat(N.Config.restAPIProd,"/storybooks/getViewerResource"),{activity:"match"});case 5:return t=e.sent,e.next=8,this._loadViewerResource(t.data);case 8:return e.next=10,T.a.post("".concat(N.Config.restAPIProd,"/storybooks/getProductResource"),{activity:"match",bookID:aa.Handle.appData.bookID});case 10:return n=e.sent,e.next=13,this._loadProductResource(n.data);case 13:return e.next=15,T.a.post("".concat(N.Config.restAPIProd,"/storybooks/getMatchData"),{bookID:aa.Handle.appData.bookID});case 15:a=e.sent,console.log("matchData",a.data.list),this.mQuizGameData=a.data.list,this.addScene("activity",new Vr),this.goScene("activity");case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onEndGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.warn("SB match END",this.playTime),e.next=3,ce.updatePlayTime(this.playTime);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"quizGameData",get:function(){return this.mQuizGameData}}]),n}(Oa),Qr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a){var i;Object(l["a"])(this,n),i=t.call(this),void 0==a?(a=!1,i.buttonMode=!1):(a=!0,i.buttonMode=!0),i.texture=aa.Handle.currentGame.getProductResource(e).texture,i.mTextureName=e,i.mNameTagMask=new PIXI.Container;var o=new PIXI.Graphics;return o.lineStyle(2,0,1),o.drawRect(0,0,i.width,i.height),o.endFill(),o.pivot.set(i.width/2,i.height/2),i.interactive=!0,i.setNameTag(),i.on("pointertap",(function(){i.onSelect(i.mTextureName)})),i}return Object(u["a"])(n,[{key:"setNameTag",value:function(){this.mNameTag=new PIXI.Text(ue.childNm);var e=28;this.mNameTag.width>200&&(e=18);var t=new PIXI.TextStyle({fontFamily:"BPreplay",fontSize:e,fontWeight:"bold"});if("mb_nametag_1.png"===this.mTextureName){this.addChild(this.mNameTagMask),this.mNameTagMask.width=130,this.mNameTagMask.height=130,this.mNameTagMask.position.set(-this.width/2+5,-this.height/2+5);var n=new PIXI.Graphics;n.beginFill(16776960,1),n.drawRoundedRect(0,0,130,130,20),n.endFill(),this.mNameTagMask.addChild(n);var a=new PIXI.Sprite(PIXI.Texture.from(ue.profileURL));a.width=130,a.height=130,this.mNameTagMask.addChild(a),!0===re.isDemoMode?this.mNameTag=new PIXI.Text("체험판 입니다.",t):this.mNameTag=new PIXI.Text(ue.childNm,t),this.mNameTag.position.set(-25,.6*this.mNameTag.height),this.addChild(this.mNameTag),a.mask=n}if("mb_nametag_2.png"===this.mTextureName){this.addChild(this.mNameTagMask),this.mNameTagMask.width=130,this.mNameTagMask.height=130,this.mNameTagMask.position.set(-63,-this.height/2+38);var i=new PIXI.Graphics;i.beginFill(16776960,1),i.drawRoundedRect(0,0,130,130,20),i.endFill(),this.mNameTagMask.addChild(i);var o=new PIXI.Sprite(PIXI.Texture.from(ue.profileURL));o.width=130,o.height=130,this.mNameTagMask.addChild(o),1==re.isDemoMode?this.mNameTag=new PIXI.Text("체험판 입니다.",t):this.mNameTag=new PIXI.Text(ue.childNm,t),this.mNameTag.position.set(-this.mNameTag.width/2,.6*this.mNameTagMask.height),this.addChild(this.mNameTag),o.mask=i}if("mb_nametag_3.png"===this.mTextureName){this.addChild(this.mNameTagMask),this.mNameTagMask.width=140,this.mNameTagMask.height=140,this.mNameTagMask.position.set(-this.width/2+5,-this.height/2+5);var r=new PIXI.Graphics;r.beginFill(16776960,1),r.drawCircle(70,70,70),r.endFill(),this.mNameTagMask.addChild(r);var s=new PIXI.Sprite(PIXI.Texture.from(ue.profileURL));s.width=140,s.height=140,this.mNameTagMask.addChild(s),s.mask=r,1==re.isDemoMode?this.mNameTag=new PIXI.Text("체험판 입니다.",t):this.mNameTag=new PIXI.Text(ue.childNm,t),this.mNameTag.position.set(-25,-this.mNameTag.height/3),this.addChild(this.mNameTag)}}},{key:"onSelect",value:function(e){}},{key:"checkSticker",value:function(e){return this.anchor.set(.5),0!=i.getColorByPoint(this,new PIXI.Point(e.data.global.x,e.data.global.y)).a&&(Ur.Handle.controller.show(this),Ur.Handle.selectSticker(this),e.stopPropagation(),!0)}},{key:"reCalcWidth",value:function(e){this.width>this.height?this.scale.set(e/this.width):this.scale.set(e/this.height)}}]),n}(PIXI.Sprite),Nr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e){var a;return Object(l["a"])(this,n),a=t.call(this),a.texture=aa.Handle.currentGame.getResource(e).texture,a.anchor.set(.5),a.interactive=!0,a.buttonMode=!0,a.on("pointerdown",(function(e){a.onClick(),e.stopPropagation()})),a}return Object(u["a"])(n,[{key:"onClick",value:function(){}}]),n}(PIXI.Sprite);(function(e){e[e["none"]=0]="none",e[e["rotate"]=1]="rotate",e[e["scale"]=2]="scale",e[e["move"]=3]="move"})(Fr||(Fr={}));var $r=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mCurrentMode=Fr.none,e.mRecDraw=new PIXI.Graphics,e.mRotateButton=new Nr("edit_rotation.png"),e.mScaleButton=new Nr("edit_scale.png"),e.mDeleteButton=new Nr("edit_close.png"),e.mRecDraw.interactive=!0,e.interactive=!0,e.on("pointerdown",(function(t){e.mCurrentMode=Fr.move})).on("pointermove",(function(t){if(e.mCurrentMode==Fr.rotate){var n=e.parent.toLocal(t.data.global),a=Math.atan2(e.mRotateButton.y,e.mRotateButton.x);e.rotateController(Math.atan2(n.y-e.y,n.x-e.x)-a)}if(e.mCurrentMode==Fr.scale){var i=e.parent.toLocal(t.data.global),o=new PIXI.Point(i.x-e.x,i.y-e.y),r=o.x/(1.25*e.mSelectedSticker.texture.width/2);(r>2.5||r<-2.5)&&(r=2.5),r<.4&&r>-.4&&(r=.4),e.mSelectedSticker.scale.set(Math.abs(r)),e.mRecDraw.clear(),e.mRecDraw.lineStyle(2,0,1),e.mRecDraw.drawRect(-e.mSelectedSticker.width/2,-e.mSelectedSticker.height/2,e.mSelectedSticker.width,e.mSelectedSticker.height),e.mRecDraw.hitArea=new PIXI.Rectangle(-e.mSelectedSticker.width/2,-e.mSelectedSticker.height/2,e.mSelectedSticker.width,e.mSelectedSticker.height),e.mRotateButton.position.set(e.mSelectedSticker.width/2+30,-e.mSelectedSticker.height/2),e.mScaleButton.position.set(e.mSelectedSticker.width/2+30,e.mSelectedSticker.height/2),e.mDeleteButton.position.set(-e.mSelectedSticker.width/2-30,-e.mSelectedSticker.height/2)}if(e.mCurrentMode==Fr.move){var s=e.parent.toLocal(t.data.global);e.position.set(s.x,s.y),e.moveController(s.x,s.y),s.x>950&&(e.mCurrentMode=Fr.none,me["b"].to(Object(ea["a"])(e),{x:800,duration:.5}),me["b"].to(e.mSelectedSticker,{x:800,duration:.5}))}})).on("pointerup",(function(t){e.mCurrentMode=Fr.none,t.stopPropagation()})).on("pointerupoutside",(function(t){e.mCurrentMode=Fr.none,t.stopPropagation()})),e.mDeleteButton.onClick=function(){e.mSelectedSticker&&Ur.Handle.deleteSticker(e.mSelectedSticker)},e.mRotateButton.onClick=function(){e.mCurrentMode=Fr.rotate},e.mScaleButton.onClick=function(){e.mCurrentMode=Fr.scale},e.mRecDraw.on("pointerdown",(function(t){0!=i.getColorByPoint(e.mSelectedSticker,new PIXI.Point(t.data.global.x,t.data.global.y)).a&&(e.mCurrentMode=Fr.move,t.stopPropagation()),t.stopPropagation()})),e.addChild(e.mRecDraw,e.mRotateButton,e.mScaleButton,e.mDeleteButton),e.hide(),e}return Object(u["a"])(n,[{key:"rotateController",value:function(e){this.rotation=e,this.mSelectedSticker&&(this.mSelectedSticker.rotation=e)}},{key:"moveController",value:function(e,t){this.mSelectedSticker&&this.mSelectedSticker.position.set(e,t)}},{key:"show",value:function(e){console.log("Show"),this.rotation=e.rotation,this.mSelectedSticker=e,this.position.set(e.position.x,e.position.y),this.mRecDraw.clear(),this.mRecDraw.lineStyle(2,0,1),this.mRecDraw.drawRect(-e.width/2,-e.height/2,e.width,e.height),this.mRecDraw.hitArea=new PIXI.Rectangle(-e.width/2,-e.height/2,e.width,e.height),this.mRotateButton.position.set(e.width/2+30,-e.height/2),this.mScaleButton.position.set(e.width/2+30,e.height/2),this.mDeleteButton.position.set(-e.width/2-30,-e.height/2),this.visible=!0,this.mCurrentMode=Fr.move}},{key:"hide",value:function(){this.visible=!1,this.mCurrentMode=Fr.none}},{key:"out",value:function(){this.mCurrentMode=Fr.none}}]),n}(PIXI.Container),qr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mComplete=aa.Handle.currentGame.getResource("out_on.png").texture,e.mUnComplete=aa.Handle.currentGame.getResource("out_off.png").texture,e.interactive=!1,e.texture=e.mUnComplete,e.hitArea=new PIXI.RoundedRectangle(e.x,e.y,e.width,e.height,25),e.on("pointerdown",(function(){Ur.Handle.focusOut()})).on("pointerover",(function(){Ur.Handle.focusOut()})).on("pointertap",Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!=re.isDemoMode){t.next=3;break}return j.a.fire({text:"체험판에서는 사용할수 없습니다."}),t.abrupt("return");case 3:return Ur.Handle.focusOut(),e.alpha=0,t.next=7,e.saveAndGo();case 7:e.alpha=1;case 8:case"end":return t.stop()}}),t)})))),e}return Object(u["a"])(n,[{key:"saveAndGo",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ns.Handle.makeScreenShot();case 2:aa.Handle.nextGame();case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"changeTexture",value:function(e){e?(this.texture=this.mComplete,this.interactive=!0,this.buttonMode=!0):(this.texture=this.mUnComplete,this.interactive=!1,this.buttonMode=!1)}}]),n}(PIXI.Sprite),Ur=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;Object(l["a"])(this,n),e=t.call(this),e.mCanvas=new PIXI.Sprite(aa.Handle.currentGame.getResource("canvas_bg.png").texture),e.mStickerContainer=new PIXI.Container,e.mTextContainer=new PIXI.Container,e.mCompleteButton=new qr,n._handle=Object(ea["a"])(e),e.addChild(e.mCanvas),e.mStickerArray=[],e.mStickerController=new $r,e.addChild(e.mStickerContainer,e.mTextContainer,e.mStickerController),e.mCompleteButton=new qr,e.addChild(e.mCompleteButton),e.mCompleteButton.position.set(e.width/2,15),e.interactive=!0,e.hitArea=new ta["Rectangle"](0,0,980,720);var a=PIXI.Sprite.from(aa.Handle.currentGame.getProductResource("mb_".concat(aa.Handle.appData.bookID,"_title.png")).texture);return e.mTextContainer.addChild(a),a.tint=0,e.on("pointerdown",(function(t){e.focusOut();var n,a=e.mStickerArray.slice(0).reverse(),i=Object(x["a"])(a);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(1==o.checkSticker(t))break}}catch(r){i.e(r)}finally{i.f()}})),e}return Object(u["a"])(n,[{key:"focusOut",value:function(){1==this.mStickerController.visible&&this.mStickerController.hide()}},{key:"tintCanvas",value:function(e){this.mCanvas.tint=e}},{key:"tintText",value:function(e,t){var n=PIXI.Sprite.from(aa.Handle.currentGame.getProductResource("mb_".concat(aa.Handle.appData.bookID,"_title.png")).texture);this.mTextContainer.removeChildren(),this.mTextContainer.addChild(n),n.tint=e}},{key:"makeSticker",value:function(e){var t=new Qr(e);if(t.position.set(this.width/2,this.height/2),t.anchor.set(.5),t.scale.set(.75),this.mStickerContainer.addChild(t),this.mStickerArray.push(t),this.mStickerArray.length<3)this.mCompleteButton.changeTexture(!1);else{if(3==this.mStickerArray.length){var n=aa.Handle.currentGame.getResource("mb_sfx_4.mp3").sound;n.play()}this.mCompleteButton.changeTexture(!0)}}},{key:"selectSticker",value:function(e){this.mStickerContainer.removeChild(e),this.mStickerContainer.addChild(e)}},{key:"deleteSticker",value:function(e){this.mStickerContainer.removeChild(e),this.mStickerArray.splice(this.mStickerArray.indexOf(e),1),this.mStickerController.hide(),this.mStickerArray.length<3&&this.mCompleteButton.changeTexture(!1)}},{key:"controller",get:function(){return this.mStickerController}}],[{key:"Handle",get:function(){return n._handle}}]),n}(PIXI.Container),Yr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(e,a,i,o){var r;return Object(l["a"])(this,n),r=t.call(this),r.mChecked=PIXI.Sprite.from(aa.Handle.currentGame.getResource(i).texture),r.addChild(r.mChecked),r.mChecked.alpha=0,r.mCheckedDeco=PIXI.Sprite.from(aa.Handle.currentGame.getResource("check_btn.png").texture),r.mCheckedDeco.anchor.set(.5),r.mCheckedDeco.position.set(r.mChecked.width/2,r.mCheckedDeco.height/3),o?(r.mUnChecked=new PIXI.Sprite(aa.Handle.currentGame.getResource(o).texture),r.addChild(r.mUnChecked),r.mContents=new PIXI.Sprite(aa.Handle.currentGame.getResource(a).texture),r.addChild(r.mContents)):(r.mContents=new PIXI.Sprite(aa.Handle.currentGame.getResource(a).texture),r.addChild(r.mContents)),r.mColorValue=e,r.buttonMode=!0,r.interactive=!0,r.on("pointertap",(function(e){r.onSelectColor(r.mColorValue)})),r}return Object(u["a"])(n,[{key:"reCalcWidth",value:function(e){this.width>this.height?this.scale.set(e/this.width):this.scale.set(e/this.height)}},{key:"onSelectColor",value:function(e){console.log("select Color:",e)}},{key:"clickButton",value:function(e){"text"==e&&(this.mChecked.alpha=1),"paint"==e&&(this.removeChild(this.mChecked),this.addChild(this.mChecked),this.mChecked.addChild(this.mCheckedDeco),this.mChecked.alpha=1)}},{key:"initButton",value:function(e){"text"==e&&(this.mChecked.alpha=0),"paint"==e&&(this.mChecked.alpha=0)}}]),n}(PIXI.Container),Kr=[12060166,1739808,15842048,16617292,4893863,2735087,12678356,0,12500670],Jr=[15882752,3452730,561032,16765720,45543,16003669,13705248,9026587,223927,10955497,9979418,11119017],Zr=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;Object(l["a"])(this,n),e=t.call(this),e.mStickerButton=new PIXI.Sprite,e.mTextScreen=new PIXI.Container,e.mTextBox=new PIXI.Container,e.mPaintScreen=new PIXI.Container,e.mPaintBox=new PIXI.Container,e.mTextBackupY=0,e.mTextBackupPosY=0,e.mPaintBackupY=0,e.mPaintBackupPosY=0,e.mTextBoxDrag=!1,e.mTextBoxDragMove=!1,e.mPaintBoxDrag=!1,e.mPaintBoxDragMove=!1,e.mWheelFlag=!0;var a=PIXI.Sprite.from(aa.Handle.currentGame.getResource("text_toolbar_bg.png").texture);return e.mTextArray=[],e.mPaintArray=[],e.mTextScreen.position.set(10,80),e.mTextScreen.addChild(e.mTextBox),e.mPaintScreen.position.set(10,310),e.mPaintScreen.addChild(e.mPaintBox),e.addChild(a,e.mTextScreen,e.mPaintScreen),e.makeText(),e.makePaint(),e.makeTextMask(),e.makePaintMask(),e.mTextScreen.hitArea=new ta["Rectangle"](0,0,300,390),e.mTextScreen.interactive=!0,e.mTextScreen.buttonMode=!0,e.mPaintScreen.hitArea=new ta["Rectangle"](0,0,300,390),e.mPaintScreen.interactive=!0,e.mPaintScreen.buttonMode=!0,e.mStickerButton.interactive=!0,e.mStickerButton.buttonMode=!0,e.mStickerButton.hitArea=new ta["Rectangle"](162,0,162,70),e.addChild(e.mStickerButton),e.mStickerButton.on("pointertap",(function(){e.parent.onSticker()})),e.mPaintScreen.on("pointerdown",(function(t){e.mPaintBoxDrag=!0,e.mPaintBoxDragMove=!1;var n=e.toLocal(t.data.global);e.mPaintBackupY=n.y,e.mPaintBackupPosY=e.mPaintBox.y})).on("pointermove",(function(t){if(e.mPaintBoxDrag){var n=e.toLocal(t.data.global),a=n.y-e.mPaintBackupY;a>-80&&a<80||(e.mPaintBoxDragMove=!0),e.mPaintBox.y=e.mPaintBackupPosY+a,e.mPaintBox.y>0&&(e.mPaintBox.y=0),e.mPaintBox.y<-(e.mPaintBox.height-370)&&(e.mPaintBox.y=-(e.mPaintBox.height-370))}})).on("pointerup",(function(){e.mPaintBoxDrag=!1})).on("pointerupoutside",(function(){e.mPaintBoxDrag=!1})),window.addEventListener("mousewheel",(function(t){e.paintBoxWheelFlag&&(t["deltaY"]>0?(e.mPaintBox.y-=50,e.mPaintBox.y<-(e.mPaintBox.height-370)&&(e.mPaintBox.y=-(e.mPaintBox.height-370))):(e.mPaintBox.y+=50,e.mPaintBox.y>0&&(e.mPaintBox.y=0)))})),e}return Object(u["a"])(n,[{key:"makeText",value:function(){var e=this;this.mTextBox.removeChildren();for(var t=20,n=120,a=220,i=0,o=function(o){var r=new Yr(Kr[o],"text_".concat(o+1,".png"),"check_text_btn.png");r.onSelectColor=function(t){Ur.Handle.tintText(Kr[o],o+1);var n=aa.Handle.currentGame.getResource("mb_sfx_3.mp3").sound;n.play(),console.log("%c 텍스트버튼 눌렀을때 소리 교체 필요","border:1px red solid;"),e.initTextButton(),r.clickButton("text")},r.y=i;var s=o%3;0==s?r.position.set(t,i):1==s?r.position.set(n,i):(r.position.set(a,i),i+=r.height),e.mTextArray.push(r),e.mTextBox.addChild(r)},r=0;r<Kr.length;r++)o(r)}},{key:"initTextButton",value:function(){for(var e=0;e<Kr.length;e++)this.mTextArray[e].initButton("text")}},{key:"makeTextMask",value:function(){this.mTextMask=new PIXI.Graphics,this.mTextMask.beginFill(16711680,.5),this.mTextMask.drawRoundedRect(10,80,300,220,25),this.mTextMask.endFill(),this.mTextBox.mask=this.mTextMask,this.addChild(this.mTextMask)}},{key:"makePaint",value:function(){var e=this;this.mPaintBox.removeChildren();for(var t=10,n=150,a=10,i=function(i){var o=new Yr(Jr[i],"paint_".concat(i+1,".png"),"check_box.png","paint_box.png");o.onSelectColor=function(t){if(0==e.mPaintBoxDragMove){var n=aa.Handle.currentGame.getResource("mb_sfx_3.mp3").sound;n.play(),Ur.Handle.tintCanvas(t),e.initPaintButton(),o.clickButton("paint")}},o.y=a,i%2?(o.x=n,a+=o.height+10):o.x=t,e.mPaintArray.push(o),e.mPaintBox.addChild(o)},o=0;o<Jr.length;o++)i(o)}},{key:"initPaintButton",value:function(){for(var e=0;e<12;e++)this.mPaintArray[e].initButton("paint")}},{key:"makePaintMask",value:function(){this.mPaintMask=new PIXI.Graphics,this.mPaintMask.beginFill(16711680,.5),this.mPaintMask.drawRect(10,310,310,390),this.mPaintMask.endFill(),this.mPaintBox.mask=this.mPaintMask,this.addChild(this.mPaintMask)}},{key:"paintBoxWheelFlag",get:function(){return this.mWheelFlag},set:function(e){this.mWheelFlag=e}}]),n}(PIXI.Container),es=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;Object(l["a"])(this,n),e=t.call(this),e.mTextButton=new PIXI.Sprite,e.mStickerRect=new PIXI.Container,e.mStickerBox=new PIXI.Container,e.mBackupY=0,e.mBackupPosY=0,e.mStickBoxDrag=!1,e.mStickerFlag=!0,e.mWheelFlag=!1;var a=PIXI.Sprite.from(aa.Handle.currentGame.getResource("sticker_toolbar_bg.png").texture);return e.addChild(a),e.mStickerRect.position.set(10,80),e.addChild(e.mStickerRect),e.mStickerRect.addChild(e.mStickerBox),e.makeStickerList(),e.makeMask(),e.mStickerRect.hitArea=new ta["Rectangle"](0,0,300,640),e.mStickerRect.interactive=!0,e.mStickerRect.buttonMode=!0,e.addChild(e.mTextButton),e.mTextButton.hitArea=new ta["Rectangle"](0,0,162,70),e.mTextButton.interactive=!0,e.mTextButton.buttonMode=!0,e.mTextButton.on("pointertap",(function(){e.parent.onText()})),e.mStickerRect.on("pointerdown",(function(t){e.mStickBoxDrag=!0;var n=e.toLocal(t.data.global);e.mBackupY=n.y,e.mBackupPosY=e.mStickerBox.y})).on("pointermove",(function(t){if(e.mStickBoxDrag){var n=e.toLocal(t.data.global),a=n.y-e.mBackupY;e.mStickerFlag=a>-80&&a<80,e.mStickerBox.y=e.mBackupPosY+a,e.mStickerBox.y>0&&(e.mStickerBox.y=0),e.mStickerBox.y<-(e.mStickerBox.height-600)&&(e.mStickerBox.y=-(e.mStickerBox.height-600))}})).on("pointerup",(function(t){e.mStickBoxDrag=!1,e.mStickerFlag=!0})).on("pointerupoutside",(function(t){e.mStickBoxDrag=!1,e.mStickerFlag=!0})).on("pointerout",(function(t){e.mStickBoxDrag=!1,e.mStickerFlag=!0})),window.addEventListener("mousewheel",(function(t){e.stickerWheelFlag&&(t["deltaY"]>0?(e.mStickerBox.y-=50,e.mStickerBox.y<-(e.mStickerBox.height-600)&&(e.mStickerBox.y=-(e.mStickerBox.height-600))):(e.mStickerBox.y+=50,e.mStickerBox.y>0&&(e.mStickerBox.y=0)))})),e}return Object(u["a"])(n,[{key:"makeStickerList",value:function(){var e=this;this.mStickerBox.removeChildren();for(var t=80,n=230,a=60,i=0;i<14;i++){if(i<10)this.mSticker=new Qr("mb_".concat(aa.Handle.appData.bookID,"_").concat(i+1,".png"),!0);else{var o=["mb_logo.png","mb_nametag_1.png","mb_nametag_2.png","mb_nametag_3.png"];this.mSticker=new Qr(o[i-10],!0),this.mSticker.setNameTag()}this.mSticker.anchor.set(.5),this.mSticker.reCalcWidth(100),this.mSticker.onSelect=function(t){if(e.mStickerFlag){console.log("select Sticker:",t),Ur.Handle.makeSticker(t);var n=aa.Handle.currentGame.getResource("mb_sfx_2.mp3").sound;n.play()}},this.mSticker.y=a,i%2?(this.mSticker.x=n,a+=140):this.mSticker.x=t,this.mStickerBox.addChild(this.mSticker),me["b"].to(this.mSticker,{rotation:.1,duration:1}).yoyo(!0).repeat(-1)}}},{key:"makeMask",value:function(){this.mMask=new PIXI.Graphics,this.mMask.beginFill(16711680,.5),this.mMask.drawRect(20,90,280,620),this.mMask.endFill(),this.mStickerBox.mask=this.mMask,this.addChild(this.mMask)}},{key:"stickerRoot",get:function(){return this.mStickerBox}},{key:"stickerWheelFlag",get:function(){return this.mWheelFlag},set:function(e){this.mWheelFlag=e}}]),n}(PIXI.Container),ts=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),n._handle=Object(ea["a"])(e),e.mTapSound=aa.Handle.currentGame.getResource("mb_sfx_1.mp3").sound,e.mTextStage=new Zr,e.mStickerStage=new es,e.addChild(e.mTextStage),e}return Object(u["a"])(n,[{key:"onSticker",value:function(){var e=this;this.mTapSound.play(),this.removeChildren(),this.addChild(this.mStickerStage),this.addChild(this.mTextStage),me["b"].to(this.mTextStage,{alpha:0,duration:.3}).eventCallback("onComplete",(function(){e.removeChild(e.mTextStage),e.mTextStage.alpha=1,e.mStickerStage.stickerWheelFlag=!0,e.mTextStage.paintBoxWheelFlag=!1}))}},{key:"onText",value:function(){var e=this;this.mTapSound.play(),this.removeChildren(),this.addChild(this.mTextStage),this.addChild(this.mStickerStage),me["b"].to(this.mStickerStage,{alpha:0,duration:.3}).eventCallback("onComplete",(function(){e.removeChild(e.mStickerStage),e.mStickerStage.alpha=1,e.mTextStage.paintBoxWheelFlag=!0,e.mStickerStage.stickerWheelFlag=!1}))}}],[{key:"Handle",get:function(){return n._handle}}]),n}(PIXI.Container),ns=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mCanvas=new Ur,e.mSideBar=new ts,n._handle=Object(ea["a"])(e),e.mSideBar.position.set(1280-e.mSideBar.width,0),e.addChild(e.mCanvas),e.addChild(e.mSideBar),e.mShotEffect=new PIXI.Graphics,e.mShotEffect.beginFill(16777215),e.mShotEffect.drawRect(0,0,1280,720),e.mShotEffect.endFill(),e.mShotEffect.blendMode=PIXI.BLEND_MODES.ADD,e}return Object(u["a"])(n,[{key:"makeScreenShot",value:function(){var e=this;return new Promise((function(t,n){var a=PIXI.RenderTexture.create({width:951,height:720});aa.Handle.renderer.render(e.mCanvas,a),e.addChild(e.mShotEffect),me["b"].to(e.mShotEffect,{alpha:0,duration:.5}).eventCallback("onComplete",(function(){e.removeChild(e.mShotEffect)}));var i=aa.Handle.renderer.extract.canvas(a);i.toBlob((function(e){if("main"==N.Config.excuteMode&&""!=re.token){var t=new FormData;t.set("bookID",aa.Handle.appData.bookID),t.set("screenshot",e),T.a.post("".concat(N.Config.restAPIProd,"/learning/child/storybook/screenshot"),t)}else if(navigator.msSaveBlob)navigator.msSaveBlob(e,"capture.png");else{navigator;var n=document.createElement("a");n.download="capture.png",n.href=i.toDataURL("image/png"),document.body.appendChild(n),n.click(),document.body.removeChild(n)}}),"image/png"),me["b"].delayedCall(1,(function(){t()}))}))}}],[{key:"Handle",get:function(){return n._handle}}]),n}(PIXI.Container),as=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mBGM=aa.Handle.currentGame.getResource("mb_bgm.mp3").sound,e.mStage=new ns,e}return Object(u["a"])(n,[{key:"onInit",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.addChild(this.mStage),e.next=3,this.game.endLoadingScreen();case 3:this.start();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onStart",value:function(){var e=this;me["b"].delayedCall(1,(function(){e.game.goScene("activity")}))}},{key:"onEnd",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(Pa),is=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mBGM=aa.Handle.currentGame.getResource("mb_bgm.mp3").sound,e.mStage=new ns,e}return Object(u["a"])(n,[{key:"onInit",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.addChild(this.mStage),e.next=3,this.game.endLoadingScreen();case 3:return e.next=5,this.game.startReadyScreen(-1,"sb_makingbook");case 5:this.start();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onStart",value:function(){na["a"].stopAll(),this.mBGM.play({loop:!0}),window.onkeyup=function(e){"+"==e.key&&(aa.Handle.nextGame(),window.onkeyup=null)}}},{key:"onEnd",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"main"==L.excuteMode&&""!=re.token?(console.log("스토리 메이킹북 끝",this.game.gameName,aa.Handle.appData.bookID,ue.childSetting.lrngChoLvlCd),wt.setActivityEnd({activity:this.game.gameName,endinfo:{bookID:aa.Handle.appData.bookID,lrngChoLvlCd:ue.childSetting.lrngChoLvlCd,complete:!0}})):console.warn("스토리 메이킹북 학습결과를 전송하지 않습니다."),na["a"].stopAll(),me["b"].globalTimeline.clear(),e.next=5,this.game.startEOPScreen(0,!0);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(Pa),os=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.call(this,"makingbook")}return Object(u["a"])(n,[{key:"onStartGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.startLoadingScreen();case 2:return console.log("MAKING BOOK LOADING"),e.next=5,T.a.post("".concat(N.Config.restAPIProd,"/storybooks/getViewerResource"),{activity:"makingbook"});case 5:return t=e.sent,e.next=8,this._loadViewerResource(t.data);case 8:return e.next=10,T.a.post("".concat(N.Config.restAPIProd,"/storybooks/getProductResource"),{activity:"makingbook",bookID:aa.Handle.appData.bookID});case 10:return n=e.sent,e.next=13,this._loadProductResource(n.data);case 13:this.addScene("intro",new as),this.addScene("activity",new is),this.goScene("activity");case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onEndGame",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.warn("SB makingbook END",this.playTime),e.next=3,ce.updatePlayTime(this.playTime);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onAppMassage",value:function(){}}]),n}(Oa),rs=null,ss=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.call(this)}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=this;console.log("category:",this.category),console.log("activityAL:",this.activityAL),console.log("activitySB:",this.activitySB),rs=new aa(this.$refs.stage,this.category,this.isMobileMode),"alphabet"==this.category?(""==this.activityAL&&(this.activityAL="catch"),rs.onCloseApp=function(){e.$emit("onClose")},rs.registGame(new za),rs.registGame(new Ua),rs.registGame(new ai),rs.registGame(new ji),rs.registGame(new mo),console.log(" start APP",{symbol:this.alphabet,level:this.level}),rs.startApp({category:this.category,symbol:this.alphabet,level:this.level},this.activityAL)):"mypet"==this.category?(rs.onCloseApp=function(){e.$emit("onClose")},rs.registGame(new Po),rs.startApp({category:this.category})):"storybooks"==this.category&&(""==this.activitySB&&(this.activitySB="movie"),rs.onCloseApp=function(){e.$emit("onClose")},rs.registGame(new Lo),rs.registGame(new Wo),rs.registGame(new Sr),rs.registGame(new Wr),rs.registGame(new jr),rs.registGame(new ur),rs.registGame(new os),rs.startApp({category:this.category,bookID:this.bookID,level:this.level},this.activitySB))}},{key:"_goFullScreen",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(window["video"]&&window["video"].pause(),"salesKit"!==N.Config.excuteMode){e.next=10;break}return e.prev=2,e.next=5,document.documentElement.requestFullscreen({navigationUI:"hide"});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](2),alert(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){console.error("destroy ApP"),window.PIXI=null}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])()],ss.prototype,"isMobileMode",void 0),Object(d["a"])([Object(p["b"])()],ss.prototype,"level",void 0),Object(d["a"])([Object(p["b"])()],ss.prototype,"category",void 0),Object(d["a"])([Object(p["b"])()],ss.prototype,"alphabet",void 0),Object(d["a"])([Object(p["b"])()],ss.prototype,"bookID",void 0),Object(d["a"])([Object(p["b"])({default:"catch"})],ss.prototype,"activityAL",void 0),Object(d["a"])([Object(p["b"])({default:"movie"})],ss.prototype,"activitySB",void 0),ss=Object(d["a"])([Object(p["a"])({})],ss);var cs=ss,ls=cs,us=(n("3eed"),Object(S["a"])(ls,Jn,Zn,!1,null,"50b98ab4",null)),ms=us.exports,hs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.mShowFlag?n("div",{staticClass:"ParentCheckPopup",on:{click:function(t){return e._onClose()}}},[n("div",{staticClass:"popup-body",on:{click:function(e){e.stopPropagation()}}},[n("img",{staticClass:"title",attrs:{src:"img/parent/checkpopup_head.png"}}),n("div",{staticClass:"head"},[n("div",{staticClass:"quiz"},[e._v(" "+e._s(e.mArg1)+" X "+e._s(e.mArg2)+" ")]),n("div",{staticClass:"answer"},[e._v(" "+e._s(e.mInputNumberValue)+" ")])]),n("div",{staticClass:"inputpad"},[n("div",{staticClass:"inputrow"},[n("div",{staticClass:"numbtn",on:{click:function(t){return t.stopPropagation(),e._onClickNum(1)}}},[e._v("1")]),n("div",{staticClass:"numbtn",on:{click:function(t){return t.stopPropagation(),e._onClickNum(2)}}},[e._v("2")]),n("div",{staticClass:"numbtn",on:{click:function(t){return t.stopPropagation(),e._onClickNum(3)}}},[e._v("3")])]),n("div",{staticClass:"inputrow"},[n("div",{staticClass:"numbtn",on:{click:function(t){return t.stopPropagation(),e._onClickNum(4)}}},[e._v("4")]),n("div",{staticClass:"numbtn",on:{click:function(t){return t.stopPropagation(),e._onClickNum(5)}}},[e._v("5")]),n("div",{staticClass:"numbtn",on:{click:function(t){return t.stopPropagation(),e._onClickNum(6)}}},[e._v("6")])]),n("div",{staticClass:"inputrow"},[n("div",{staticClass:"numbtn",on:{click:function(t){return t.stopPropagation(),e._onClickNum(7)}}},[e._v("7")]),n("div",{staticClass:"numbtn",on:{click:function(t){return t.stopPropagation(),e._onClickNum(8)}}},[e._v("8")]),n("div",{staticClass:"numbtn",on:{click:function(t){return t.stopPropagation(),e._onClickNum(9)}}},[e._v("9")])]),n("div",{staticClass:"inputrow"},[n("div",{staticClass:"numbtn",staticStyle:{width:"9.9rem"},on:{click:function(t){return t.stopPropagation(),e._onClickNum(0)}}},[e._v("0")]),n("div",{staticClass:"numbtn",on:{click:function(t){return t.stopPropagation(),e._onClickNum(-1)}}},[n("img",{attrs:{src:"img/parent/backspace.png"}})])])])])]):e._e()},ds=[],ps=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mArg1=1,e.mArg2=1,e.mInputNumberValue="",e.mShowFlag=!1,e}return Object(u["a"])(n,[{key:"mounted",value:function(){this.init()}},{key:"init",value:function(){this.mInputNumberValue="",this.mArg1=Math.floor(8*Math.random())+2;do{this.mArg2=Math.floor(9*Math.random())+1}while(this.mArg1*this.mArg2<10)}},{key:"show",value:function(e){this.init(),this.mShowFlag=!0,this.mCorrectCB=e}},{key:"close",value:function(){this.mShowFlag=!1,this.mCorrectCB=null}},{key:"_onClose",value:function(){console.log("CLOSE"),this.close()}},{key:"_onClickNum",value:function(e){var t=this,n="".concat(this.mArg1*this.mArg2);-1==e?this.mInputNumberValue.length>0&&(this.mInputNumberValue=this.mInputNumberValue.slice(0,-1)):(this.mInputNumberValue+=e.toString(),this.mInputNumberValue.length>=2&&(this.mInputNumberValue=this.mInputNumberValue.slice(0,2),this.mInputNumberValue==n?(console.log("correct",n),me["c"].delayedCall(.2,(function(){t.mCorrectCB&&t.mCorrectCB(),t.close()}))):console.log("wrong",n)))}}]),n}(p["c"]);ps=Object(d["a"])([p["a"]],ps);var fs=ps,gs=fs,vs=(n("7471"),Object(S["a"])(gs,hs,ds,!1,null,"9f0951a2",null)),bs=vs.exports,ys=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showRestartPopupFlag?n("div",{staticClass:"dimmed"},[n("div",{staticClass:"popup-body",on:{click:function(e){e.stopPropagation()}}},[e._m(0),e._m(1),n("div",{staticClass:"restartBTN"},[n("img",{attrs:{src:"img/lobby/btn_restart.png"},on:{click:function(t){return e._restart()}}})])])]):e._e()},Cs=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"logo"},[n("img",{attrs:{src:"img/lobby/img_kids.png"}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comment"},[n("p",[e._v("The time for today is over."),n("br"),e._v(" See you next time!"),n("br"),e._v(" Bye bye!")])])}],ks=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_close",value:function(){this.$emit("onClose")}},{key:"_restart",value:function(){var e=this;this.$parent.$refs.ParentCheckPopup.show(Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return re.resetTimer(),t.next=3,ce.resetTime();case 3:return t.next=5,ue.getHomeData();case 5:e.$emit("onClose");case 6:case"end":return t.stop()}}),t)}))))}},{key:"showRestartPopupFlag",get:function(){return ue.remainTime<=0}}]),n}(p["c"]);ks=Object(d["a"])([p["a"]],ks);var Ss=ks,ws=Ss,_s=(n("9eed"),Object(S["a"])(ws,ys,Cs,!1,null,"386050dc",null)),xs=_s.exports,Is=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.mShowFlag&&!e.showRestartPopupFlag?n("div",{staticClass:"dimmed",on:{click:function(t){return e._onClose()}}},[n("div",{staticClass:"popup-body"},[n("div",{staticClass:"head"},[n("div",{staticClass:"stat"},[n("div",{staticClass:"row"},[n("div",{staticClass:"title"},[e._v("이름")]),n("div",{staticClass:"text"},[e._v(e._s(e.name))])]),n("div",{staticClass:"row"},[n("div",{staticClass:"title"},[e._v("레벨")]),n("div",{staticClass:"text"},[e._v(e._s(e.level))])]),n("div",{staticClass:"row"},[n("div",{staticClass:"title"},[e._v("완독도서")]),n("div",{staticClass:"text"},[e._v(e._s(e.completeCount))])])]),n("div",{staticClass:"profile"},[n("img",{attrs:{width:"100%",src:this.thumbURL}})])]),n("div",{staticClass:"inputpad"},[n("div",{staticClass:"inputrow"},[n("img",{attrs:{src:"img/lobby/img_time.png"}}),e.unlimitMode?e._e():n("span",{staticClass:"remainT"},[e._v(e._s(e.remainTString))]),e.unlimitMode?n("span",{staticClass:"remainT",staticStyle:{color:"#CCC"}},[e._v("무제한")]):e._e()])])])]):e._e()},Os=[],Ps=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mShowFlag=!1,e.mArg1=1,e.mArg2=1,e.mInputNumberValue="",e}return Object(u["a"])(n,[{key:"show",value:function(){this.mShowFlag=!0}},{key:"close",value:function(){ce.updateRemainByCurrent(),this.mShowFlag=!1}},{key:"mounted",value:function(){this.mArg1=Math.floor(8*Math.random())+2;do{this.mArg2=Math.floor(9*Math.random())+1}while(this.mArg1*this.mArg2<10)}},{key:"_onClose",value:function(){this.close()}},{key:"_onClickNum",value:function(e){var t=this,n="".concat(this.mArg1*this.mArg2);-1==e?this.mInputNumberValue.length>0&&(this.mInputNumberValue=this.mInputNumberValue.slice(0,-1)):(this.mInputNumberValue+=e.toString(),this.mInputNumberValue.length>=2&&(this.mInputNumberValue=this.mInputNumberValue.slice(0,2),this.mInputNumberValue==n?(console.log("correct",n),me["c"].delayedCall(.2,(function(){t.$emit("onPassParentCheck")}))):console.log("wrong",n)))}},{key:"name",get:function(){return null==ue.homeData?"---":ue.homeData.userInfo.childNm}},{key:"level",get:function(){return null==ue.homeData?"--":ue.homeData.userInfo.lrngChoLvlCd==Q.easy?"Lev.1":ue.homeData.userInfo.lrngChoLvlCd==Q.normal?"Lev.2":ue.homeData.userInfo.lrngChoLvlCd==Q.hard?"Lev.3":"--"}},{key:"completeCount",get:function(){return null==ue.homeData?"0권":"".concat(ue.homeData.userInfo.cpltBookCnt,"권")}},{key:"thumbURL",get:function(){return null==ue.homeData?"img/lobby/nouser.png":ue.homeData.userInfo.profileUrl}},{key:"showRestartPopupFlag",get:function(){return ue.remainTime<0}},{key:"remainTString",get:function(){var e=Math.floor(ue.remainTime/3600),t=Math.floor(ue.remainTime%3600/60),n=Math.floor(ue.remainTime%60);return"".concat(("0"+e).substr(-2),":").concat(("0"+t).substr(-2),":").concat(("0"+n).substr(-2))}},{key:"unlimitMode",get:function(){return null==ue.childSetting||ue.childSetting.isNonLimitToPlay}}]),n}(p["c"]);Ps=Object(d["a"])([p["a"]],Ps);var Rs=Ps,js=Rs,Ds=(n("55b1"),Object(S["a"])(js,Is,Os,!1,null,"6125adb0",null)),Ts=Ds.exports,Bs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dimmed"},[n("div",{staticClass:"popup-body",on:{click:function(e){e.stopPropagation()}}},[n("img",{staticClass:"logo",attrs:{src:"img/parent/pop_logo.png"}}),n("div",{staticClass:"container"},[e._v(" 체험판 기간이 끝났습니다. ")]),n("img",{staticClass:"submitBTN",attrs:{src:"img/submit.png"},on:{click:e._submit}})])])},Ls=[],As=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"mounted",value:function(){}},{key:"_submit",value:function(){history.back()}}]),n}(p["c"]);As=Object(d["a"])([Object(p["a"])({})],As);var Ms=As,Gs=Ms,Es=(n("342e"),Object(S["a"])(Gs,Bs,Ls,!1,null,"7400fddc",null)),Xs=Es.exports,Hs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dimmed"},[n("div",{staticClass:"popup-body",on:{click:function(e){e.stopPropagation()}}},[n("img",{staticClass:"logo",attrs:{src:"img/parent/pop_logo.png"}}),n("div",{staticClass:"container"},[n("div",{staticClass:"title"},[e._v("레벨 선택")]),n("div",{staticClass:"subpanel"},[n("div",{staticClass:"subpanel-contents"},[n("label",{staticClass:"checkcontainer"},[e._v("레벨 1 "),n("span",{staticClass:"pick"},[e._v("(0~24개월 권장)")]),n("input",{attrs:{type:"radio",name:"level"},domProps:{checked:1==this.value?"checked":""},on:{click:function(t){return e._select(1)}}}),n("span",{staticClass:"checkmark"})])]),n("div",{staticClass:"subpanel-contents"},[n("label",{staticClass:"checkcontainer"},[e._v("레벨 2 "),n("span",{staticClass:"pick"},[e._v("(24~48개월 권장)")]),n("input",{attrs:{type:"radio",name:"level"},domProps:{checked:2==this.value?"checked":""},on:{click:function(t){return e._select(2)}}}),n("span",{staticClass:"checkmark"})])]),n("div",{staticClass:"subpanel-contents"},[n("label",{staticClass:"checkcontainer"},[e._v("레벨 3 "),n("span",{staticClass:"pick"},[e._v("(48개월 이상 권장)")]),n("input",{attrs:{type:"radio",name:"level"},domProps:{checked:3==this.value?"checked":""},on:{click:function(t){return e._select(3)}}}),n("span",{staticClass:"checkmark"})])])])]),e._m(0),n("img",{staticClass:"submitBTN",attrs:{src:"img/submit.png"},on:{click:e._submit}})])])},zs=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comment"},[n("ul",[n("li",[e._v(" 월령별 인지능력에 따라 레벨별 활동 난이도에 차이가 있습니다. ")]),n("li",[e._v(" 권장 레벨은 참고 사항으로 자녀에게 맞는 레벨로 활동하도록 해주세요. ")]),n("li",[e._v(" 레벨은 체험판을 시작할 때마다 다시 선택 가능합니다. ")])])])}],Fs=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mValue=2,e}return Object(u["a"])(n,[{key:"mounted",value:function(){}},{key:"_select",value:function(e){this.mValue=e}},{key:"_submit",value:function(){ue.SetDemoLevel(this.mValue)}},{key:"value",get:function(){return this.mValue}}]),n}(p["c"]);Fs=Object(d["a"])([Object(p["a"])({})],Fs);var Vs=Fs,Ws=Vs,Qs=(n("f331"),Object(S["a"])(Ws,Hs,zs,!1,null,"e49dea0a",null)),Ns=Qs.exports,$s=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.pageIndex="Home",e.isShowCanvas=!1,e.showTubPlayerFlag=!1,e.babyTubeFlag=!1,e.menu=[{label:"홈",pageIDX:"Home",img:"btn1",selected:!1},{label:"베이비튜브",pageIDX:"BabyTube",img:"btn4",selected:!1},{label:"스토리",pageIDX:"StoryBook",img:"btn2",selected:!1},{label:"알파벳스쿨",pageIDX:"AlphabetSchool",img:"btn3",selected:!1},{label:"맘앤대디",pageIDX:"MomAndDaddy",img:"btn5",selected:!1}],e.userinfo={},e.babytubeFilterData={filter:"favorite"},e.mCurrentCategory="alphabet",e.mCurrentSymbol="A",e.mCurrentBookID="2004",e.mCurrentActivitySB="movie",e}return Object(u["a"])(n,[{key:"mounted",value:function(){}},{key:"selectHomeTab",value:function(e){this.pageIndex=e;for(var t=0,n=0;n<this.menu.length;n++)this.menu[n].pageIDX==this.pageIndex&&(t=n),this.menu[n].selected=!1;this.menu[t].selected=!0}},{key:"_onSelecedTab",value:function(e){var t="Home";0==e&&(t="Home"),1==e&&(t="BabyTube"),2==e&&(t="StoryBook"),3==e&&(t="AlphabetSchool"),this.selectHomeTab(t)}},{key:"openCanvasPortrait",value:function(){this.isShowCanvas=!0}},{key:"openCanvasLandscape",value:function(){this.isShowCanvas=!0}},{key:"showTubePlayer",value:function(e){this.showTubPlayerFlag=!0,this.babytubeFilterData=e,console.log("Tube Player:",this.babytubeFilterData)}},{key:"_onShowAlphabetSchool",value:function(e){this.mCurrentCategory="alphabet",this.mCurrentSymbol=e;var t=this.$root.$children[0];t.showActivity({category:this.mCurrentCategory,symbol:this.mCurrentSymbol}),console.log("Lobby._onShowAlphabetSchool",this.mCurrentCategory,this.mCurrentSymbol)}},{key:"_onShowStoryBook",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"catch";console.log("Lobby._onShowStoryBook",e,t),this.mCurrentCategory="storybooks",this.mCurrentBookID=e,this.mCurrentActivitySB=t;var n=this.$root.$children[0];n.showActivity({category:this.mCurrentCategory,bookID:this.mCurrentBookID,startActivity:this.mCurrentActivitySB})}},{key:"_closeActivity",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("_closeActivity"),ce.updateRemainByCurrent(),e.next=4,ue.getHomeData();case 4:this.$nextTick((function(){t.isShowCanvas=!1}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_closeTube",value:function(){ce.updateRemainByCurrent(),this.showTubPlayerFlag=!1}},{key:"_selectHomeMenu",value:function(e){if(console.log("Lobby._selectHomeMenu",e),"mypet"==e.toLowerCase()){if(ue.homeData.userInfo.acornCnt<5)return void re.popup.showMessageHelp("보유 도토리가 5개 이상이어야 마이펫에 입장할수 있습니다.");ce.chargeAcorn({acornChargeCnt:-5}),this.mCurrentCategory="mypet";var t=this.$root.$children[0];t.showActivity({category:"mypet"})}else"myroom"==e.toLowerCase()?re.setCurrentPage("MyRoom"):"babytube"==e.toLowerCase()&&this.selectHomeTab("BabyTube")}},{key:"_clickParentSetup",value:function(){this.$refs.ParentCheckPopup.show((function(){re.setCurrentPage("ParentSetup")}))}},{key:"_showActiveTime",value:function(){this.$refs.ActiveTimePopup.show()}},{key:"demoEnableFlag",get:function(){return!re.isDemoEnable}},{key:"demoLevelChoiceFlag",get:function(){return 0!=re.isDemoMode&&(0!=re.isDemoEnable&&-1==ue.demoLevel)}},{key:"currentLevel",get:function(){return 1==re.isDemoMode?ue.demoLevel:null==ue.childSetting||ue.childSetting.lrngChoLvlCd==Q.easy?1:ue.childSetting.lrngChoLvlCd==Q.normal?2:ue.childSetting.lrngChoLvlCd==Q.hard?3:0}}]),n}(p["c"]);$s=Object(d["a"])([Object(p["a"])({components:{ProfileBar:Ie,TabPageNavi:Te,LobbyList:jn,Home:vt,StoryBook:Lt,AlphabetSchool:on,BabyTube:_n,BabyTubePlayer:Kn,ActivityPlayer:ms,ParentCheckPopup:bs,RestartPopup:xs,ActiveTimePopup:Ts,DemoEnd:Xs,DemoLevelChoice:Ns}})],$s);var qs=$s,Us=qs,Ys=(n("d7dd"),Object(S["a"])(Us,ve,be,!1,null,"35ab68ee",null)),Ks=Ys.exports,Js=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"FirstPage"},[n(this.currentView,{tag:"component",on:{onChangeView:e._changeView,onSelectLevel:e._setLevel,onSelectMode:e._setMode,onSetPlayTime:e._setPlayTime,onSaveSetting:e._saveSetting}}),n("img",{staticClass:"ci",attrs:{src:"img/firstconfig/aram_ci.png"}})],1)},Zs=[],ec=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"intro"},[e._m(0),e._m(1),n("div",{staticClass:"row"},[n("div",{staticClass:"btn",on:{click:e._next}},[e._v(" 다음 ")])]),n("img",{staticClass:"bi",attrs:{src:"img/firstconfig/babyall_bi.png"}})])},tc=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"head"},[n("strong",{staticClass:"title"},[e._v("베이비올 영어")]),e._v("에 오신걸 환영합니다.")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"comment"},[e._v(" 자녀 수준 맞춤 활동을 할 수 있도록"),n("br"),e._v(" 자녀의 정보를 설정해 주세요. ")])}],nc=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_next",value:function(){this.$emit("onChangeView","Level")}}]),n}(p["c"]);nc=Object(d["a"])([Object(p["a"])({components:{}})],nc);var ac=nc,ic=ac,oc=(n("7493"),Object(S["a"])(ic,ec,tc,!1,null,"e54e97aa",null)),rc=oc.exports,sc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"level"},[n("div",{staticClass:"head"},[e._v("추천 레벨")]),n("div",{staticClass:"row",staticStyle:{"margin-top":"3rem"}},[n("div",{staticClass:"subpanel"},[n("div",{staticClass:"subpanel-contents"},[n("label",{staticClass:"checkcontainer"},[e._v("레벨 1 "),1==e.fixValue?n("span",{staticClass:"pick"},[e._v("추천")]):e._e(),n("input",{attrs:{type:"radio",name:"level"},domProps:{checked:1==this.value?"checked":""},on:{click:function(t){return e._select(1)}}}),n("span",{staticClass:"checkmark"})])]),n("div",{staticClass:"subpanel-contents"},[n("label",{staticClass:"checkcontainer"},[e._v("레벨 2 "),2==e.fixValue?n("span",{staticClass:"pick"},[e._v("추천")]):e._e(),n("input",{attrs:{type:"radio",name:"level"},domProps:{checked:2==this.value?"checked":""},on:{click:function(t){return e._select(2)}}}),n("span",{staticClass:"checkmark"})])]),n("div",{staticClass:"subpanel-contents"},[n("label",{staticClass:"checkcontainer"},[e._v("레벨 3 "),3==e.fixValue?n("span",{staticClass:"pick"},[e._v("추천")]):e._e(),n("input",{attrs:{type:"radio",name:"level"},domProps:{checked:3==this.value?"checked":""},on:{click:function(t){return e._select(3)}}}),n("span",{staticClass:"checkmark"})])])])]),e._m(0),n("div",{staticClass:"row"},[n("div",{staticClass:"btn",on:{click:e._next}},[e._v(" 다음 ")])])])},cc=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("ul",{staticClass:"list"},[n("li",[e._v("자녀의 생년월일을 기준으로 레벨을 추천하며 레벨은 월령별 인지 능력에 따라 활동 난이도에 차이가 있습니다.")]),n("li",{staticStyle:{"margin-top":"0.6rem"}},[e._v(" 만 2세 이하 자녀는 레벨1을 선택합니다. 먼저 베이비 튜브 영상과 다양한 영어 노래를 들려주시고, 이후 스토리 북스, 알파벳 스쿨을 병행하면서 자연스럽게 영어놀이활동을 경험해 보시는 것을 추천합니다. ")])])])}],lc=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.fixValue=2,e.mValue=2,e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ue.getBirthData();case 2:t=ue.birthData.birthday,n=(new Date).getFullYear(),a=(new Date).getMonth()+1+12*(n-parseInt(t.slice(0,4))),console.log("%c ".concat(t.slice(0,4),"  ").concat(t.slice(4,6),"       user"),"color:red;"),console.log("%c ".concat(n,"  ").concat((new Date).getMonth()+1,"       current"),"color:blue;"),console.log("%c ".concat(a-parseInt(t.slice(4,6)),"개월"),"color:green; font-weight: bold;"),a-parseInt(t.slice(4,6))<24&&(this.mValue=1),a-parseInt(t.slice(4,6))>=24&&a-parseInt(t.slice(4,6))<48&&(this.mValue=2),a-parseInt(t.slice(4,6))>=48&&(this.mValue=3),this.fixValue=this.mValue;case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_select",value:function(e){this.mValue=e}},{key:"_next",value:function(){this.$emit("onSelectLevel",this.mValue)}},{key:"value",get:function(){return this.mValue}}]),n}(p["c"]);lc=Object(d["a"])([Object(p["a"])({components:{}})],lc);var uc=lc,mc=uc,hc=(n("9eb9"),Object(S["a"])(mc,sc,cc,!1,null,"9a37aeb0",null)),dc=hc.exports,pc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"level"},[n("div",{staticClass:"head"},[e._v("진행 모드")]),n("div",{staticClass:"row"},[n("div",{staticClass:"subpanel"},[n("div",{staticClass:"subpanel-contents"},[n("label",{staticClass:"checkcontainer"},[e._v("씩씩한 탐험가 ( 자유롭게 ) "),n("input",{attrs:{type:"radio",name:"level"},domProps:{checked:1==this.value?"checked":""},on:{click:function(t){return e._select(1)}}}),n("span",{staticClass:"checkmark"})])]),n("div",{staticClass:"subpanel-contents"},[n("label",{staticClass:"checkcontainer"},[e._v("꼼꼼한 과학자 ( 순서대로 ) "),n("input",{attrs:{type:"radio",name:"level"},domProps:{checked:2==this.value?"checked":""},on:{click:function(t){return e._select(2)}}}),n("span",{staticClass:"checkmark"})])])])]),e._m(0),n("div",{staticClass:"row"},[n("div",{staticClass:"btn",on:{click:e._next}},[e._v(" 다음 ")])])])},fc=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("ul",{staticClass:"list"},[n("li",[e._v("자녀의 성향에 맞게 선택해 주세요. 도서선택을 자유롭게 하는 "),n("span",[e._v("탐험가 모드")]),e._v("와 순서대로 하는 "),n("span",[e._v("과학자 모드")]),e._v("가 있습니다.")]),n("li",{staticStyle:{"margin-top":"0.6rem"}},[e._v("진행 모드는 변경 가능합니다.")])])])}],gc=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mValue=2,e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_select",value:function(e){this.mValue=e}},{key:"_next",value:function(){this.$emit("onSelectMode",this.mValue)}},{key:"value",get:function(){return this.mValue}}]),n}(p["c"]);gc=Object(d["a"])([Object(p["a"])({components:{}})],gc);var vc=gc,bc=vc,yc=(n("30c8"),Object(S["a"])(bc,pc,fc,!1,null,"3a51b143",null)),Cc=yc.exports,kc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"level"},[n("div",{staticClass:"head"},[e._v("하루 사용 시간")]),n("div",{staticClass:"row",staticStyle:{"margin-top":"4rem"}},[n("div",{staticClass:"subpanel"},[n("div",{staticClass:"timer"},[n("img",{attrs:{src:"img/firstconfig/timer.png"}}),e._v(" "+e._s(this.timerValueString)+" ")]),n("div",{staticClass:"slider"},[this.isUnlimitMode?e._e():n("Slider",{attrs:{start:"5분",end:"150분",cursorColor:"#ff9f15",guageColor:"#4CAF50",bgColor:"#C4C4C4",min:"5",max:"150",step:"5",init:this.timerValue},on:{onValueChanged:e._onTimerChange}})],1),n("div",{staticClass:"subpanel-contents"},[n("label",{staticClass:"checkcontainer"},[e._v(" 제한 없음 "),n("input",{attrs:{type:"checkbox",name:"timer"},domProps:{checked:this.isUnlimitMode?"checked":""},on:{click:this._toggleUnlimited}}),n("span",{staticClass:"checkmark"})])])])]),e._m(0),n("div",{staticClass:"row"},[n("div",{staticClass:"btn",on:{click:e._next}},[e._v(" 다음 ")])])])},Sc=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("ul",{staticClass:"list"},[n("li",[e._v("자녀와 약속한 사용 시간을 설정해주세요.")]),n("li",[e._v("시간이 다 되면 활동을 할 수 없습니다.")]),n("li",[e._v("사용 시간은 변경 가능합니다.")])])])}],wc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sliderCase"},[n("div",{staticClass:"slide-container"},[n("div",{staticClass:"range",style:"background:"+this.bgColor}),n("div",{ref:"timerMask",staticClass:"range",style:"background:"+this.guageColor}),n("input",{staticClass:"slider",style:"--cursor-color:"+e.cursorColor,attrs:{type:"range",min:this.min,max:this.max,step:this.step},domProps:{value:this.mValue},on:{input:e._onValueChanging,change:e._onValueChanged}}),n("span",{staticClass:"label",staticStyle:{left:"10px"}},[e._v(e._s(e.start))]),n("span",{staticClass:"label",staticStyle:{right:"10px"}},[e._v(e._s(e.end))])])])},_c=[],xc=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mValue=0,e}return Object(u["a"])(n,[{key:"mounted",value:function(){this.mValue=this.init,this._updateValue()}},{key:"_updateValue",value:function(){var e=this.max-this.min,t=this.mValue/e;this.$refs.timerMask.style.width="calc( (100% - 32px) * ".concat(t,")")}},{key:"_onValueChanged",value:function(e){this.mValue=parseInt(e.target.value),this._updateValue(),this.$emit("onValueChanged",this.mValue)}},{key:"_onValueChanging",value:function(e){this.mValue=parseInt(e.target.value),this._updateValue(),this.$emit("onValueChanging",this.mValue)}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:"start"})],xc.prototype,"start",void 0),Object(d["a"])([Object(p["b"])({default:"end"})],xc.prototype,"end",void 0),Object(d["a"])([Object(p["b"])({default:"#FFF"})],xc.prototype,"bgColor",void 0),Object(d["a"])([Object(p["b"])({default:"#FC0"})],xc.prototype,"guageColor",void 0),Object(d["a"])([Object(p["b"])({default:"#000"})],xc.prototype,"cursorColor",void 0),Object(d["a"])([Object(p["b"])({default:0})],xc.prototype,"min",void 0),Object(d["a"])([Object(p["b"])({default:100})],xc.prototype,"max",void 0),Object(d["a"])([Object(p["b"])({default:1})],xc.prototype,"step",void 0),Object(d["a"])([Object(p["b"])({default:0})],xc.prototype,"init",void 0),xc=Object(d["a"])([Object(p["a"])({})],xc);var Ic=xc,Oc=Ic,Pc=(n("b9e6"),Object(S["a"])(Oc,wc,_c,!1,null,"53ee5f0e",null)),Rc=Pc.exports,jc=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mValue=30,e.mIsNonLimitToPlay=!1,e}return Object(u["a"])(n,[{key:"_toggleUnlimited",value:function(){this.mIsNonLimitToPlay=!this.mIsNonLimitToPlay}},{key:"_onTimerChange",value:function(e){this.mValue=e}},{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_select",value:function(e){this.mValue=e}},{key:"_next",value:function(){this.$emit("onSetPlayTime",this.mValue,this.mIsNonLimitToPlay)}},{key:"timerValue",get:function(){return this.mValue}},{key:"timerValueString",get:function(){return this.mIsNonLimitToPlay?"무제한":this.mValue+"분"}},{key:"isUnlimitMode",get:function(){return this.mIsNonLimitToPlay}}]),n}(p["c"]);jc=Object(d["a"])([Object(p["a"])({components:{Slider:Rc}})],jc);var Dc=jc,Tc=Dc,Bc=(n("eacc"),Object(S["a"])(Tc,kc,Sc,!1,null,"42bfcc68",null)),Lc=Bc.exports,Ac=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"intro"},[e._m(0),n("p",{staticClass:"comment"},[e._v(" 자녀에 관한 모든 리포트 및 가이드는 맘앤대디에 있습니다. ")]),n("div",{staticClass:"row"},[n("div",{staticClass:"btn",on:{click:e._next}},[e._v(" 시작 ")])])])},Mc=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row",staticStyle:{"margin-top":"154px"}},[n("img",{attrs:{src:"img/firstconfig/babyallabc_bi.png"}})])}],Gc=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_next",value:function(){this.$emit("onSaveSetting")}}]),n}(p["c"]);Gc=Object(d["a"])([Object(p["a"])({components:{}})],Gc);var Ec=Gc,Xc=Ec,Hc=(n("c63d"),Object(S["a"])(Xc,Ac,Mc,!1,null,"0009ab74",null)),zc=Hc.exports,Fc=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mRecommendLevel=1,e.mCurrentView="Intro",e.mChildSetting={lrngChoLvlCd:Q.normal,lrngModeCd:W.step,playPosbTime:30,isNonLimitToPlay:!1},e}return Object(u["a"])(n,[{key:"_changeView",value:function(e){console.log(e),this.mCurrentView=e}},{key:"_setLevel",value:function(e){1==e?this.mChildSetting.lrngChoLvlCd=Q.easy:2==e?this.mChildSetting.lrngChoLvlCd=Q.normal:3==e&&(this.mChildSetting.lrngChoLvlCd=Q.hard),this.mCurrentView="Mode"}},{key:"_setMode",value:function(e){1==e?this.mChildSetting.lrngModeCd=W.free:2==e&&(this.mChildSetting.lrngModeCd=W.step),this.mCurrentView="PlayTimeLimit"}},{key:"_setPlayTime",value:function(e,t){this.mChildSetting.isNonLimitToPlay=t,this.mChildSetting.playPosbTime=60*e,this.mCurrentView="End"}},{key:"_saveSetting",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("SettingTime:",this.mChildSetting.playPosbTime),e.next=3,ue.setChildSetting(this.mChildSetting);case 3:re.setCurrentPage("Lobby");case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"currentView",get:function(){return this.mCurrentView}}]),n}(p["c"]);Fc=Object(d["a"])([Object(p["a"])({components:{Intro:rc,Level:dc,Mode:Cc,PlayTimeLimit:Lc,End:zc}})],Fc);var Vc=Fc,Wc=Vc,Qc=(n("67b3"),Object(S["a"])(Wc,Js,Zs,!1,null,"9d983308",null)),Nc=Qc.exports,$c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ParentSetup"},[n("TopMenu",{attrs:{title:this.mCurrentTitle,currentMenu:this.mCurrentSubView},on:{onShowMainMenu:e._onShowMainMenu,onShowSubMenu:e._onShowSubMenu,onClickBack:e._onClickBack}}),n(e.mCurrentView,{tag:"component",attrs:{subMenu:this.mCurrentSubView},on:{onSelecedTab:e._onShowSubMenu}}),e.mIsShowMainMenu?n("MainMenu",{on:{onCloseMainMenu:e._onCloseMainMenu,onSelectMainMenu:e._onSelectMainMenu}}):e._e()],1)},qc=[],Uc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"TopMenu"},[n("div",{staticClass:"row"},[n("div",{staticClass:"btnCase"},[n("img",{staticClass:"menuBTN",attrs:{src:"img/parent/btn_home.png"},on:{click:function(t){return t.stopPropagation(),e._onClickBack()}}})]),n("div",{staticClass:"title"},[e._v(e._s(e.title))]),n("div",{staticClass:"btnCase"},[n("img",{staticClass:"menuBTN",attrs:{src:"img/parent/btn_menu.png"},on:{click:function(t){return t.stopPropagation(),e._onClickMenu()}}})]),"활동 리포트"==this.title?n("div",{staticClass:"subRow"},[n("img",{staticClass:"subMenuBTN",attrs:{src:"ReportSummary"==this.mSubMenu?"img/parent/report_sub1_focus.png":"img/parent/report_sub1_nor.png"},on:{click:function(t){return e._onClickSubMenu("ReportSummary")}}}),n("img",{staticClass:"subMenuBTN",attrs:{src:"ReportSB"==this.mSubMenu?"img/parent/report_sub2_focus.png":"img/parent/report_sub2_nor.png"},on:{click:function(t){return e._onClickSubMenu("ReportSB")}}}),n("img",{staticClass:"subMenuBTN",attrs:{src:"ReportAL"==this.mSubMenu?"img/parent/report_sub3_focus.png":"img/parent/report_sub3_nor.png"},on:{click:function(t){return e._onClickSubMenu("ReportAL")}}})]):e._e()])])},Yc=[],Kc=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mSubMenu="ReportSummary",e}return Object(u["a"])(n,[{key:"mounted",value:function(){}},{key:"onChildChanged",value:function(e,t){this.mSubMenu=this.currentMenu}},{key:"ontitleChanged",value:function(e,t){"활동 리포트"==this.title?this.$el.getElementsByClassName("title")[0].setAttribute("style","justify-content: flex-start; padding-left:2rem"):this.$el.getElementsByClassName("title")[0].setAttribute("style","justify-content: center;  padding-left:0 ")}},{key:"_onClickBack",value:function(){this.$emit("onClickBack")}},{key:"_onClickMenu",value:function(){this.$emit("onShowMainMenu")}},{key:"_onClickSubMenu",value:function(e){this.mSubMenu=e,this.$emit("onShowSubMenu",this.mSubMenu)}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:""})],Kc.prototype,"title",void 0),Object(d["a"])([Object(p["b"])({default:""})],Kc.prototype,"currentMenu",void 0),Object(d["a"])([Object(p["d"])("currentMenu")],Kc.prototype,"onChildChanged",null),Object(d["a"])([Object(p["d"])("title")],Kc.prototype,"ontitleChanged",null),Kc=Object(d["a"])([Object(p["a"])({})],Kc);var Jc=Kc,Zc=Jc,el=(n("0883"),Object(S["a"])(Zc,Uc,Yc,!1,null,"692db0fe",null)),tl=el.exports,nl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"MainMenu"},[n("div",{staticClass:"menubody"},[n("div",{staticClass:"row title"},[n("img",{attrs:{src:"img/parent/menu_bi.png"}}),n("span",[e._v("BabyAll ENGLISH")]),n("img",{staticClass:"closeBTN",attrs:{src:"img/parent/btn_closemenu.png"},on:{click:function(t){return t.stopPropagation(),e._onCloseMenu()}}})]),e._l(e.subMenuList,(function(t,a){return n("div",{key:a,staticClass:"row submenu",on:{click:function(n){return n.stopPropagation(),e._onSelectSubMenu(t.command)}}},[n("img",{staticClass:"submenuIcon",attrs:{src:"img/parent/"+t.img}}),n("span",[e._v(" "+e._s(t.label)+" ")])])}))],2)])},al=[],il=[{label:"활동 리포트",command:"report",img:"btn_menu_report.png"},{label:"자녀 설정",command:"setup",img:"btn_menu_kids.png"},{label:"활용 영상",command:"movie",img:"btn_menu_play.png"},{label:"베이비올 종료",command:"exitBabyAll",img:"btn_menu_off.png"}];N.Config.devMode&&il.push({label:"전체 정보 초기화",command:"reset",img:"btn_menu_off.png"});var ol=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"mounted",value:function(){this.openMenu()}},{key:"openMenu",value:function(){me["c"].to(".menubody",{right:0,duration:.5})}},{key:"closeMenu",value:function(){var e=this;me["c"].to(".menubody",{right:-600,duration:.5}).eventCallback("onComplete",(function(){e.$emit("onCloseMainMenu")}))}},{key:"_onCloseMenu",value:function(){this.closeMenu()}},{key:"_onSelectSubMenu",value:function(e){this.closeMenu(),"reset"==e?ue.resetData():this.$emit("onSelectMainMenu",e)}},{key:"subMenuList",get:function(){return il}}]),n}(p["c"]);ol=Object(d["a"])([Object(p["a"])({})],ol);var rl=ol,sl=rl,cl=(n("8f7d"),Object(S["a"])(sl,nl,al,!1,null,"0daf2168",null)),ll=cl.exports,ul=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"check-group"},e._l(e.datalist,(function(t,a){return n("div",{key:t.label,staticClass:"checkbox"},[n("input",{staticClass:"checker",attrs:{type:"radio",name:"chk_info",value:"1"},domProps:{checked:t.checked},on:{click:function(t){return e.selectItem(a)}}}),n("label",[e._v(e._s(t.label))])])})),0)},ml=[],hl={data:function(){return{}},props:{datalist:Array},methods:{selectItem:function(e){this.$emit("onSelectItem",e)}}},dl=hl,pl=(n("8ac1"),Object(S["a"])(dl,ul,ml,!1,null,"258503a4",null)),fl=pl.exports,gl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"SetupChild"},[n("div",{staticClass:"row userStat"},[n("span",{staticClass:"name"},[e._v(e._s(e.childName))]),n("span",{staticClass:"birth"},[e._v(" "+e._s(this.birthString.slice(0,4))+"."+e._s(this.birthString.slice(4,6))+"."+e._s(this.birthString.slice(6,8))+" ")])]),n("div",{staticClass:"col"},[n("div",{staticClass:"head"},[n("img",{attrs:{src:"img/parent/setup_child_head1.png"},on:{click:function(t){return e._onShowHelp("level")}}})]),n("div",{staticClass:"subpanel"},[n("div",{staticClass:"subpanelContents"},[n("label",{staticClass:"checkcontainer"},[e._v("레벨 1 "),1==e.fixValue?n("span",{staticClass:"pick"},[e._v("추천")]):e._e(),n("input",{attrs:{type:"radio",name:"level"},domProps:{checked:1==this.level?"checked":""},on:{click:function(t){return e._onSelectLevel(1)}}}),n("span",{staticClass:"checkmark"})])]),n("div",{staticClass:"subpanelContents"},[n("label",{staticClass:"checkcontainer"},[e._v("레벨 2 "),2==e.fixValue?n("span",{staticClass:"pick"},[e._v("추천")]):e._e(),n("input",{attrs:{type:"radio",name:"level"},domProps:{checked:2==this.level?"checked":""},on:{click:function(t){return e._onSelectLevel(2)}}}),n("span",{staticClass:"checkmark"})])]),n("div",{staticClass:"subpanelContents"},[n("label",{staticClass:"checkcontainer"},[e._v("레벨 3 "),3==e.fixValue?n("span",{staticClass:"pick"},[e._v("추천")]):e._e(),n("input",{attrs:{type:"radio",name:"level"},domProps:{checked:3==this.level?"checked":""},on:{click:function(t){return e._onSelectLevel(3)}}}),n("span",{staticClass:"checkmark"})])])])]),n("div",{staticClass:"col"},[n("div",{staticClass:"head"},[n("img",{attrs:{src:"img/parent/setup_child_head2.png"},on:{click:function(t){return e._onShowHelp("playmode")}}})]),n("div",{staticClass:"subpanel"},[n("div",{staticClass:"subpanelContents"},[n("label",{staticClass:"checkcontainer"},[e._v("씩씩한 탐험가 ( 자유롭게 ) "),n("input",{attrs:{type:"radio",name:"playmode"},domProps:{checked:1==this.playMode?"checked":""},on:{click:function(t){return e._onSelectPlayMode(1)}}}),n("span",{staticClass:"checkmark"})])]),n("div",{staticClass:"subpanelContents"},[n("label",{staticClass:"checkcontainer"},[e._v("꼼꼼한 과학자 ( 순서대로 ) "),n("input",{attrs:{type:"radio",name:"playmode"},domProps:{checked:2==this.playMode?"checked":""},on:{click:function(t){return e._onSelectPlayMode(2)}}}),n("span",{staticClass:"checkmark"})])])])]),n("div",{staticClass:"col"},[n("div",{staticClass:"head"},[n("img",{attrs:{src:"img/parent/setup_child_head3.png"},on:{click:function(t){return e._onShowHelp("time")}}})]),n("div",{staticClass:"subpanel"},[n("div",{staticClass:"timer"},[n("img",{attrs:{src:"img/parent/timer.png"}}),e._v(" "+e._s(this.timerValueString)+" ")]),this.isUnlimitMode?e._e():n("Slider",{attrs:{start:"5분",end:"150분",cursorColor:"#ff9f15",guageColor:"#4CAF50",bgColor:"#C4C4C4",min:"5",max:"150",step:"5",init:this.timerValue},on:{onValueChanging:e._onTimerChanging,onValueChanged:e._onTimerChange}}),n("div",{staticClass:"subpanelContents"},[n("label",{staticClass:"checkcontainer"},[e._v(" 제한 없음 "),n("input",{attrs:{type:"checkbox",name:"timer"},domProps:{checked:this.isUnlimitMode?"checked":""},on:{click:this._toggleUnlimited}}),n("span",{staticClass:"checkmark"})])])],1)])])},vl=[],bl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%",padding:"15px 0 20px"}},[n("div",{staticClass:"graph-container",style:"height:"+this.height+"px; border-color:"+this.color+"; background-color:"+this.bgcolor},[n("div",{staticClass:"graph-view",style:"height:"+this.height+"px; border-color:"+this.color+"; background-color:"+this.bgcolor}),n("div",{staticClass:"graph",style:"width: "+this.mCurrentValue+"%; background-color: "+this.color+";  border:8px solid"+this.color+";"},[e.mCurrentValue>=50?n("span",{staticClass:"value",style:"color:"+this.labelcolor},[e._v(e._s(Math.floor(e.mCurrentValue))+"%")]):e._e()]),e.mCurrentValue<50?n("span",{style:"margin-left: 10px; color:#555; z-index:1;"},[e._v(e._s(Math.floor(e.mCurrentValue))+"%")]):e._e()])])},yl=[],Cl=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mCurrentValue=0,e}return Object(u["a"])(n,[{key:"onViewChanged",value:function(e,t){this.updateValue()}},{key:"mounted",value:function(){this.updateValue()}},{key:"updateValue",value:function(){me["c"].to(this,{mCurrentValue:this.value,duration:.5})}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:0})],Cl.prototype,"value",void 0),Object(d["a"])([Object(p["b"])({default:30})],Cl.prototype,"height",void 0),Object(d["a"])([Object(p["b"])({default:"#FC0"})],Cl.prototype,"color",void 0),Object(d["a"])([Object(p["b"])({default:"#FFF"})],Cl.prototype,"bgcolor",void 0),Object(d["a"])([Object(p["b"])({default:"#FFF"})],Cl.prototype,"labelcolor",void 0),Object(d["a"])([Object(p["d"])("value")],Cl.prototype,"onViewChanged",null),Cl=Object(d["a"])([Object(p["a"])({})],Cl);var kl=Cl,Sl=kl,wl=(n("d73e"),Object(S["a"])(Sl,bl,yl,!1,null,"f44d1802",null)),_l=wl.exports,xl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("canvas",{ref:"stage",staticClass:"container",attrs:{width:this.size,height:this.size}})])},Il=[];n("cb29"),n("1913");function Ol(e){return Math.PI/180*e}var Pl=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mCurrentValue=[],e}return Object(u["a"])(n,[{key:"onChangeData",value:function(e,t){this._updateValue()}},{key:"mounted",value:function(){this.mCTX=this.$refs.stage.getContext("2d"),this._updateValue()}},{key:"_drawBG",value:function(){this.mCTX.beginPath(),this.mCTX.arc(this.size/2,this.size/2,this.size/2,0,2*Math.PI),this.mCTX.fillStyle=this.borderColor,this.mCTX.fill(),this.mCTX.beginPath(),this.mCTX.arc(this.size/2,this.size/2,this.size/2-this.borderWidth,0,2*Math.PI),this.mCTX.fillStyle="#FFF",this.mCTX.fill()}},{key:"_drawSlice",value:function(e,t,n,a){var i=Ol(t)-Math.PI/2,o=Ol(n)-Math.PI/2,r=Ol(t+(n-t)/2)-Math.PI/2;this.mCTX.beginPath(),this.mCTX.moveTo(this.size/2,this.size/2),this.mCTX.arc(this.size/2,this.size/2,this.size/2-this.borderWidth,i,o),this.mCTX.fillStyle=e,this.mCTX.fill(),this.mCTX.fillStyle="#FFF",this.mCTX.font="bold ".concat(this.fontsize,"px Arial");var s=Math.floor((o-i)/(2*Math.PI)*100),c="".concat(s,"%");a&&(c=a);var l=this.mCTX.measureText(c),u=Math.cos(r)*((this.size/2-this.borderWidth)/2+10),m=Math.sin(r)*((this.size/2-this.borderWidth)/2+10);s>0&&(this.mCTX.save(),this.mCTX.shadowOffsetX=1,this.mCTX.shadowOffsetY=1,this.mCTX.shadowBlur=3,this.mCTX.shadowColor="rgba(0,0,0,0.8)",this.mCTX.fillText(c,u+this.size/2-l.width/2,m+this.size/2+(this.fontsize/2-2)),this.mCTX.restore())}},{key:"_drawProc",value:function(){this.mCTX.clearRect(0,0,this.size,this.size),this._drawBG();var e,t=0,n=Object(x["a"])(this.data);try{for(n.s();!(e=n.n()).done;){var a=e.value;this._drawSlice(a.color,a.start,this.mCurrentValue[t].start,this.mCurrentValue[t].label),t+=1}}catch(i){n.e(i)}finally{n.f()}}},{key:"_updateValue",value:function(){var e=this;this.mCurrentValue=[];var t,n=0,a=Object(x["a"])(this.data);try{for(a.s();!(t=a.n()).done;){var i=t.value;this.mCurrentValue.push({start:i.start,end:i.end,color:i.color,label:void 0===i.label?null:i.label}),me["c"].to(this.mCurrentValue[n],{delay:.5*n,start:this.mCurrentValue[n].end,duration:.5}).eventCallback("onUpdate",(function(){e._drawProc()})),n+=1}}catch(o){a.e(o)}finally{a.f()}}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:function(){return[]}})],Pl.prototype,"data",void 0),Object(d["a"])([Object(p["b"])({default:"#FFF"})],Pl.prototype,"borderColor",void 0),Object(d["a"])([Object(p["b"])({default:5})],Pl.prototype,"borderWidth",void 0),Object(d["a"])([Object(p["b"])({default:15})],Pl.prototype,"fontsize",void 0),Object(d["a"])([Object(p["b"])({default:300})],Pl.prototype,"size",void 0),Object(d["a"])([Object(p["d"])("data")],Pl.prototype,"onChangeData",null),Pl=Object(d["a"])([Object(p["a"])({})],Pl);var Rl=Pl,jl=Rl,Dl=(n("b286"),Object(S["a"])(jl,xl,Il,!1,null,"133d08f4",null)),Tl=Dl.exports,Bl=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.fixValue=2,e.mValue=2,e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.birthString,n=(new Date).getFullYear(),a=(new Date).getMonth()+1+12*(n-parseInt(t.slice(0,4))),a-parseInt(t.slice(4,6))<24&&(this.mValue=1),a-parseInt(t.slice(4,6))>=24&&a-parseInt(t.slice(4,6))<48&&(this.mValue=2),a-parseInt(t.slice(4,6))>=48&&(this.mValue=3),console.log("%c ".concat(t.slice(0,4),"  ").concat(t.slice(4,6),"       user"),"color:red;"),console.log("%c ".concat(n,"  ").concat((new Date).getMonth()+1,"       current"),"color:blue;"),console.log("%c ".concat(a-parseInt(t.slice(4,6)),"개월"),"color:green; font-weight: bold;"),this.fixValue=this.mValue;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_onSelectLevel",value:function(e){1==e&&(ue.childSetting.lrngChoLvlCd=Q.easy),2==e&&(ue.childSetting.lrngChoLvlCd=Q.normal),3==e&&(ue.childSetting.lrngChoLvlCd=Q.hard),console.log("Select level: ",ue.childSetting.lrngChoLvlCd),ue.setChildSetting(ue.childSetting)}},{key:"_onSelectPlayMode",value:function(e){1==e&&(ue.childSetting.lrngModeCd=W.free),2==e&&(ue.childSetting.lrngModeCd=W.step),console.log("Select Mode: ",ue.childSetting.lrngModeCd),ue.setChildSetting(ue.childSetting)}},{key:"_toggleUnlimited",value:function(){ue.childSetting.isNonLimitToPlay=!ue.childSetting.isNonLimitToPlay,ue.setChildSetting(ue.childSetting)}},{key:"_onTimerChanging",value:function(e){ue.childSetting.playPosbTime=60*e}},{key:"_onTimerChange",value:function(e){ue.childSetting.playPosbTime=60*e,ue.setChildSetting(ue.childSetting)}},{key:"_onClickBack",value:function(){this.$emit("onClickBack")}},{key:"_onClickMenu",value:function(){this.$emit("onShowMainMenu")}},{key:"_onShowHelp",value:function(e){"level"==e?re.popup.showMessageHelp("<span style='font-size:1.1rem;line-height:10%; ' >레벨은 월령별 인지능력에 따라 활동난이도에 차이를 두었습니다.<br/> 만 2세 이하 자녀는 레벨1을 선택합니다. <br/>먼저 베이비 튜브 영상과 다양한 영어 노래를 들려주시고,<br/> 이후 스토리 북스, 알파벳 스쿨을 병행하면서 자연스럽게 <br/>영어놀이활동을 경험해 보시는 것을 추천합니다.</span>"):"playmode"==e?re.popup.showMessageHelp("자녀의 성향에 맞는 진행 모드를 선택해 주세요.<br/>스토리북스를 자유롭게 선택 활동하는<br/><span style='font-size:1.4rem;font-weight:600; color:#97c83b; '>탐험가 모드</span>와 정해진 순서대로 하는<br/><span style='font-size:1.4rem;font-weight:600;  color:#97c83b;' >과학자 모드</span>가 있습니다."):"time"==e&&re.popup.showMessageHelp('자녀와 약속한 시간을 수정할 수 있습니다.<br/>시간이 다되면 활동을 할 수 없습니다.<br/>시간 완료시 뜨는 화면의 <strong style="font-size:1.4rem; color:#97c83b;">"Restart"</strong> 버튼을 누른 후<br /> 수식을 입력하시면 다시 활동 가능합니다.')}},{key:"childName",get:function(){return ue.homeData.userInfo.childNm}},{key:"level",get:function(){return ue.childSetting.lrngChoLvlCd==Q.easy?1:ue.childSetting.lrngChoLvlCd==Q.normal?2:ue.childSetting.lrngChoLvlCd==Q.hard?3:-1}},{key:"playMode",get:function(){return ue.childSetting.lrngModeCd==W.free?1:ue.childSetting.lrngModeCd==W.step?2:-1}},{key:"timerValue",get:function(){return Math.floor(ue.childSetting.playPosbTime/60)}},{key:"timerValueString",get:function(){return ue.childSetting.isNonLimitToPlay?"무제한":this.timerValue+"분"}},{key:"isUnlimitMode",get:function(){return ue.childSetting.isNonLimitToPlay}},{key:"birthString",get:function(){return ue.homeData.userInfo.birthDay}}]),n}(p["c"]);Bl=Object(d["a"])([Object(p["a"])({components:{Slider:Rc,Graph:_l,CircleGraph:Tl}})],Bl);var Ll=Bl,Al=Ll,Ml=(n("09b5"),Object(S["a"])(Al,gl,vl,!1,null,"ead8c8ea",null)),Gl=Ml.exports,El=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Report"},[n("ReportSwiper",{attrs:{subMenu:this.subMenu},on:{onTabToSlide:e._onSelecedTab,openDetail:e._openDetail}})],1)},Xl=[],Hl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"reportSummary"},[n("div",{staticClass:"contentsPanel"},[n("h1",{staticStyle:{"letter-spacing":"-0.1rem"}},[e._v("활동 누적")]),n("span",{staticClass:"subTitle"},[e._v("현재까지 누적된 학습 데이터 입니다.")]),n("div",{staticStyle:{"background-color":"#ccc",width:"100%",height:"2px"}}),n("ul",{staticClass:"first"},[n("li",[n("span",{staticClass:"title"},[e._v("학습 시간")]),n("span",{staticClass:"value"},[e._v(e._s(e.lrngTime))])]),n("li",[n("span",{staticClass:"title"},[e._v("평균학습 시간")]),n("span",{staticClass:"value"},[e._v(e._s(e.avgLrngTime))])]),n("li",[n("span",{staticClass:"title"},[e._v("활동 횟수")]),n("span",{staticClass:"value"},[e._v(e._s(e.lrngActTcnt))])])]),n("div",{staticStyle:{"background-color":"#ccc",width:"100%",height:"2px","margin-bottom":"20px"}}),n("div",{staticClass:"acornRow"},[n("img",{staticClass:"acorn",attrs:{src:"img/parent/acon.png"},on:{click:e._showAcornGuidePopUp}}),n("span",{staticStyle:{"letter-spacing":"-0.1rem",margin:"0 10px"}},[e._v("현재 도토리 "+e._s(e.acornCnt))]),n("span",{staticClass:"btn",on:{click:e._chargingAcornPopUp}},[n("img",{staticStyle:{width:"100%"},attrs:{src:"img/parent/btn_charge_sub.png",alt:""}})])])]),n("div",{staticClass:"contentsPanel"},[n("h1",[e._v("학습누적")]),n("span",{staticClass:"subTitle"},[e._v("반복 학습까지 누적된 학습 데이터 입니다.")]),n("div",{staticStyle:{"background-color":"#ccc",width:"100%",height:"2px","margin-bottom":"20px"}}),n("ul",[n("li",[n("span",{staticClass:"title"},[e._v("접한 단어")]),n("span",{staticClass:"value"},[e._v(e._s(e.lrngWrdEcnt))])]),n("li",[n("span",{staticClass:"title"},[e._v("접한 표현")]),n("span",{staticClass:"value"},[e._v(e._s(e.lrngXprsEcnt))])])]),n("ul",{staticStyle:{margin:"20px 0"}},[n("li",[n("span",{staticClass:"title"},[e._v("액티비티")]),n("span",{staticClass:"value"},[e._v(e._s(e.lrngAcvtEcnt))])]),n("li",[n("span",{staticClass:"title"},[e._v("푼 문제 수")]),n("span",{staticClass:"value"},[e._v(e._s(e.lrntQstPrcsEcnt))])])]),n("ul",[n("li",[n("span",{staticClass:"title"},[e._v("미디어 청취")]),n("span",{staticClass:"value"},[e._v(e._s(e.mdaLsngTcnt))])]),n("li",[n("span",{staticClass:"title"},[e._v("미디어 활용")]),n("span",{staticClass:"value"},[e._v(e._s(e.mdaPtkEcnt))])])]),n("div",{staticClass:"row",staticStyle:{"margin-top":"10px"}},[n("Graph",{ref:"graph",staticStyle:{width:"100%"},attrs:{value:e.mdaPtkEcntPercent,height:"34",color:"#f44336",bgcolor:"#FFF",labelcolor:"#FFF"}})],1)]),n("div",{staticClass:"contentsPanel"},[n("h1",[e._v("레벨별")]),n("SummaryLevelInfo",{attrs:{labelImage:"lv1.png",info:this.summaryLevelInfo1}}),n("SummaryLevelInfo",{attrs:{labelImage:"lv2.png",info:this.summaryLevelInfo2}}),n("SummaryLevelInfo",{attrs:{labelImage:"lv3.png",info:this.summaryLevelInfo3}})],1)])},zl=[],Fl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("canvas",{ref:"stage",staticClass:"container",attrs:{width:this.width,height:this.height}})])},Vl=[],Wl=null,Ql=null,Nl=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mCurrentValue=[],e}return Object(u["a"])(n,[{key:"mounted",value:function(){this.mCTX=this.$refs.stage.getContext("2d"),null==Wl&&(Wl=new Image,Wl.src="img/parent/gr_star1.png"),null==Ql&&(Ql=new Image,Ql.src="img/parent/gr_star2.png"),this._clear(),this.updateValue(),this._drawlabel()}},{key:"_clear",value:function(){this.mCTX.clearRect(0,0,this.width,this.height),this._drawBG()}},{key:"_drawBG",value:function(){var e=this.width,t=this.height,n=[0,t-50],a=n[1]-40;this.mCTX.save();var i="#E8E8E8";this.mCTX.strokeStyle=i,this.mCTX.beginPath();for(var o=1;o<6;o++)this.mCTX.lineWidth=2,this.mCTX.moveTo(n[0],n[1]+o*(-a/5)),this.mCTX.lineTo(e,n[1]+o*(-a/5));this.mCTX.stroke(),this.mCTX.font="20px Arial",this.mCTX.fillStyle="#BBB",this.mCTX.textAlign="end",this.mCTX.textBaseline="top";for(var r=["0","2","4","6","8","10"],s=1;s<6;s++)this.mCTX.fillText(r[s],n[0]+40,n[1]+s*(-a/5)+5);this.mCTX.restore()}},{key:"isInViewport",value:function(){var e=this.$el.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}},{key:"_drawlabel",value:function(){var e=this.width,t=this.height,n=[0,t-50],a=(n[1],e/4+40),i=e-e/4,o="#E8E8E8";this.mCTX.save(),this.mCTX.strokeStyle=o,this.mCTX.lineWidth=5,this.mCTX.beginPath(),this.mCTX.moveTo(n[0],n[1]),this.mCTX.lineTo(e,n[1]),this.mCTX.stroke(),this.mCTX.font="bold 25px Arial",this.mCTX.fillStyle="#888",this.mCTX.textAlign="center",this.mCTX.textBaseline="top",this.mCTX.fillText(this.labels[0],a,n[1]+10),this.mCTX.fillText(this.labels[1],i,n[1]+10),this.mCTX.restore()}},{key:"_drawLine",value:function(){var e=this.width,t=this.height,n=[0,t-50],a=n[1]-40,i=e/4+40,o=e-e/4,r=n[1]-this.mCurrentValue[0]/100*a,s=n[1]-this.mCurrentValue[1]/100*a,c=this.mCurrentValue[0]/100*a,l=this.mCurrentValue[1]/100*a;this.mCTX.save(),this.mCTX.fillStyle=this.colors[0],this.mCTX.fillRect(i-36.5,r,73,c),this.mCTX.fillStyle=this.colors[1],this.mCTX.fillRect(o-36.5,s,73,l),Wl&&this.mCTX.drawImage(Wl,i-36.5,r-30),Ql&&this.mCTX.drawImage(Ql,o-36.5,s-30),this.mCTX.font="30px Arial",this.mCTX.textAlign="center",this.mCTX.textBaseline="middle",this.mCurrentValue[0]/10<1?(this.mCTX.fillStyle="#333",this.mCTX.fillText((this.mCurrentValue[0]/10).toFixed(1),i,r-40)):(this.mCTX.fillStyle="#FFF",this.mCTX.fillText((this.mCurrentValue[0]/10).toFixed(1),i,r+10)),this.mCurrentValue[1]/10<1?(this.mCTX.fillStyle="#333",this.mCTX.fillText((this.mCurrentValue[1]/10).toFixed(1),o,s-40)):(this.mCTX.fillStyle="#FFF",this.mCTX.fillText((this.mCurrentValue[1]/10).toFixed(1),o,s+10)),this.mCTX.globalCompositeOperation="destination-out",this.mCTX.fillStyle="#F00",this.mCTX.fillRect(n[0],n[1],e,t-a),this.mCTX.globalCompositeOperation="source-over",this.mCTX.restore()}},{key:"_drawProc",value:function(){this._clear(),this._drawLine(),this._drawlabel()}},{key:"updateValue",value:function(){var e=this;this.mCurrentValue=[0,0],me["c"].to(this.mCurrentValue,{0:this.data[0],1:this.data[1],duration:.5}).eventCallback("onUpdate",(function(){e._drawProc()}))}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:700})],Nl.prototype,"width",void 0),Object(d["a"])([Object(p["b"])({default:300})],Nl.prototype,"height",void 0),Object(d["a"])([Object(p["b"])({default:["라벨1","라벨2"]})],Nl.prototype,"labels",void 0),Object(d["a"])([Object(p["b"])({default:["#ff8085","#c9c9c9"]})],Nl.prototype,"colors",void 0),Object(d["a"])([Object(p["b"])({default:[80,20]})],Nl.prototype,"data",void 0),Nl=Object(d["a"])([Object(p["a"])({})],Nl);var $l=Nl,ql=$l,Ul=(n("cb28"),Object(S["a"])(ql,Fl,Vl,!1,null,"c2f04c34",null)),Yl=Ul.exports,Kl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sumLevelInfo"},[n("div",{staticStyle:{"background-color":"#ccc",width:"100%",height:"2px","margin-bottom":"52px"}}),n("div",{staticClass:"row"},[n("img",{attrs:{src:"img/parent/"+e.labelImage}})]),null!=this.info?n("div",[n("div",{staticClass:"row",staticStyle:{margin:"16px 0 70px"}},[n("div",{staticClass:"col"},[n("div",{staticClass:"roundTitle"},[e._v("진도율")]),n("CircleGraph",{attrs:{data:[this.progressRateGraphData],borderColor:"#ff454d",borderWidth:"5",fontsize:"25",size:"200"}})],1),n("div",{staticClass:"col"},[n("div",{staticClass:"roundTitle"},[e._v("평균 성취도")]),n("StarGraph",{attrs:{data:this.averageAchvGraphData,colors:["#ff8085","#c9c9c9"],height:"250",width:"250",labels:["자녀","평균"]}})],1)]),n("h1",{staticStyle:{"margin-bottom":"20px"}},[e._v("진도")]),n("ul",[n("li",{staticClass:"li2"},[n("span",{staticClass:"title",staticStyle:{color:"#5195ff"}},[e._v("스토리북스")]),n("span",{staticClass:"value"},[e._v(e._s(this.storybookProgressLabel))])]),n("Graph",{staticStyle:{width:"100%"},attrs:{value:this.storybookProgressPercent,height:"34",color:"#5195ff",bgcolor:"#FFF",labelcolor:"#FFF"}})],1),n("ul",[n("li",{staticClass:"li2"},[n("span",{staticClass:"title",staticStyle:{color:"#5195ff"}},[e._v("알파벳스쿨")]),n("span",{staticClass:"value"},[e._v(e._s(this.alphabetProgressLabel))])]),n("Graph",{staticStyle:{width:"100%"},attrs:{value:this.alphabetProgressPercent,height:"34",color:"#5195ff",bgcolor:"#FFF",labelcolor:"#FFF"}})],1),n("h1",{staticStyle:{margin:"50px 0 30px"}},[e._v("성취")]),n("ul",[n("li",{staticClass:"li2"},[n("span",{staticClass:"title",staticStyle:{color:"#5195ff"}},[e._v("단어")]),n("span",{staticClass:"value"},[e._v(e._s(this.wrdAchvmntsLabel))])]),n("Graph",{staticStyle:{width:"100%"},attrs:{value:this.wrdAchvmntsPercent,height:"34",color:"#5195ff",bgcolor:"#FFF",labelcolor:"#FFF"}})],1),n("ul",[n("li",{staticClass:"li2"},[n("span",{staticClass:"title",staticStyle:{color:"#5195ff"}},[e._v("표현")]),n("span",{staticClass:"value"},[e._v(e._s(this.xprsAchvmntsLabel))])]),n("Graph",{staticStyle:{width:"100%"},attrs:{value:this.xprsAchvmntsPercent,height:"34",color:"#5195ff",bgcolor:"#FFF",labelcolor:"#FFF"}})],1)]):e._e(),null==this.info?n("div",{staticClass:"row"},[n("span",[e._v(" 활동 기록이 없습니다.")])]):e._e()])},Jl=[],Zl=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"progressRateGraphData",get:function(){if(null==this.info)return{start:0,end:0,color:"#ff454d"};var e=this.info.progressRate/100*360;return{start:0,end:e,color:"#ff454d"}}},{key:"averageAchvGraphData",get:function(){return null==this.info?[0,0]:[10*this.info.childAchvmnts,10*this.info.avgAchvmnts]}},{key:"storybookProgressLabel",get:function(){return null==this.info?"(0권 / 0권)":"( ".concat(this.info.storybookProgress[0],"권 / ").concat(this.info.storybookProgress[1],"권 )")}},{key:"storybookProgressPercent",get:function(){return null==this.info?0:Math.floor(this.info.storybookProgress[0]/this.info.storybookProgress[1]*100)}},{key:"alphabetProgressLabel",get:function(){return null==this.info?"( 0개 / 0개 )":"( ".concat(this.info.alphabetProgress[0],"개 / ").concat(this.info.alphabetProgress[1],"개 )")}},{key:"alphabetProgressPercent",get:function(){return null==this.info?0:Math.floor(this.info.alphabetProgress[0]/this.info.alphabetProgress[1]*100)}},{key:"wrdAchvmntsLabel",get:function(){return null==this.info?"( 0개 / 0개 )":"( ".concat(this.info.wrdAchvmnts[0],"개 / ").concat(this.info.wrdAchvmnts[1],"개 )")}},{key:"wrdAchvmntsPercent",get:function(){return null==this.info?0:Math.floor(this.info.wrdAchvmnts[0]/this.info.wrdAchvmnts[1]*100)}},{key:"xprsAchvmntsLabel",get:function(){return null==this.info?"( 0개 / 0개 )":"( ".concat(this.info.xprsAchvmnts[0],"개 / ").concat(this.info.xprsAchvmnts[1],"개 )")}},{key:"xprsAchvmntsPercent",get:function(){return null==this.info?0:Math.floor(this.info.xprsAchvmnts[0]/this.info.xprsAchvmnts[1]*100)}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:"lv1.png"})],Zl.prototype,"labelImage",void 0),Object(d["a"])([Object(p["b"])({default:function(){return null}})],Zl.prototype,"info",void 0),Zl=Object(d["a"])([Object(p["a"])({components:{Graph:_l,CircleGraph:Tl,StarGraph:Yl}})],Zl);var eu=Zl,tu=eu,nu=(n("2d80"),Object(S["a"])(tu,Kl,Jl,!1,null,"465a1d7a",null)),au=nu.exports,iu=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("ReportSummary mounted"),e.next=3,ce.getActSummaryReport();case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_showAcornGuidePopUp",value:function(){re.popup.showMessageHelp("도토리를 사용하여 펫과 만날 수 있습니다.<br/>도토리는 학습 활동시 제공되며 개수가 모자랄 시 채울 수 있습니다.<br/>한번에 최대 100개까지 충전 가능하고, 충전 횟수에 제한은 없습니다.")}},{key:"_chargingAcornPopUp",value:function(){re.popup.showAcornCharge()}},{key:"lrngTime",get:function(){return null!=ce.actSummaryReport&&void 0!==ce.actSummaryReport.lrngTime?N.numberWithCommas(ce.actSummaryReport.lrngTime)+"분":"0분"}},{key:"avgLrngTime",get:function(){return null!=ce.actSummaryReport&&void 0!==ce.actSummaryReport.avgLrngTime?N.numberWithCommas(ce.actSummaryReport.avgLrngTime)+"분":"0분"}},{key:"lrngActTcnt",get:function(){return null!=ce.actSummaryReport&&void 0!==ce.actSummaryReport.lrngActTcnt?N.numberWithCommas(ce.actSummaryReport.lrngActTcnt)+"회":"0회"}},{key:"acornCnt",get:function(){return null!=ce.actSummaryReport&&void 0!==ce.actSummaryReport.acornCnt?N.numberWithCommas(ce.actSummaryReport.acornCnt)+"개":"0개"}},{key:"lrngWrdEcnt",get:function(){return null!=ce.actSummaryReport&&void 0!==ce.actSummaryReport.lrngWrdEcnt?N.numberWithCommas(ce.actSummaryReport.lrngWrdEcnt)+"개":"0개"}},{key:"lrngXprsEcnt",get:function(){return null!=ce.actSummaryReport&&void 0!==ce.actSummaryReport.lrngXprsEcnt?N.numberWithCommas(ce.actSummaryReport.lrngXprsEcnt)+"개":"0개"}},{key:"lrngAcvtEcnt",get:function(){return null!=ce.actSummaryReport&&void 0!==ce.actSummaryReport.lrngAcvtEcnt?N.numberWithCommas(ce.actSummaryReport.lrngAcvtEcnt)+"개":"0개"}},{key:"lrntQstPrcsEcnt",get:function(){return null!=ce.actSummaryReport&&void 0!==ce.actSummaryReport.lrngQstPrcsEcnt?N.numberWithCommas(ce.actSummaryReport.lrngQstPrcsEcnt)+"개":"0개"}},{key:"mdaLsngTcnt",get:function(){return null!=ce.actSummaryReport&&void 0!==ce.actSummaryReport.mdaLsngTcnt?N.numberWithCommas(ce.actSummaryReport.mdaLsngTcnt)+"회":"0회"}},{key:"mdaPtkEcnt",get:function(){return null!=ce.actSummaryReport&&void 0!==ce.actSummaryReport.mdaPtkEcnt?"".concat(N.numberWithCommas(ce.actSummaryReport.mdaPtkEcnt[0]),"개 / ").concat(N.numberWithCommas(ce.actSummaryReport.mdaPtkEcnt[1]),"개"):"(0개 / 0개)"}},{key:"mdaPtkEcntPercent",get:function(){return null!=ce.actSummaryReport&&void 0!==ce.actSummaryReport.mdaPtkEcnt?Math.floor(ce.actSummaryReport.mdaPtkEcnt[0]/ce.actSummaryReport.mdaPtkEcnt[1]*100):0}},{key:"summaryLevelInfo1",get:function(){return null==ce.actSummaryReport||null==ce.actSummaryReport.sttcByLvl||null==ce.actSummaryReport.sttcByLvl.lv1?null:ce.actSummaryReport.sttcByLvl.lv1}},{key:"summaryLevelInfo2",get:function(){return null==ce.actSummaryReport||null==ce.actSummaryReport.sttcByLvl||null==ce.actSummaryReport.sttcByLvl.lv2?null:ce.actSummaryReport.sttcByLvl.lv2}},{key:"summaryLevelInfo3",get:function(){return null==ce.actSummaryReport||null==ce.actSummaryReport.sttcByLvl||null==ce.actSummaryReport.sttcByLvl.lv3?null:ce.actSummaryReport.sttcByLvl.lv3}}]),n}(p["c"]);iu=Object(d["a"])([Object(p["a"])({components:{Graph:_l,CircleGraph:Tl,StarGraph:Yl,SummaryLevelInfo:au}})],iu);var ou=iu,ru=ou,su=(n("2a0b"),Object(S["a"])(ru,Hl,zl,!1,null,"1cc3a942",null)),cu=su.exports,lu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"reportAL"},[n("div",{staticClass:"totalMenu"},[n("div",{staticClass:"row"},[n("div",{staticClass:"select-group",on:{pointerover:function(t){return e._onOffSwiper(!1)},pointerleave:function(t){return e._onOffSwiper(!0)}}},[n("img",{staticClass:"bg",attrs:{src:"img/parent/level_bar.png"}}),n("img",{staticClass:"btn",staticStyle:{left:"-5px"},style:1==e.currentLevel?"opacity:1":"opacity:0",attrs:{src:"img/parent/btn_level1.png"},on:{click:function(t){return e._selectLevel(1)}}}),n("img",{staticClass:"btn",staticStyle:{left:"214px"},style:2==e.currentLevel?"opacity:1":"opacity:0",attrs:{src:"img/parent/btn_level2.png"},on:{click:function(t){return e._selectLevel(2)}}}),n("img",{staticClass:"btn",staticStyle:{left:"434px"},style:3==e.currentLevel?"opacity:1":"opacity:0",attrs:{src:"img/parent/btn_level3.png"},on:{click:function(t){return e._selectLevel(3)}}})])]),n("div",{staticClass:"col"},[e._l(this.actSlotReport,(function(t,a){return n("div",{key:a,staticClass:"al-group",on:{click:function(n){return e._selectAL(a,t)}}},[n("img",{attrs:{src:0==t.cpltType?"img/parent/btn_alphabet_1.png":"img/parent/btn_alphabet_2.png"}}),n("span",{style:0==t.cpltType?"color:#000":"color:#FFF"},[e._v(e._s(t.createdDate))])])})),e._m(0)],2)]),this.mIsShowDetail?n("ReportALDetail",{attrs:{level:this.mCurrentLevel,idx:this.mCurrentSelectIDX,slotInfo:this.currentALReportSlot},on:{onClose:function(t){return e._showDetail(!1)}}}):e._e()],1)},uu=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"group"},[n("span",{staticClass:"comment"},[e._v("13개 코스를 완료하면 "),n("br"),e._v("리포트가 발행됩니다.")])])}],mu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ReportALDetail"},[n("div",{staticClass:"topMenu"},[n("div",{staticClass:"row"},[n("img",{staticClass:"menuBTN",attrs:{src:"img/parent/btn_pre.png"},on:{click:function(t){return t.stopPropagation(),e._close()}}}),n("div",{staticClass:"title"},[e._v(e._s(this.titleLabel))])])]),n("div",{staticClass:"contents"},[n("div",{staticClass:"row center"},[n("div",{staticClass:"group"},[n("div",[n("div",{staticClass:"info"},[n("span",{staticClass:"subject"},[e._v("발행일")]),e._v(" "),n("span",{staticClass:"value"},[e._v(e._s(this.sttcCreDate))])]),n("div",{staticClass:"info"},[n("span",{staticClass:"subject"},[e._v("나 이")]),e._v(" "),n("span",{staticClass:"value"},[e._v(e._s(this.childAge)+"세")])]),n("div",{staticClass:"info"},[n("span",{staticClass:"subject"},[e._v("이 름")]),e._v(" "),n("span",{staticClass:"value"},[e._v(e._s(this.childNm))])]),n("div",{staticClass:"info"},[n("span",{staticClass:"subject"},[e._v("배운 알파벳")]),e._v(" "),n("span",{staticClass:"value"},[e._v(e._s(this.studiedAlphabet))])])])])]),n("div",{staticClass:"row center"},[n("div",{staticClass:"group",staticStyle:{"padding-bottom":"0"}},[n("h1",[e._v("영역 평가")]),n("div",{staticClass:"user"},[n("img",{attrs:{src:"img/parent/line_pink.png"}}),e._v(e._s(this.childNm))]),e._m(0),n("DirGraph",{staticStyle:{margin:"20px 0 0 -20px"},attrs:{data:[{color:"#CCCC",data:this.areaInfoAvg},{color:"#F00",data:this.areaInfoSelf}],margin:160,size:"600",labels:this.areaInfoLevel}})],1)]),n("SectionInfo",{attrs:{title:"알파벳 글자영역",color:"#0fbfbf",fontcolor:"#097878",percent:this.section1.avg,data:[{label:"모양인지",value:this.section1.value[0].score,max:100,comment:this.section1.value[0].comment},{label:"대소문자 구분",value:this.section1.value[1].score,max:100,comment:this.section1.value[1].comment}]}}),n("SectionInfo",{attrs:{title:"알파벳 듣기 및 읽기영역",color:"#0fbfbf",fontcolor:"#097878",percent:this.section2.avg,data:[{label:"소리와 글자연결",value:this.section2.value[0].score,max:100,comment:this.section2.value[0].comment},{label:"글자와 소리 연결",value:this.section2.value[1].score,max:100,comment:this.section2.value[1].comment}]}}),n("SectionInfo",{attrs:{title:"알파벳 쓰기 영역",color:"#0fbfbf",fontcolor:"#097878",percent:this.section3.avg,data:[{label:"대문자 쓰기 이해",value:this.section3.value[0].score,max:100,comment:this.section3.value[0].comment},{label:"소문자 쓰기 이해",value:this.section3.value[1].score,max:100,comment:this.section3.value[1].comment}]}}),n("SectionInfo",{attrs:{title:"대표 단어 인지 영역",color:"#0fbfbf",fontcolor:"#097878",percent:this.section4.avg,data:[{label:"대표 단어 글자인지",value:this.section4.value[0].score,max:100,comment:this.section4.value[0].comment},{label:"대표 단어 의미 이해",value:this.section4.value[1].score,max:100,comment:this.section4.value[1].comment}]}}),n("BookInfoAL",{attrs:{title:"글자",infoThumb:"img/parent/alinfo1.png",dataset:[{color:"#0ad7d7",label:this.getBookinfo(0).progressLabel[0].toString(),start:0,end:this.getBookinfo(0).progressRate[0]/100*360},{color:"#0fbfbf",label:this.getBookinfo(0).progressLabel[1].toString(),start:this.getBookinfo(0).progressRate[0]/100*360,end:(this.getBookinfo(0).progressRate[0]+this.getBookinfo(0).progressRate[1])/100*360}],score:this.getBookinfo(0).score,grade:this.getBookinfo(0).grade,notCompleted:this.getBookinfo(0).notCompleted}}),n("BookInfoAL",{attrs:{title:"듣기,읽기",infoThumb:"img/parent/alinfo2.png",dataset:[{color:"#be4cff",label:this.getBookinfo(1).progressLabel[0].toString(),start:0,end:this.getBookinfo(1).progressRate[0]/100*360},{color:"#00c641",label:this.getBookinfo(1).progressLabel[1].toString(),start:this.getBookinfo(1).progressRate[0]/100*360,end:(this.getBookinfo(1).progressRate[0]+this.getBookinfo(1).progressRate[1])/100*360}],score:this.getBookinfo(1).score,grade:this.getBookinfo(1).grade,notCompleted:this.getBookinfo(1).notCompleted}}),n("BookInfoAL",{attrs:{title:"쓰기",infoThumb:"img/parent/alinfo3.png",dataset:[{color:"#ff4999",label:this.getBookinfo(2).progressLabel[0].toString(),start:0,end:this.getBookinfo(2).progressRate[0]/100*360},{color:"#ec267d",label:this.getBookinfo(2).progressLabel[1].toString(),start:this.getBookinfo(2).progressRate[0]/100*360,end:(this.getBookinfo(2).progressRate[0]+this.getBookinfo(2).progressRate[1])/100*360}],score:this.getBookinfo(2).score,grade:this.getBookinfo(2).grade,notCompleted:this.getBookinfo(2).notCompleted}}),n("BookInfoAL",{attrs:{title:"단어",infoThumb:"img/parent/alinfo4.png",dataset:[{color:"#ffc705",label:this.getBookinfo(3).progressLabel[0].toString(),start:0,end:this.getBookinfo(3).progressRate[0]/100*360},{color:"#ffe505",label:this.getBookinfo(3).progressLabel[1].toString(),start:this.getBookinfo(3).progressRate[0]/100*360,end:(this.getBookinfo(3).progressRate[0]+this.getBookinfo(3).progressRate[1])/100*360}],score:this.getBookinfo(3).score,grade:this.getBookinfo(3).grade,notCompleted:this.getBookinfo(3).notCompleted}}),n("ALTalentInfo",{attrs:{labels:this.talentLabels,name:this.childNm,selfData:this.selfData,avgData:this.avgData,comments:this.comments}})],1)])},hu=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"theOther"},[n("img",{attrs:{src:"img/parent/line_grey.png"}}),e._v("다른 학생들")])}],du=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("canvas",{ref:"stage",staticClass:"container",attrs:{width:this.size,height:this.size}})])},pu=[],fu=n("53ca"),gu=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mCurrentValue=[],e}return Object(u["a"])(n,[{key:"onChangeData",value:function(e,t){this._updateValue()}},{key:"mounted",value:function(){this.mCTX=this.$refs.stage.getContext("2d"),this._clear(),this._updateValue()}},{key:"_clear",value:function(){this.mCTX.clearRect(0,0,this.size,this.size),this._drawBG()}},{key:"_drawBG",value:function(){var e=this.size,t=this.margin,n=(this.size-2*t)/10;this.mCTX.save(),this.mCTX.beginPath(),this.mCTX.moveTo(t,e/2),this.mCTX.lineTo(e/2,t),this.mCTX.lineTo(e-t,e/2),this.mCTX.lineTo(e/2,e-t),this.mCTX.fillStyle="#E8E8E8",this.mCTX.fill(),this.mCTX.beginPath();for(var a=0;a<5;a++){var i=[t+n*a,e/2],o=[e/2,t+n*a],r=[e-(t+n*a),e/2],s=[e/2,e-(t+n*a)];this.mCTX.moveTo(i[0],i[1]),this.mCTX.lineTo(o[0],o[1]),this.mCTX.lineTo(r[0],r[1]),this.mCTX.lineTo(s[0],s[1]),this.mCTX.lineTo(i[0],i[1]),this.mCTX.strokeStyle="#CCC",this.mCTX.stroke()}this.mCTX.beginPath(),this.mCTX.moveTo(t,e/2),this.mCTX.lineTo(e-t,e/2),this.mCTX.moveTo(e/2,t),this.mCTX.lineTo(e/2,e-t),this.mCTX.strokeStyle="#BBB",this.mCTX.stroke(),this.mCTX.font="20px Arial",this.mCTX.fillStyle="#BBB",this.mCTX.textAlign="end",this.mCTX.textBaseline="middle";for(var c=0;c<6;c++)this.mCTX.fillText((20*c).toString(),e/2-10,e/2-n*c);for(var l=26,u=[["end","middle",t-l,e/2],["center","bottom",e/2,t-l],["start","middle",e-t+l,e/2],["center","top",e/2,e-t+l]],m=0;m<4;m++)if(this.mCTX.font="bold 24px Arial",this.mCTX.fillStyle="#888",this.mCTX.textAlign=u[m][0],this.mCTX.textBaseline=u[m][1],"object"==Object(fu["a"])(this.labels[m])){var h,d=0,p=Object(x["a"])(this.labels[m]);try{for(p.s();!(h=p.n()).done;){var f=h.value;this.mCTX.fillText(f,u[m][2],u[m][3]+d),d+=28}}catch(g){p.e(g)}finally{p.f()}}else this.mCTX.fillText(this.labels[m],u[m][2],u[m][3]);this.mCTX.restore()}},{key:"isInViewport",value:function(){var e=this.$el.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}},{key:"_drawLine",value:function(e,t){var n=this.size,a=this.margin,i=(this.size,n/2),o=i-a,r=[[i-o*(t[0]/100),i],[i,i-o*(t[1]/100)],[i+o*(t[2]/100),i],[i,i+o*(t[3]/100)]];this.mCTX.save();for(var s=0;s<4;s++)this.mCTX.beginPath(),this.mCTX.arc(r[s][0],r[s][1],8,0,2*Math.PI),this.mCTX.fillStyle=e,this.mCTX.fill();this.mCTX.beginPath(),this.mCTX.moveTo(r[0][0],r[0][1]),this.mCTX.lineTo(r[1][0],r[1][1]),this.mCTX.lineTo(r[2][0],r[2][1]),this.mCTX.lineTo(r[3][0],r[3][1]),this.mCTX.lineTo(r[0][0],r[0][1]),this.mCTX.lineWidth=5,this.mCTX.strokeStyle=e,this.mCTX.stroke(),this.mCTX.restore()}},{key:"_drawProc",value:function(){this._clear();var e,t=0,n=Object(x["a"])(this.data);try{for(n.s();!(e=n.n()).done;){var a=e.value;this._drawLine(a.color,this.mCurrentValue[t].data),t+=1}}catch(i){n.e(i)}finally{n.f()}}},{key:"_updateValue",value:function(){var e=this;this.mCurrentValue=[];var t,n=0,a=Object(x["a"])(this.data);try{for(a.s();!(t=a.n()).done;){var i=t.value;this.mCurrentValue.push({color:i.color,data:[0,0,0,0]}),me["c"].to(this.mCurrentValue[n].data,{delay:.5*n,0:i.data[0],1:i.data[1],2:i.data[2],3:i.data[3],duration:.5}).eventCallback("onUpdate",(function(){e._drawProc()})),n+=1}}catch(o){a.e(o)}finally{a.f()}}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:[]})],gu.prototype,"data",void 0),Object(d["a"])([Object(p["b"])({default:"#FFF"})],gu.prototype,"borderColor",void 0),Object(d["a"])([Object(p["b"])({default:5})],gu.prototype,"borderWidth",void 0),Object(d["a"])([Object(p["b"])({default:15})],gu.prototype,"fontsize",void 0),Object(d["a"])([Object(p["b"])({default:300})],gu.prototype,"size",void 0),Object(d["a"])([Object(p["b"])({default:100})],gu.prototype,"margin",void 0),Object(d["a"])([Object(p["b"])({default:["라벨1","라벨2","라벨3","라벨4"]})],gu.prototype,"labels",void 0),Object(d["a"])([Object(p["d"])("data")],gu.prototype,"onChangeData",null),gu=Object(d["a"])([Object(p["a"])({})],gu);var vu=gu,bu=vu,yu=(n("d8c8"),Object(S["a"])(bu,du,pu,!1,null,"071b63d7",null)),Cu=yu.exports,ku=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"SectionInfo"},[n("div",{staticClass:"panel"},[n("h1",{staticClass:"title",staticStyle:{"margin-bottom":"22px"}},[e._v(e._s(e.title))]),n("div",{staticClass:"row center",staticStyle:{"margin-bottom":"35px"}},[n("Graph",{ref:"graph",staticStyle:{width:"100%"},attrs:{value:this.percent,height:"34",color:e.color,bgcolor:"#FFF",labelcolor:"#FFF"}})],1),e._l(e.data,(function(t,a){return n("div",{key:a,staticClass:"description",style:"--font-color:"+e.fontcolor},[n("div",{staticClass:"row"},[n("div",{staticClass:"marker"}),n("div",{staticClass:"lineValue"},[n("div",{staticClass:"title"},[e._v(e._s(t.label))]),n("div",{staticClass:"value"},[e._v("( "),n("span",[e._v(e._s(t.value))]),e._v("/"+e._s(t.max)+" )")])])]),n("div",{staticClass:"row"},[n("span",{staticClass:"comment"},[e._v(e._s(t.comment))])])])}))],2)])},Su=[],wu=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"mounted",value:function(){}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:"#CCC"})],wu.prototype,"fontcolor",void 0),Object(d["a"])([Object(p["b"])({default:"#CCC"})],wu.prototype,"color",void 0),Object(d["a"])([Object(p["b"])({default:0})],wu.prototype,"percent",void 0),Object(d["a"])([Object(p["b"])({default:""})],wu.prototype,"title",void 0),Object(d["a"])([Object(p["b"])({default:[]})],wu.prototype,"data",void 0),wu=Object(d["a"])([Object(p["a"])({components:{Graph:_l}})],wu);var _u=wu,xu=_u,Iu=(n("e525"),Object(S["a"])(xu,ku,Su,!1,null,"6ea14cc4",null)),Ou=Iu.exports,Pu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"BookInfo"},[n("div",{staticClass:"panel"},[n("div",{staticClass:"rowcenter",staticStyle:{"margin-bottom":"2rem"}},[n("img",{attrs:{src:"img/parent/titlecover_start.png"}}),n("span",{staticClass:"title"},[e._v(e._s(e.title))]),n("img",{attrs:{src:"img/parent/titlecover_end.png"}})]),n("div",{staticClass:"colcenter"},[n("CircleGraph",{attrs:{data:this.dataset,borderColor:"#ededed",borderWidth:"10",fontsize:"20",size:"350"}}),n("img",{staticStyle:{margin:"0.5rem 0"},attrs:{src:e.infoThumb}})],1),n("div",{staticClass:"description"},[n("div",{staticClass:"row"},[n("div",{staticClass:"marker"}),n("div",{staticClass:"lineValue"},[n("div",{staticClass:"title"},[e._v("종합 평점")]),e._v(" "),n("div",{staticClass:"value"},[e._v(e._s(this.grade))])])]),n("div",{staticClass:"row"},[n("span",{staticClass:"comment"},[e._v(e._s(this.score))])]),n("div",{staticClass:"row"},[n("div",{staticClass:"marker"}),n("div",{staticClass:"lineValue"},[n("div",{staticClass:"title"},[e._v("미완성 "+e._s(this.title))])])]),n("div",{staticClass:"row"},[n("span",{staticClass:"comment"},[e._v(e._s(this.wordsString))])])])])])},Ru=[],ju=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"mounted",value:function(){}},{key:"wordsString",get:function(){var e,t="",n=Object(x["a"])(this.notCompleted);try{for(n.s();!(e=n.n()).done;){var a=e.value;t+=a,this.notCompleted.indexOf(a)<this.notCompleted.length-1&&(t+=", ")}}catch(i){n.e(i)}finally{n.f()}return t}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:"#FCC"})],ju.prototype,"fontcolor",void 0),Object(d["a"])([Object(p["b"])({default:""})],ju.prototype,"title",void 0),Object(d["a"])([Object(p["b"])({default:"img/parent/bookinfo.png"})],ju.prototype,"infoThumb",void 0),Object(d["a"])([Object(p["b"])({default:function(){return[{start:0,end:45,color:"#00c641"},{start:45,end:130,color:"#ae4fff"},{start:130,end:200,color:"#00a0e9"},{start:200,end:360,color:"#ff8f21"}]}})],ju.prototype,"dataset",void 0),Object(d["a"])([Object(p["b"])({default:0})],ju.prototype,"score",void 0),Object(d["a"])([Object(p["b"])({default:"X"})],ju.prototype,"grade",void 0),Object(d["a"])([Object(p["b"])({default:function(){return[]}})],ju.prototype,"notCompleted",void 0),ju=Object(d["a"])([Object(p["a"])({components:{Graph:_l,CircleGraph:Tl}})],ju);var Du=ju,Tu=Du,Bu=(n("42f5"),Object(S["a"])(Tu,Pu,Ru,!1,null,"33e645b9",null)),Lu=Bu.exports,Au=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"TalentInfo"},[n("div",{staticClass:"panel"},[e._m(0),n("div",{staticClass:"colcenter"},[n("LineGraph",{attrs:{data:[{color:"#bbbbbb",data:this.avgData},{color:"#ff454d",data:this.selfData}],height:"300",width:"600",labels:this.labels}}),n("div",{staticClass:"row"},[n("img",{attrs:{src:"img/parent/line_grey.png"}}),n("span",[e._v("평균")]),n("img",{staticStyle:{"margin-left":"20px"},attrs:{src:"img/parent/line_red.png"}}),n("span",[e._v(e._s(this.name))])])],1),e._m(1),n("div",{staticClass:"row"},[n("span",{staticClass:"comment"},[e._v(" "+e._s(this.comments[0])+" ")])]),e._m(2),n("div",{staticClass:"row"},[n("span",{staticClass:"comment"},[e._v(" "+e._s(this.comments[1])+" ")])]),e._m(3),n("div",{staticClass:"row"},[n("span",{staticClass:"comment"},[e._v(" "+e._s(this.comments[2])+" ")])]),e._m(4),n("div",{staticClass:"row"},[n("span",{staticClass:"comment"},[e._v(" "+e._s(this.comments[3])+" ")])])])])},Mu=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("span",{staticClass:"title"},[e._v("확장 지적 재능")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row",staticStyle:{"margin-top":"20px"}},[n("span",{staticClass:"subject"},[e._v("정보 이해")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("span",{staticClass:"subject"},[e._v("객체 조립")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("span",{staticClass:"subject"},[e._v("공통성 파악")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("span",{staticClass:"subject"},[e._v("수용 어휘")])])}],Gu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("canvas",{ref:"stage",staticClass:"container",attrs:{width:this.width,height:this.height}})])},Eu=[],Xu=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mCurrentValue=[],e}return Object(u["a"])(n,[{key:"onChangeData",value:function(e,t){this.updateValue()}},{key:"onChangeLabelData",value:function(e,t){this.updateValue()}},{key:"mounted",value:function(){this.mCTX=this.$refs.stage.getContext("2d"),this._clear(),this.updateValue()}},{key:"_clear",value:function(){this.mCTX.clearRect(0,0,this.width,this.height),this._drawBG()}},{key:"_drawBG",value:function(){this.width,this.height;this.mCTX.save();for(var e=[50,30],t=(this.width-e[0])/4-5,n=this.height-e[1]-40,a="#E8E8E8",i="#F0F0F0",o="#999",r=0;r<4;r++)this.mCTX.fillStyle=r%2==0?a:i,this.mCTX.fillRect(e[0]+t*r,e[1],t,n);this.mCTX.strokeStyle=o,this.mCTX.strokeRect(e[0],e[1],4*t,n),this.mCTX.beginPath(),this.mCTX.strokeStyle=o,this.mCTX.moveTo(e[0],e[1]+n/2),this.mCTX.lineTo(e[0]+4*t,e[1]+n/2),this.mCTX.stroke(),this.mCTX.font="20px Arial",this.mCTX.fillStyle="#999",this.mCTX.textAlign="end",this.mCTX.textBaseline="middle",this.mCTX.fillText("100",e[0]-5,e[1]),this.mCTX.fillText("50",e[0]-5,e[1]+n/2),this.mCTX.fillText("0",e[0]-5,e[1]+n),this.mCTX.font="bold 22px Arial",this.mCTX.fillStyle="#333",this.mCTX.textAlign="center",this.mCTX.textBaseline="top";for(var s=0;s<4;s++)this.mCTX.fillText(this.labels[s],e[0]+t*s+t/2,e[1]+n+10);this.mCTX.restore()}},{key:"isInViewport",value:function(){var e=this.$el.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}},{key:"_drawLine",value:function(e,t){var n=[50,30],a=(this.width-n[0])/4-5,i=this.height-n[1]-40,o=n[1]+i,r=[[n[0]+a/2+0*a,o-i*(t[0]/100)],[n[0]+a/2+1*a,o-i*(t[1]/100)],[n[0]+a/2+2*a,o-i*(t[2]/100)],[n[0]+a/2+3*a,o-i*(t[3]/100)]];this.mCTX.save(),this.mCTX.beginPath(),this.mCTX.moveTo(r[0][0],r[0][1]),this.mCTX.lineTo(r[1][0],r[1][1]),this.mCTX.lineTo(r[2][0],r[2][1]),this.mCTX.lineTo(r[3][0],r[3][1]),this.mCTX.lineWidth=5,this.mCTX.strokeStyle=e,this.mCTX.stroke();for(var s=0;s<4;s++)this.mCTX.beginPath(),this.mCTX.arc(r[s][0],r[s][1],8,0,2*Math.PI),this.mCTX.fillStyle=e,this.mCTX.fill(),this.mCTX.beginPath(),this.mCTX.arc(r[s][0],r[s][1],8,0,2*Math.PI),this.mCTX.fillStyle="rgba(0,0,0,0.3)",this.mCTX.fill();this.mCTX.restore()}},{key:"_drawProc",value:function(){this._clear();var e,t=0,n=Object(x["a"])(this.data);try{for(n.s();!(e=n.n()).done;){var a=e.value;this._drawLine(a.color,this.mCurrentValue[t].data),t+=1}}catch(i){n.e(i)}finally{n.f()}}},{key:"updateValue",value:function(){var e=this;this.mCurrentValue=[];var t,n=0,a=Object(x["a"])(this.data);try{for(a.s();!(t=a.n()).done;){var i=t.value;this.mCurrentValue.push({color:i.color,data:[0,0,0,0]}),me["c"].to(this.mCurrentValue[n].data,{delay:.5*n,0:i.data[0],1:i.data[1],2:i.data[2],3:i.data[3],duration:.5}).eventCallback("onUpdate",(function(){e._drawProc()})),n+=1}}catch(o){a.e(o)}finally{a.f()}}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:700})],Xu.prototype,"width",void 0),Object(d["a"])([Object(p["b"])({default:300})],Xu.prototype,"height",void 0),Object(d["a"])([Object(p["b"])({default:["라벨1","라벨2","라벨3","라벨4"]})],Xu.prototype,"labels",void 0),Object(d["a"])([Object(p["b"])({default:[]})],Xu.prototype,"data",void 0),Object(d["a"])([Object(p["d"])("data")],Xu.prototype,"onChangeData",null),Object(d["a"])([Object(p["d"])("labels")],Xu.prototype,"onChangeLabelData",null),Xu=Object(d["a"])([Object(p["a"])({})],Xu);var Hu=Xu,zu=Hu,Fu=(n("c76f"),Object(S["a"])(zu,Gu,Eu,!1,null,"0f0007b1",null)),Vu=Fu.exports,Wu=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"mounted",value:function(){}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:"#FCC"})],Wu.prototype,"fontcolor",void 0),Object(d["a"])([Object(p["b"])({default:""})],Wu.prototype,"name",void 0),Object(d["a"])([Object(p["b"])({default:function(){return["--","--","--","--"]}})],Wu.prototype,"labels",void 0),Object(d["a"])([Object(p["b"])({default:function(){return[0,0,0,0]}})],Wu.prototype,"selfData",void 0),Object(d["a"])([Object(p["b"])({default:function(){return[0,0,0,0]}})],Wu.prototype,"avgData",void 0),Object(d["a"])([Object(p["b"])({default:function(){return["","","",""]}})],Wu.prototype,"comments",void 0),Wu=Object(d["a"])([Object(p["a"])({components:{LineGraph:Vu}})],Wu);var Qu=Wu,Nu=Qu,$u=(n("04cd"),Object(S["a"])(Nu,Au,Mu,!1,null,"33d8a323",null)),qu=$u.exports,Uu=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"getBookinfo",value:function(e){var t={progressRate:[50,50],progressLabel:[0,0],score:0,grade:"-",notCompleted:[]};if(null==this.detailReportAL)return t;if(0==e){if(void 0===this.detailReportAL.AM001)return t;if(void 0===this.detailReportAL.AM001.progressRate)return t;if(t.progressRate=this.detailReportAL.AM001.progressRate,t.progressLabel=[this.detailReportAL.AM001.AM001001.msmtScore,this.detailReportAL.AM001.AM001002.msmtScore],void 0===this.detailReportAL.AM001.total)return t;t.score=this.detailReportAL.AM001.total.score,t.grade=this.detailReportAL.AM001.total.grade,t.notCompleted=this.detailReportAL.AM001.total.notCompleted}else if(1==e){if(void 0===this.detailReportAL.AM002)return t;if(void 0===this.detailReportAL.AM002.progressRate)return t;if(t.progressRate=this.detailReportAL.AM002.progressRate,t.progressLabel=[this.detailReportAL.AM002.AM002001.msmtScore,this.detailReportAL.AM002.AM002002.msmtScore],void 0===this.detailReportAL.AM002.total)return t;t.score=this.detailReportAL.AM002.total.score,t.grade=this.detailReportAL.AM002.total.grade,t.notCompleted=this.detailReportAL.AM002.total.notCompleted}else if(2==e){if(void 0===this.detailReportAL.AM003)return t;if(void 0===this.detailReportAL.AM003.progressRate)return t;if(t.progressRate=this.detailReportAL.AM003.progressRate,t.progressLabel=[this.detailReportAL.AM003.AM003001.msmtScore,this.detailReportAL.AM003.AM003002.msmtScore],void 0===this.detailReportAL.AM003.total)return t;t.score=this.detailReportAL.AM003.total.score,t.grade=this.detailReportAL.AM003.total.grade,t.notCompleted=this.detailReportAL.AM003.total.notCompleted}else if(3==e){if(void 0===this.detailReportAL.AM004)return t;if(void 0===this.detailReportAL.AM004.progressRate)return t;if(t.progressRate=this.detailReportAL.AM004.progressRate,t.progressLabel=[this.detailReportAL.AM004.AM004001.msmtScore,this.detailReportAL.AM004.AM004002.msmtScore],void 0===this.detailReportAL.AM004.total)return t;t.score=this.detailReportAL.AM004.total.score,t.grade=this.detailReportAL.AM004.total.grade,t.notCompleted=this.detailReportAL.AM004.total.notCompleted}return t}},{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(this.idx,this.level,this.slotInfo),!(null!=this.slotInfo||void 0!==this.slotInfo.lrngSttcSeqno||this.slotInfo.lrngSttcSeqno>=0)){e.next=5;break}return e.next=4,ce.getDetailReportAL({lrngSttcSeqno:this.slotInfo.lrngSttcSeqno});case 4:console.log(ce.detailReportAL);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_close",value:function(){this.$emit("onClose")}},{key:"detailReportAL",get:function(){return ce.detailReportAL}},{key:"sttcCreDate",get:function(){return null==this.detailReportAL?"--":this.detailReportAL.sttcCreDate}},{key:"childAge",get:function(){return null==this.detailReportAL?0:this.detailReportAL.childAge}},{key:"childNm",get:function(){return null==this.detailReportAL?"--":this.detailReportAL.childNm}},{key:"titleLabel",get:function(){return null==this.slotInfo?"":void 0==this.slotInfo.cpltType?"--":0==this.slotInfo.cpltType?"A - M":"N - Z"}},{key:"studiedAlphabet",get:function(){return null==this.detailReportAL?"--":1==this.detailReportAL.alphabetStep?"A - M (a-m)":"N - Z (n-z)"}},{key:"areaInfoSelf",get:function(){return null==this.detailReportAL?[0,0,0,0]:[this.detailReportAL.asesByArea[0].acvtMsmtScore,this.detailReportAL.asesByArea[1].acvtMsmtScore,this.detailReportAL.asesByArea[2].acvtMsmtScore,this.detailReportAL.asesByArea[3].acvtMsmtScore]}},{key:"areaInfoAvg",get:function(){return null==this.detailReportAL?[0,0,0,0]:[this.detailReportAL.asesByArea[0].acvtMsmtAvgScore,this.detailReportAL.asesByArea[1].acvtMsmtAvgScore,this.detailReportAL.asesByArea[2].acvtMsmtAvgScore,this.detailReportAL.asesByArea[3].acvtMsmtAvgScore]}},{key:"areaInfoLevel",get:function(){return null==this.detailReportAL?["","","",""]:[this.detailReportAL.asesByArea[0].acvtMsmtNm,this.detailReportAL.asesByArea[1].acvtMsmtNm,this.detailReportAL.asesByArea[2].acvtMsmtNm,this.detailReportAL.asesByArea[3].acvtMsmtNm]}},{key:"section1",get:function(){var e={avg:0,value:[{score:0,comment:"설명 없음"},{score:0,comment:"설명 없음"}]};return null==this.detailReportAL||void 0===this.detailReportAL.AM001||(void 0!==this.detailReportAL.AM001.avgScore&&(e.avg=this.detailReportAL.AM001.avgScore),void 0===this.detailReportAL.AM001.AM001001&&void 0===this.detailReportAL.AM001.AM001001.msmtScore&&void 0===this.detailReportAL.AM001.AM001001.asesCtt||(e.value[0].score=this.detailReportAL.AM001.AM001001.msmtScore,e.value[0].comment=this.detailReportAL.AM001.AM001001.asesCtt),void 0===this.detailReportAL.AM001.AM001002&&void 0===this.detailReportAL.AM001.AM001002.msmtScore&&void 0===this.detailReportAL.AM001.AM001002.asesCtt||(e.value[1].score=this.detailReportAL.AM001.AM001002.msmtScore,e.value[1].comment=this.detailReportAL.AM001.AM001002.asesCtt)),e}},{key:"section2",get:function(){var e={avg:0,value:[{score:0,comment:"설명 없음"},{score:0,comment:"설명 없음"}]};return null==this.detailReportAL||void 0===this.detailReportAL.AM002||(void 0!==this.detailReportAL.AM002.avgScore&&(e.avg=this.detailReportAL.AM002.avgScore),void 0===this.detailReportAL.AM002.AM002001&&void 0===this.detailReportAL.AM002.AM002001.msmtScore&&void 0===this.detailReportAL.AM002.AM002001.asesCtt||(e.value[0].score=this.detailReportAL.AM002.AM002001.msmtScore,e.value[0].comment=this.detailReportAL.AM002.AM002001.asesCtt),void 0===this.detailReportAL.AM002.AM002002&&void 0===this.detailReportAL.AM002.AM002002.msmtScore&&void 0===this.detailReportAL.AM002.AM002002.asesCtt||(e.value[1].score=this.detailReportAL.AM002.AM002002.msmtScore,e.value[1].comment=this.detailReportAL.AM002.AM002002.asesCtt)),e}},{key:"section3",get:function(){var e={avg:0,value:[{score:0,comment:"설명 없음"},{score:0,comment:"설명 없음"}]};return null==this.detailReportAL||void 0===this.detailReportAL.AM003||(void 0!==this.detailReportAL.AM003.avgScore&&(e.avg=this.detailReportAL.AM003.avgScore),void 0===this.detailReportAL.AM003.AM003001&&void 0===this.detailReportAL.AM003.AM003001.msmtScore&&void 0===this.detailReportAL.AM003.AM003001.asesCtt||(e.value[0].score=this.detailReportAL.AM003.AM003001.msmtScore,e.value[0].comment=this.detailReportAL.AM003.AM003001.asesCtt),void 0===this.detailReportAL.AM003.AM003002&&void 0===this.detailReportAL.AM003.AM003002.msmtScore&&void 0===this.detailReportAL.AM003.AM003002.asesCtt||(e.value[1].score=this.detailReportAL.AM003.AM003002.msmtScore,e.value[1].comment=this.detailReportAL.AM003.AM003002.asesCtt)),e}},{key:"section4",get:function(){var e={avg:0,value:[{score:0,comment:"설명 없음"},{score:0,comment:"설명 없음"}]};return null==this.detailReportAL||void 0===this.detailReportAL.AM004||(void 0!==this.detailReportAL.AM004.avgScore&&(e.avg=this.detailReportAL.AM004.avgScore),void 0===this.detailReportAL.AM004.AM004001&&void 0===this.detailReportAL.AM004.AM004001.msmtScore&&void 0===this.detailReportAL.AM004.AM004001.asesCtt||(e.value[0].score=this.detailReportAL.AM004.AM004001.msmtScore,e.value[0].comment=this.detailReportAL.AM004.AM004001.asesCtt),void 0===this.detailReportAL.AM004.AM004002&&void 0===this.detailReportAL.AM004.AM004002.msmtScore&&void 0===this.detailReportAL.AM004.AM004002.asesCtt||(e.value[1].score=this.detailReportAL.AM004.AM004002.msmtScore,e.value[1].comment=this.detailReportAL.AM004.AM004002.asesCtt)),e}},{key:"talentLabels",get:function(){return["정보이해","객체조립","공통성 파악","수용 어휘"]}},{key:"selfData",get:function(){return null==this.detailReportAL?[0,0,0,0]:[this.detailReportAL.xpndIntllctlTalent.AM005001.msmtScore,this.detailReportAL.xpndIntllctlTalent.AM006001.msmtScore,this.detailReportAL.xpndIntllctlTalent.AM007001.msmtScore,this.detailReportAL.xpndIntllctlTalent.AM008001.msmtScore]}},{key:"avgData",get:function(){return null==this.detailReportAL?[0,0,0,0]:[this.detailReportAL.xpndIntllctlTalent.AM005001.avgScore,this.detailReportAL.xpndIntllctlTalent.AM006001.avgScore,this.detailReportAL.xpndIntllctlTalent.AM007001.avgScore,this.detailReportAL.xpndIntllctlTalent.AM008001.avgScore]}},{key:"comments",get:function(){return null==this.detailReportAL?["","","",""]:[this.detailReportAL.xpndIntllctlTalent.AM005001.asesCtt,this.detailReportAL.xpndIntllctlTalent.AM006001.asesCtt,this.detailReportAL.xpndIntllctlTalent.AM007001.asesCtt,this.detailReportAL.xpndIntllctlTalent.AM008001.asesCtt]}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:null})],Uu.prototype,"slotInfo",void 0),Object(d["a"])([Object(p["b"])({default:0})],Uu.prototype,"idx",void 0),Object(d["a"])([Object(p["b"])({default:0})],Uu.prototype,"level",void 0),Uu=Object(d["a"])([Object(p["a"])({components:{Graph:_l,DirGraph:Cu,SectionInfo:Ou,BookInfoAL:Lu,ALTalentInfo:qu}})],Uu);var Yu=Uu,Ku=Yu,Ju=(n("63f3"),Object(S["a"])(Ku,mu,hu,!1,null,"634fc055",null)),Zu=Ju.exports,em=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mCurrentLevel=1,e.mCurrentALReportSlot=null,e.mCurrentSelectIDX=0,e.mIsShowDetail=!1,e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!=ce.actSlotReport){e.next=3;break}return e.next=3,ce.getActSlotReport();case 3:console.log(ce.actSlotReport);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_selectLevel",value:function(e){this.mCurrentLevel=e}},{key:"_selectAL",value:function(e,t){this.mCurrentSelectIDX=e+1,this.mCurrentALReportSlot=t,this._showDetail(!0)}},{key:"_showDetail",value:function(e){e?(this.$el.scrollTo(0,0),this.$el.setAttribute("style","overflow:hidden; height:720px;")):this.$el.setAttribute("style","overflow-y: scroll;  height:calc(720px - 90px);"),this.$emit("swiperFlag",e),this.$emit("_showDetail",e),this.mIsShowDetail=e}},{key:"_onOffSwiper",value:function(e){this.$emit("_onOffSwiper",e)}},{key:"currentLevel",get:function(){return this.mCurrentLevel}},{key:"actSlotReport",get:function(){return null==ce.actSlotReport||null==ce.actSlotReport.alphabet?[]:1==this.mCurrentLevel?null==ce.actSlotReport.alphabet.lv1?[]:ce.actSlotReport.alphabet.lv1:2==this.mCurrentLevel?null==ce.actSlotReport.alphabet.lv2?[]:ce.actSlotReport.alphabet.lv2:3==this.mCurrentLevel?null==ce.actSlotReport.alphabet.lv3?[]:ce.actSlotReport.alphabet.lv3:[]}},{key:"currentALReportSlot",get:function(){return this.mCurrentALReportSlot}}]),n}(p["c"]);em=Object(d["a"])([Object(p["a"])({components:{ReportALDetail:Zu}})],em);var tm=em,nm=tm,am=(n("0c84"),Object(S["a"])(nm,lu,uu,!1,null,"5dbe6fb8",null)),im=am.exports,om=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"reportSB"},[n("div",{staticClass:"totalMenu"},[n("div",{staticClass:"row"},[n("div",{staticClass:"select-group",on:{pointerover:function(t){return e._onOffSwiper(!1)},pointerleave:function(t){return e._onOffSwiper(!0)}}},[n("img",{staticClass:"bg",attrs:{src:"img/parent/level_bar.png"}}),n("img",{staticClass:"btn",staticStyle:{left:"-5px"},style:1==e.currentLevel?"opacity:1":"opacity:0",attrs:{src:"img/parent/btn_level1.png"},on:{click:function(t){return e._selectLevel(1)}}}),n("img",{staticClass:"btn",staticStyle:{left:"214px"},style:2==e.currentLevel?"opacity:1":"opacity:0",attrs:{src:"img/parent/btn_level2.png"},on:{click:function(t){return e._selectLevel(2)}}}),n("img",{staticClass:"btn",staticStyle:{left:"434px"},style:3==e.currentLevel?"opacity:1":"opacity:0",attrs:{src:"img/parent/btn_level3.png"},on:{click:function(t){return e._selectLevel(3)}}})])]),n("div",{staticClass:"col"},[e._l(this.actSlotReport,(function(t,a){return n("div",{key:a,staticClass:"sb-group",on:{click:function(n){return e._selectSB(a,t)}}},[n("span",[e._v(e._s(t.createdDate))]),n("div",{staticClass:"pic-container"},[n("img",{attrs:{src:e.getBookCoverImagePath(t.cpltBookList[0])}}),n("img",{attrs:{src:e.getBookCoverImagePath(t.cpltBookList[1])}}),n("img",{attrs:{src:e.getBookCoverImagePath(t.cpltBookList[2])}}),n("img",{attrs:{src:e.getBookCoverImagePath(t.cpltBookList[3])}})])])})),this.actSlotReport.length<9?n("div",{staticClass:"sb-group"},[e._m(0)]):e._e()],2)]),this.mIsShowDetail?n("ReportSBDetail",{attrs:{level:this.mCurrentLevel,idx:this.mCurrentSelectIDX,slotInfo:this.currentSBReportSlot},on:{onClose:function(t){return e._showDetail(!1)}}}):e._e()],1)},rm=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"comment"},[e._v("4개 코스를 완료하면 "),n("br"),e._v("리포트가 발행됩니다.")])}],sm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ReportSBDetail"},[n("div",{staticClass:"topMenu"},[n("div",{staticClass:"row"},[n("div",{staticClass:"menuBTN"},[n("img",{staticStyle:{height:"100%"},attrs:{src:"img/parent/btn_pre.png"},on:{click:function(t){return t.stopPropagation(),e._close()}}})]),n("div",{staticClass:"title"},[n("span",{staticClass:"cap"},[e._v("Lv."+e._s(this.level))]),e._v(" "+e._s(this.idx))])])]),n("div",{staticClass:"contents"},[n("div",{staticClass:"row center"},[n("div",{staticClass:"group"},[n("div",[n("div",{staticClass:"info"},[n("span",{staticClass:"subject"},[e._v("발행일")]),e._v(" "),n("span",{staticClass:"value"},[e._v(e._s(this.sttcCreDate))])]),n("div",{staticClass:"info"},[n("span",{staticClass:"subject"},[e._v("나 이")]),e._v(" "),n("span",{staticClass:"value"},[e._v(e._s(this.childAge)+"세")])]),n("div",{staticClass:"info"},[n("span",{staticClass:"subject"},[e._v("이 름")]),e._v(" "),n("span",{staticClass:"value"},[e._v(e._s(this.childNm))])]),n("div",{staticClass:"info"},[n("span",{staticClass:"subject"},[e._v("읽은책")]),e._v(" "),n("span",{staticClass:"value"},[e._v(e._s(this.cpltBookListLabel))])])])])]),n("div",{staticClass:"row center"},[n("div",{staticClass:"group",staticStyle:{padding:"45px 50px 0"}},[n("h1",{staticStyle:{"letter-spacing":"-0.1rem"}},[e._v("영역 평가")]),n("div",{staticClass:"user"},[n("img",{attrs:{src:"img/parent/line_pink.png"}}),e._v(e._s(this.childNm))]),e._m(0),n("DirGraph",{staticStyle:{margin:"20px 0 0 -20px"},attrs:{data:[{color:"#AAA",data:this.areaInfoAvg},{color:"#F00",data:this.areaInfoSelf}],size:"580",labels:this.areaInfoLabel}})],1)]),n("SectionInfo",{attrs:{title:"어휘 영역",color:"#00a0e9",fontcolor:"#005982",percent:this.section1.avg,data:[{label:"철자",value:this.section1.value[0].score,max:100,comment:this.section1.value[0].comment},{label:"음절",value:this.section1.value[1].score,max:100,comment:this.section1.value[1].comment}]}}),n("SectionInfo",{attrs:{title:"듣기 영역",color:"#ae4fff",fontcolor:"#490582",percent:this.section2.avg,data:[{label:"소리와 의미연결",value:this.section2.value[0].score,max:100,comment:this.section2.value[0].comment},{label:"이해력",value:this.section2.value[1].score,max:100,comment:this.section2.value[1].comment}]}}),n("SectionInfo",{attrs:{title:"읽기 영역",color:"#00c641",fontcolor:"#00852c",percent:this.section3.avg,data:[{label:"문자 인지",value:this.section3.value[0].score,max:100,comment:this.section3.value[0].comment},{label:"이해력",value:this.section3.value[1].score,max:100,comment:this.section3.value[1].comment}]}}),n("SectionInfo",{attrs:{title:"말하기 영역",color:"#ff8f21",fontcolor:"#943f06",percent:this.section4.avg,data:[{label:"맥락 이래",value:this.section4.value[0].score,max:100,comment:this.section4.value[0].comment},{label:"대화",value:this.section4.value[1].score,max:100,comment:this.section4.value[1].comment}]}}),e._l(this.dtlAsesInfo,(function(e,t){return n("BookInfoSB",{key:t,attrs:{dataset:[{color:"#00c641",label:e.progressValue[0],start:0,end:e.progressRate[0]/100*360},{color:"#ae4fff",label:e.progressValue[1],start:e.progressRate[0]/100*360,end:(e.progressRate[0]+e.progressRate[1])/100*360},{color:"#00a0e9",label:e.progressValue[2],start:(e.progressRate[0]+e.progressRate[1])/100*360,end:(e.progressRate[0]+e.progressRate[1]+e.progressRate[2])/100*360},{color:"#ff8f21",label:e.progressValue[3],start:(e.progressRate[0]+e.progressRate[1]+e.progressRate[2])/100*360,end:(e.progressRate[0]+e.progressRate[1]+e.progressRate[2]+e.progressRate[3])/100*360}],title:e.bookTitle,grade:e.total.grade,score:e.total.score,cntntUndstdg:e.cntntUndstdg,quizCorrectRate:e.quizCorrectRate,lrngWords:e.lrngWords}})})),n("TalentInfo",{attrs:{data:this.talentInfoData,bookIDList:this.bookIDList}})],2)])},cm=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"theOther"},[n("img",{attrs:{src:"img/parent/line_grey.png"}}),e._v("다른 학생들")])}],lm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"BookInfo"},[n("div",{staticClass:"panel"},[n("div",{staticClass:"rowcenter",staticStyle:{"margin-bottom":"2rem"}},[n("img",{attrs:{src:"img/parent/titlecover_start.png"}}),n("span",{staticClass:"title"},[e._v(e._s(e.title))]),n("img",{attrs:{src:"img/parent/titlecover_end.png"}})]),n("div",{staticClass:"colcenter"},[n("CircleGraph",{attrs:{data:this.dataset,borderColor:"#ededed",borderWidth:"10",fontsize:"20",size:"350"}}),n("img",{staticStyle:{width:"100%",margin:"0.5rem 0"},attrs:{src:e.infoThumb}})],1),n("div",{staticClass:"description"},[n("div",{staticClass:"row"},[n("div",{staticClass:"marker"}),n("div",{staticClass:"lineValue"},[n("div",{staticClass:"title"},[e._v("종합 평점")]),e._v(" "),n("div",{staticClass:"value"},[e._v(e._s(this.grade))])])]),n("div",{staticClass:"row"},[n("span",{staticClass:"comment"},[e._v(e._s(this.score))])]),e._m(0),n("div",{staticClass:"row"},[n("span",{staticClass:"comment"},[e._v(e._s(this.cntntUndstdg))])]),e._m(1),n("div",{staticClass:"row"},[n("span",{staticClass:"comment"},[e._v(e._s(this.quizCorrectRate)+"%")])]),e._m(2),n("div",{staticClass:"row"},[n("span",{staticClass:"comment"},[e._v(e._s(this.lrngWordsString))])])])])])},um=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("div",{staticClass:"marker"}),n("div",{staticClass:"lineValue"},[n("div",{staticClass:"title"},[e._v("내용 이해")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("div",{staticClass:"marker"}),n("div",{staticClass:"lineValue"},[n("div",{staticClass:"title"},[e._v("퀴즈 정답률")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("div",{staticClass:"marker"}),n("div",{staticClass:"lineValue"},[n("div",{staticClass:"title"},[e._v("학습어휘")])])])}],mm=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"mounted",value:function(){}},{key:"lrngWordsString",get:function(){var e,t="",n=Object(x["a"])(this.lrngWords);try{for(n.s();!(e=n.n()).done;){var a=e.value;t+=a,this.lrngWords.indexOf(a)<this.lrngWords.length-1&&(t+=", ")}}catch(i){n.e(i)}finally{n.f()}return t}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:"#FCC"})],mm.prototype,"fontcolor",void 0),Object(d["a"])([Object(p["b"])({default:""})],mm.prototype,"title",void 0),Object(d["a"])([Object(p["b"])({default:"img/parent/bookinfo.png"})],mm.prototype,"infoThumb",void 0),Object(d["a"])([Object(p["b"])({default:function(){return[{start:0,end:45,color:"#00c641"},{start:45,end:130,color:"#ae4fff"},{start:130,end:200,color:"#00a0e9"},{start:200,end:360,color:"#ff8f21"}]}})],mm.prototype,"dataset",void 0),Object(d["a"])([Object(p["b"])({default:0})],mm.prototype,"score",void 0),Object(d["a"])([Object(p["b"])({default:"X"})],mm.prototype,"grade",void 0),Object(d["a"])([Object(p["b"])({default:0})],mm.prototype,"cntntUndstdg",void 0),Object(d["a"])([Object(p["b"])({default:0})],mm.prototype,"quizCorrectRate",void 0),Object(d["a"])([Object(p["b"])({default:function(){return[]}})],mm.prototype,"lrngWords",void 0),mm=Object(d["a"])([Object(p["a"])({components:{Graph:_l,CircleGraph:Tl}})],mm);var hm=mm,dm=hm,pm=(n("4948"),Object(S["a"])(dm,lm,um,!1,null,"59615958",null)),fm=pm.exports,gm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"TalentInfo"},[n("div",{staticClass:"panel"},[e._m(0),n("div",{staticClass:"colcenter"},[n("LineGraph",{attrs:{data:[{color:"#F00",data:this.getScoreData(0)},{color:"#FC0",data:this.getScoreData(1)},{color:"#00F",data:this.getScoreData(2)}],height:"300",width:"600",labels:this.labels}})],1),e._m(1),n("div",{staticClass:"row"},[n("span",{staticClass:"comment"},[e._v(" "+e._s(this.getComment(0))+" ")])]),e._m(2),n("div",{staticClass:"row"},[n("span",{staticClass:"comment"},[e._v(" "+e._s(this.getComment(1))+" ")])]),e._m(3),n("div",{staticClass:"row"},[n("span",{staticClass:"comment"},[e._v(" "+e._s(this.getComment(2))+" ")])])])])},vm=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("span",{staticClass:"title"},[e._v("확장 지적 재능")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row",staticStyle:{"margin-top":"20px"}},[n("img",{attrs:{src:"img/parent/line_red.png"}}),n("span",{staticClass:"subject"},[e._v("확장 이해")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("img",{attrs:{src:"img/parent/line_yellow.png"}}),n("span",{staticClass:"subject"},[e._v("객체 조립")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("img",{attrs:{src:"img/parent/line_blue.png"}}),n("span",{staticClass:"subject"},[e._v("정보 파악")])])}],bm=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"mounted",value:function(){}},{key:"getScoreData",value:function(e){return 0==this.data.length?[0,0,0,0]:this.data[e].score}},{key:"getComment",value:function(e){return 0==this.data.length?"":this.data[e].asesCtt}},{key:"labels",get:function(){return["책 ".concat(Math.floor(this.bookIDList[0]/1e3),"-").concat(this.bookIDList[0]%1e3),"책 ".concat(Math.floor(this.bookIDList[1]/1e3),"-").concat(this.bookIDList[1]%1e3),"책 ".concat(Math.floor(this.bookIDList[2]/1e3),"-").concat(this.bookIDList[2]%1e3),"책 ".concat(Math.floor(this.bookIDList[3]/1e3),"-").concat(this.bookIDList[3]%1e3)]}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:"#FCC"})],bm.prototype,"fontcolor",void 0),Object(d["a"])([Object(p["b"])({default:""})],bm.prototype,"title",void 0),Object(d["a"])([Object(p["b"])({default:function(){return[]}})],bm.prototype,"data",void 0),Object(d["a"])([Object(p["b"])({default:function(){return[1001,1001,1001,1001]}})],bm.prototype,"bookIDList",void 0),bm=Object(d["a"])([Object(p["a"])({components:{LineGraph:Vu}})],bm);var ym=bm,Cm=ym,km=(n("23e5"),Object(S["a"])(Cm,gm,vm,!1,null,"2ea20ad7",null)),Sm=km.exports,wm=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:(null!=this.slotInfo||void 0!==this.slotInfo.lrngSttcSeqno||this.slotInfo.lrngSttcSeqno>=0)&&ce.getDetailReportSB({lrngSttcSeqno:this.slotInfo.lrngSttcSeqno}),window.scrollTo(0,0);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_close",value:function(){this.$emit("onClose")}},{key:"getBookCoverImagePath",value:function(e){return"".concat(N.Config.packageURL,"/bookcover/").concat(e,"_cover.png")}},{key:"detailReportSB",get:function(){return ce.detailReportSB}},{key:"sttcCreDate",get:function(){return null==this.detailReportSB?"--":this.detailReportSB.sttcCreDate}},{key:"childAge",get:function(){return null==this.detailReportSB?0:this.detailReportSB.childAge}},{key:"childNm",get:function(){return null==this.detailReportSB?"--":this.detailReportSB.childNm}},{key:"cpltBookListLabel",get:function(){var e="";if(null==this.detailReportSB)return"--";var t,n=Object(x["a"])(this.detailReportSB.cpltBookList);try{for(n.s();!(t=n.n()).done;){var a=t.value;e+="".concat(Math.floor(a/1e3),"-").concat(a%1e3),this.detailReportSB.cpltBookList.indexOf(a)<3&&(e+=", ")}}catch(i){n.e(i)}finally{n.f()}return e}},{key:"areaInfoLabel",get:function(){return null==this.detailReportSB?["--","--","--","--"]:[this.detailReportSB.asesByArea[0].acvtMsmtNm,this.detailReportSB.asesByArea[1].acvtMsmtNm,this.detailReportSB.asesByArea[2].acvtMsmtNm,this.detailReportSB.asesByArea[3].acvtMsmtNm]}},{key:"areaInfoSelf",get:function(){return null==this.detailReportSB?[0,0,0,0]:[this.detailReportSB.asesByArea[0].acvtMsmtScore,this.detailReportSB.asesByArea[1].acvtMsmtScore,this.detailReportSB.asesByArea[2].acvtMsmtScore,this.detailReportSB.asesByArea[3].acvtMsmtScore]}},{key:"areaInfoAvg",get:function(){return null==this.detailReportSB?[0,0,0,0]:[this.detailReportSB.asesByArea[0].acvtMsmtAvgScore,this.detailReportSB.asesByArea[1].acvtMsmtAvgScore,this.detailReportSB.asesByArea[2].acvtMsmtAvgScore,this.detailReportSB.asesByArea[3].acvtMsmtAvgScore]}},{key:"section1",get:function(){var e={avg:0,value:[{score:0,comment:"설명 없음"},{score:0,comment:"설명 없음"}]};return null==this.detailReportSB||void 0===this.detailReportSB.AM009||(void 0!==this.detailReportSB.AM009.avgScore&&(e.avg=this.detailReportSB.AM009.avgScore),void 0===this.detailReportSB.AM009.AM009001&&void 0===this.detailReportSB.AM009.AM009001.msmtScore&&void 0===this.detailReportSB.AM009.AM009001.asesCtt||(e.value[0].score=this.detailReportSB.AM009.AM009001.msmtScore,e.value[0].comment=this.detailReportSB.AM009.AM009001.asesCtt),void 0===this.detailReportSB.AM009.AM009002&&void 0===this.detailReportSB.AM009.AM009002.msmtScore&&void 0===this.detailReportSB.AM009.AM009002.asesCtt||(e.value[1].score=this.detailReportSB.AM009.AM009002.msmtScore,e.value[1].comment=this.detailReportSB.AM009.AM009002.asesCtt)),e}},{key:"section2",get:function(){var e={avg:0,value:[{score:0,comment:"설명 없음"},{score:0,comment:"설명 없음"}]};return null==this.detailReportSB||void 0===this.detailReportSB.AM010||(void 0!==this.detailReportSB.AM010.avgScore&&(e.avg=this.detailReportSB.AM010.avgScore),void 0===this.detailReportSB.AM010.AM010001&&void 0===this.detailReportSB.AM010.AM010001.msmtScore&&void 0===this.detailReportSB.AM010.AM010001.asesCtt||(e.value[0].score=this.detailReportSB.AM010.AM010001.msmtScore,e.value[0].comment=this.detailReportSB.AM010.AM010001.asesCtt),void 0===this.detailReportSB.AM010.AM010002&&void 0===this.detailReportSB.AM010.AM010002.msmtScore&&void 0===this.detailReportSB.AM010.AM010002.asesCtt||(e.value[1].score=this.detailReportSB.AM010.AM010002.msmtScore,e.value[1].comment=this.detailReportSB.AM010.AM010002.asesCtt)),e}},{key:"section3",get:function(){var e={avg:0,value:[{score:0,comment:"설명 없음"},{score:0,comment:"설명 없음"}]};return null==this.detailReportSB||void 0===this.detailReportSB.AM011||(void 0!==this.detailReportSB.AM011.avgScore&&(e.avg=this.detailReportSB.AM011.avgScore),void 0===this.detailReportSB.AM011.AM011001&&void 0===this.detailReportSB.AM011.AM011001.msmtScore&&void 0===this.detailReportSB.AM011.AM011001.asesCtt||(e.value[0].score=this.detailReportSB.AM011.AM011001.msmtScore,e.value[0].comment=this.detailReportSB.AM011.AM011001.asesCtt),void 0===this.detailReportSB.AM011.AM011002&&void 0===this.detailReportSB.AM011.AM011002.msmtScore&&void 0===this.detailReportSB.AM011.AM011002.asesCtt||(e.value[1].score=this.detailReportSB.AM011.AM011002.msmtScore,e.value[1].comment=this.detailReportSB.AM011.AM011002.asesCtt)),e}},{key:"section4",get:function(){var e={avg:0,value:[{score:0,comment:"설명 없음"},{score:0,comment:"설명 없음"}]};return null==this.detailReportSB||void 0===this.detailReportSB.AM012||(void 0!==this.detailReportSB.AM012.avgScore&&(e.avg=this.detailReportSB.AM012.avgScore),void 0===this.detailReportSB.AM012.AM012001&&void 0===this.detailReportSB.AM012.AM012001.msmtScore&&void 0===this.detailReportSB.AM012.AM012001.asesCtt||(e.value[0].score=this.detailReportSB.AM012.AM012001.msmtScore,e.value[0].comment=this.detailReportSB.AM012.AM012001.asesCtt),void 0===this.detailReportSB.AM012.AM012002&&void 0===this.detailReportSB.AM012.AM012002.msmtScore&&void 0===this.detailReportSB.AM012.AM012002.asesCtt||(e.value[1].score=this.detailReportSB.AM012.AM012002.msmtScore,e.value[1].comment=this.detailReportSB.AM012.AM012002.asesCtt)),e}},{key:"dtlAsesInfo",get:function(){return null==this.detailReportSB||void 0===this.detailReportSB.dtlAsesInfo?[]:this.detailReportSB.dtlAsesInfo}},{key:"talentInfoData",get:function(){return null==this.detailReportSB||void 0===this.detailReportSB.xpndIntllctlTalent?[]:[this.detailReportSB.xpndIntllctlTalent.AM013001,this.detailReportSB.xpndIntllctlTalent.AM014001,this.detailReportSB.xpndIntllctlTalent.AM015001]}},{key:"bookIDList",get:function(){return null==this.detailReportSB||void 0===this.detailReportSB.dtlAsesInfo?[1001,1001,1001,1001]:(console.log(this.detailReportSB.dtlAsesInfo),[this.detailReportSB.dtlAsesInfo[0]?this.detailReportSB.dtlAsesInfo[0].bookID:1001,this.detailReportSB.dtlAsesInfo[1]?this.detailReportSB.dtlAsesInfo[1].bookID:1001,this.detailReportSB.dtlAsesInfo[2]?this.detailReportSB.dtlAsesInfo[2].bookID:1001,this.detailReportSB.dtlAsesInfo[3]?this.detailReportSB.dtlAsesInfo[3].bookID:1001])}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:null})],wm.prototype,"slotInfo",void 0),Object(d["a"])([Object(p["b"])({default:"1st"})],wm.prototype,"idx",void 0),Object(d["a"])([Object(p["b"])({default:0})],wm.prototype,"level",void 0),wm=Object(d["a"])([Object(p["a"])({components:{Graph:_l,DirGraph:Cu,SectionInfo:Ou,BookInfoSB:fm,TalentInfo:Sm}})],wm);var _m=wm,xm=_m,Im=(n("e49d"),Object(S["a"])(xm,sm,cm,!1,null,"1a5d87a4",null)),Om=Im.exports,Pm=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mCurrentLevel=1,e.mCurrentSBReportSlot=null,e.mCurrentSelectIDX="",e.mIsShowDetail=!1,e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!=ce.actSlotReport){e.next=3;break}return e.next=3,ce.getActSlotReport();case 3:console.log(ce.actSlotReport);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBookCoverImagePath",value:function(e){return"".concat(N.Config.packageURL,"/bookcover/").concat(e,"_cover.png")}},{key:"_selectLevel",value:function(e){this.mCurrentLevel=e}},{key:"_selectSB",value:function(e,t){e=this.actSlotReport.length-1-e,this.mCurrentSelectIDX=0==e?"1st":1==e?"2nd":2==e?"3rd":"".concat(e+1,"th"),this.mCurrentSBReportSlot=t,this._showDetail(!0)}},{key:"_showDetail",value:function(e){e?(this.$el.scrollTo(0,0),this.$el.setAttribute("style","overflow:hidden; height:720px;")):this.$el.setAttribute("style","overflow-y: scroll;  height:calc(720px - 90px);"),this.$emit("swiperFlag",e),this.$emit("_showDetail",e),this.mIsShowDetail=e}},{key:"_onOffSwiper",value:function(e){this.$emit("_onOffSwiper",e)}},{key:"currentLevel",get:function(){return this.mCurrentLevel}},{key:"actSlotReport",get:function(){return null==ce.actSlotReport||null==ce.actSlotReport.storybook?[]:1==this.mCurrentLevel?null==ce.actSlotReport.storybook.lv1?[]:ce.actSlotReport.storybook.lv1:2==this.mCurrentLevel?null==ce.actSlotReport.storybook.lv2?[]:ce.actSlotReport.storybook.lv2:3==this.mCurrentLevel?null==ce.actSlotReport.storybook.lv3?[]:ce.actSlotReport.storybook.lv3:[]}},{key:"currentSBReportSlot",get:function(){return this.mCurrentSBReportSlot}}]),n}(p["c"]);Pm=Object(d["a"])([Object(p["a"])({components:{ReportSBDetail:Om}})],Pm);var Rm=Pm,jm=Rm,Dm=(n("5d6c"),Object(S["a"])(jm,om,rm,!1,null,"22672efd",null)),Tm=Dm.exports,Bm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("swiper",{ref:"mySwiper",staticClass:"mySwiper",attrs:{options:e.swiperOptions}},[n("swiper-slide",{staticClass:"slideBox"},[n("ReportSummary")],1),n("swiper-slide",{staticClass:"slideBox"},[n("ReportSB",{on:{_showDetail:e.openDetail,swiperFlag:e._swiperFlag,_onOffSwiper:e._onOffSwiper}})],1),n("swiper-slide",{staticClass:"slideBox"},[n("ReportAL",{on:{_showDetail:e.openDetail,swiperFlag:e._swiperFlag,_onOffSwiper:e._onOffSwiper}})],1)],1)},Lm=[],Am={name:"mySwiper",methods:{goTabScene:function(){"ReportSummary"==this.subMenu&&(this.pageIDX=0),"ReportSB"==this.subMenu&&(this.pageIDX=1),"ReportAL"==this.subMenu&&(this.pageIDX=2),this.swiper.slideTo(this.pageIDX,500,!1)},onTabToSlide:function(){var e=this;void 0!=this.swiper.activeIndex?me["b"].delayedCall(.25,(function(){e.$emit("onTabToSlide",e.swiper.activeIndex)})):window.document.onpointerup=function(){}},openDetail:function(e){this.$emit("openDetail",e)},_swiperFlag:function(e){this.$refs.mySwiper.swiper.allowClick=!e,this.$refs.mySwiper.swiper.allowTouchMove=!e},_onOffSwiper:function(e){this.$refs.mySwiper.swiper.allowClick=e,this.$refs.mySwiper.swiper.allowTouchMove=e}},data:function(){return{swiperOptions:{slidesPerView:1,spaceBetween:0,autoHeight:!0},pageIDX:0}},computed:{swiper:function(){return console.log(this.$refs.mySwiper.swiper),this.$refs.mySwiper.swiper}},mounted:function(){var e=this;console.log("Current Swiper instance object",this.swiper),window.document.onpointerup=function(){e.onTabToSlide()},this.goTabScene()},components:{ReportSummary:cu,ReportSB:Tm,ReportAL:im},watch:{subMenu:function(e,t){e!=t&&this.goTabScene()}},props:{subMenu:String}},Mm=Am,Gm=(n("8606"),Object(S["a"])(Mm,Bm,Lm,!1,null,"2d7d32cc",null)),Em=Gm.exports,Xm=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mTimerValue=30,e.mTemp1=0,e.mStar=[80,60],e.mDirData=[{color:"#CCC",data:[50,70,50,65]},{color:"#F00",data:[100,20,50,30]}],e.mDir2Data=[{color:"#FC0",data:[50,70,50,65]},{color:"#F00",data:[100,20,50,30]},{color:"#00F",data:[10,30,60,90]}],e.mCircleData=[{start:0,end:45,color:"#00c641"},{start:45,end:130,color:"#ae4fff"},{start:130,end:200,color:"#00a0e9"},{start:200,end:360,color:"#ff8f21"}],e.mCircleData2=[{start:0,end:200,color:"#ff454d"}],e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_onSelecedTab",value:function(e){var t="ReportSummary";0==e&&(t="ReportSummary"),1==e&&(t="ReportSB"),2==e&&(t="ReportAL"),this.$emit("onSelecedTab",t)}},{key:"_onClickTemp",value:function(){this.mTemp1+=5}},{key:"_onTimerChange",value:function(e){this.mTimerValue=e}},{key:"_onClickBack",value:function(){this.$emit("onClickBack")}},{key:"_onClickMenu",value:function(){this.$emit("onShowMainMenu")}},{key:"_openDetail",value:function(e){e?this.$el.setAttribute("style","margin-top:0; height:720px;"):this.$el.setAttribute("style","margin-top:90px;  height: calc(100% -90px);")}},{key:"subMenuName",get:function(){return console.warn("subMenuName:",this.subMenu),this.subMenu}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:"ReportSummary"})],Xm.prototype,"subMenu",void 0),Xm=Object(d["a"])([Object(p["a"])({components:{ReportSwiper:Em,ReportSummary:cu,ReportAL:im,ReportSB:Tm}})],Xm);var Hm=Xm,zm=Hm,Fm=(n("c8c2"),Object(S["a"])(zm,El,Xl,!1,null,"5363fe9a",null)),Vm=Fm.exports,Wm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ParentMovie"},[e.selectPlayer?n("TubeVideoPlayer",{ref:"video",attrs:{videoInfo:e.mCurrentVideoInfo},on:{closePlayer:e._closePlayer,onVideoPlayEnd:e._onVideoPlayEnd}}):e._e(),n("div",{staticClass:"row"},[n("div",{staticClass:"select-group"},[n("img",{staticClass:"bg",attrs:{src:"img/parent/step_bar.png"}}),n("img",{staticClass:"btn",staticStyle:{left:"0px"},style:"step1"==e.currentFilter?"opacity:1":"opacity:0",attrs:{src:"img/parent/btn_step1.png"},on:{click:function(t){return e._selectFilter("step1")}}}),n("img",{staticClass:"btn",staticStyle:{left:"220px"},style:"step2"==e.currentFilter?"opacity:1":"opacity:0",attrs:{src:"img/parent/btn_step2.png"},on:{click:function(t){return e._selectFilter("step2")}}}),n("img",{staticClass:"btn",staticStyle:{left:"438px"},style:"favorite"==e.currentFilter?"opacity:1":"opacity:0",attrs:{src:"img/parent/btn_favorites.png"},on:{click:function(t){return e._selectFilter("favorite")}}})])]),n("div",{ref:"playlist",staticClass:"playlist"},e._l(e.playlist,(function(t,a){return n("TubeListItem",{key:a,staticClass:"TubeListItem",attrs:{info:t,idx:a},on:{toggleFavorite:e._toggleFavorite,onSelectVideo:e._selectVideo}})})),1)],1)},Qm=[],Nm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"TubeVideo"},[n("div",{staticClass:"video",on:{click:e._showControl}},[n("video",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],ref:"video",attrs:{crossOrigin:"",autoplay:"",playsinline:""},on:{ended:e._onVideoPlayEnd}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.mShowControl,expression:"mShowControl"}],ref:"control",staticClass:"control",on:{click:function(t){return t.stopPropagation(),e._closeControl(t)}}},[n("img",{staticClass:"play",attrs:{src:this.mIsPlaying?"img/babytube/control_pause.png":"img/babytube/control_play.png"},on:{click:function(t){return t.stopPropagation(),e._onPlayPauseClicked(t)}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.mIsFullScreen,expression:"mIsFullScreen"}],staticClass:"closebtn",on:{click:e.closePlayer}},[n("img",{attrs:{src:"img/babytube/close.png"}})]),n("div",{ref:"bottombar",staticClass:"bottombar",on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"guage"},[n("div",{staticClass:"bg"}),n("div",{staticClass:"time"},[n("span",[e._v(e._s(e.mCurrentT))]),e._v(" "),n("span",{staticClass:"totalT"},[e._v(e._s(e.mTotalT))])]),n("div",{staticClass:"cursor",style:"left: "+e.mCursorPos+"px;"}),n("div",{ref:"evtListener",staticClass:"listener"}),n("div",{ref:"guageBar",staticClass:"bar",style:"width:calc( (100% - 10rem) * "+e.mProgress+" );"})]),n("div",{staticClass:"repeatCount",attrs:{refs:"repeatCount"},on:{click:e._repeatMode}},[e.mLoopModeFlag?e._e():n("img",{attrs:{src:"img/babytube/repeat_"+e.mLoopMode+".png"}}),e.mLoopModeFlag?n("img",{attrs:{src:"img/babytube/repeat_none.png"},on:{click:function(t){return e._changeLoopMode("none")}}}):e._e(),e.mLoopModeFlag?n("img",{attrs:{src:"img/babytube/repeat_one.png"},on:{click:function(t){return e._changeLoopMode("one")}}}):e._e(),e.mLoopModeFlag?n("img",{attrs:{src:"img/babytube/repeat_all.png"},on:{click:function(t){return e._changeLoopMode("all")}}}):e._e()])])])])])},$m=[],qm=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.mIsFullScreen=!0,e.mShowControl=!1,e.mIsPlaying=!1,e.mTotalT="--:--",e.mCurrentT="--:--",e.mProgress=0,e.mCursorPos=0,e.mCursorDowned=!1,e.mTouchEndX=0,e.mLoopModeFlag=!1,e.mLoopMode="all",e}return Object(u["a"])(n,[{key:"onChangeVideoURL",value:function(e,t){var n=this;if(window["video"]&&(window["video"].pause(),window["video"]=null),this.mDashPlayer&&this.mDashPlayer.reset(),A())this.$refs.video.src=this.videoInfo.movie.toString().slice(0,65)+".mp4",this.$refs.video.oncanplay=function(){n.$refs.video.autoplay=!0,n.$refs.video.play()};else{var a=this.videoInfo.movie;this.mDashPlayer=Object(ht["MediaPlayer"])().create(),this.mDashPlayer.initialize(),this.mDashPlayer.attachView(this.$refs.video),this.mDashPlayer.setAutoPlay(!0),this.mDashPlayer.attachSource(a),this.mDashPlayer.on("canPlay",(function(){n.$refs.video.autoplay=!0,n.$refs.video.play()}))}window["video"]=this.$refs.video}},{key:"mounted",value:function(){var e=this;window["video"]&&(window["video"].pause(),window["video"]=null),this.mLoopMode="all",me["b"].fromTo(this.$el,{top:-1280},{top:0,duration:.5}),this.$el.parentElement,console.log(this.videoInfo.movie.toString().slice(0,65)+".mp4"),console.warn(this.videoInfo.subject),this.$nextTick((function(){if(A())e.$refs.video.src=e.videoInfo.movie.toString().slice(0,65)+".mp4",e.$refs.video.oncanplay=function(){e.$refs.video.autoplay=!0,e.$refs.video.play(),e.$refs.videoCanvas.width=e.$refs.video.videoWidth,e.$refs.videoCanvas.height=e.$refs.video.videoHeight};else{var t=e.videoInfo.movie;e.mDashPlayer=Object(ht["MediaPlayer"])().create(),e.mDashPlayer.initialize(),e.mDashPlayer.attachView(e.$refs.video),e.mDashPlayer.setAutoPlay(!0),e.mDashPlayer.attachSource(t),e.mDashPlayer.on("canPlay",(function(){e.$refs.video.play()}))}var n=e.$refs.video;window["video"]=e.$refs.video,n.onloadeddata=function(){var t=new Date(1e3*n.duration),a="0"+t.getMinutes(),i="0"+t.getSeconds();e.mTotalT=a.substr(-2)+":"+i.substr(-2)},n.ontimeupdate=function(){var t=new Date(1e3*n.currentTime),a="0"+t.getMinutes(),i="0"+t.getSeconds();if(e.mCurrentT=a.substr(-2)+":"+i.substr(-2),e.mProgress=n.currentTime/n.duration,0==e.mCursorDowned){var o=e.$refs.guageBar;o&&(e.mCursorPos=o.clientWidth)}},n.onplay=function(){e.mIsPlaying=!0},n.onpause=function(){e.mIsPlaying=!1},n.oncanplay=function(){n.play(),console.log("PLAYYY!",n.videoWidth)};var a=e.$refs.evtListener;a&&(a.onpointerdown=function(t){t.stopPropagation(),e._onGuageDowned(t.offsetX)},a.onpointermove=function(t){t.stopPropagation(),e._onGuageMoved(t.offsetX)},a.onpointerup=function(t){t.stopPropagation(),e._onGuageUp(t.offsetX)},a.onpointerout=function(t){t.stopPropagation(),e._onGuageUp(e.mTouchEndX)},a.onclick=function(t){t.stopPropagation(),e._onGuageUp(t.offsetX)})}))}},{key:"_repeatMode",value:function(){this.mLoopModeFlag?me["b"].to(document.getElementsByClassName("repeatCount"),{height:100/3,duration:.1}):me["b"].to(document.getElementsByClassName("repeatCount"),{height:100,duration:.1}),this.mLoopModeFlag=!this.mLoopModeFlag}},{key:"_changeLoopMode",value:function(e){this.mLoopMode=e}},{key:"_onVideoPlayEnd",value:function(){var e=this;"all"==this.mLoopMode?this.$emit("onVideoPlayEnd"):this.$nextTick((function(){"one"==e.mLoopMode&&(e.mIsPlaying=!0,me["b"].delayedCall(1,(function(){e.$refs.video.play()}))),e.mLoopMode}))}},{key:"_showControl",value:function(){var e=this;console.log("show"),this.mShowControl=!0,this.$nextTick((function(){var t=e.$refs.control;t.style.opacity="0",me["b"].to(t,{css:{opacity:1},duration:.5})}))}},{key:"_closeControl",value:function(){var e=this,t=this.$refs.control;me["b"].to(t,{css:{opacity:0},duration:.5,onComplete:function(){e.mShowControl=!1}})}},{key:"_onPlayPauseClicked",value:function(){console.log("play toggled"),this.mIsPlaying?this.$refs.video.pause():this.$refs.video.play(),this.mIsPlaying=!this.mIsPlaying}},{key:"_onGuageDowned",value:function(e){this.mCursorDowned=!0}},{key:"_onGuageMoved",value:function(e){this.mCursorDowned&&(this.mCursorPos=e+10,this.mCursorPos<0&&(this.mCursorPos=0),this.mCursorPos>this.$refs.evtListener.clientWidth&&(this.mCursorPos=this.$refs.evtListener.clientWidth-20),this.mTouchEndX=this.mCursorPos)}},{key:"_onGuageUp",value:function(e){if(!1!==this.mCursorDowned){this.mCursorDowned=!1,this.mCursorPos=e+10,this.mCursorPos<0&&(this.mCursorPos=0),this.mCursorPos>this.$refs.evtListener.clientWidth&&(this.mCursorPos=this.$refs.evtListener.clientWidth-10);this.$refs.video;var t=0;t=this.mCursorPos/this.$refs.evtListener.clientWidth,this.$refs.video.currentTime=this.$refs.video.duration*t}}},{key:"play",value:function(){var e=this.$refs.video;e.currentTime=0}},{key:"closePlayer",value:function(){var e=this;window["video"]&&(window["video"].pause(),window["video"]=null),me["b"].to(this.$el,{top:-1280,duration:.5}).eventCallback("onComplete",(function(){e.$emit("closePlayer")}))}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({required:!0})],qm.prototype,"videoInfo",void 0),Object(d["a"])([Object(p["d"])("videoInfo")],qm.prototype,"onChangeVideoURL",null),qm=Object(d["a"])([Object(p["a"])({components:{}})],qm);var Um=qm,Ym=Um,Km=(n("3cb6"),Object(S["a"])(Ym,Nm,$m,!1,null,"1bd6b184",null)),Jm=Km.exports,Zm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"TubeListItem",on:{click:e._onSelect}},[n("div",{staticClass:"case"},[n("img",{ref:"thumb",staticClass:"thumb",attrs:{src:this._getThumb()}}),n("div",{staticClass:"contents"},[n("div",{staticClass:"subject"},[e._v(e._s(e.info.subject))]),n("div",{staticClass:"bottom"},[n("span",[e._v(e._s(e.movieLength.slice(0,5)))]),n("img",{staticClass:"favorite",attrs:{src:!0===this._getFavoriteFlag()?"img/babytube/favorite_on.png":"img/babytube/favorite_off.png"},on:{click:function(t){return t.stopPropagation(),e._onToggleFavorite(t)}}})])]),n("img",{directives:[{name:"show",rawName:"v-show",value:e.selected,expression:"selected"}],staticClass:"list_select",attrs:{src:"img/babytube/list_select.png"}})])])},eh=[],th=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.call(this)}return Object(u["a"])(n,[{key:"mounted",value:function(){}},{key:"_getFavoriteFlag",value:function(){return null!=this.info&&this.info.favoriteFlag}},{key:"_getThumb",value:function(){return this.info?this.info.thumb:"img/babytube/no_thumb.png"}},{key:"_onSelect",value:function(){this.$emit("onSelectVideo",this.info,this.idx)}},{key:"_onToggleFavorite",value:function(){this.$emit("toggleFavorite",this.info,this.idx)}},{key:"selected",get:function(){if(this.info.selected){var e=this.$el;void 0!==e&&(console.log(e.parentElement),console.log(e.parentElement.scrollTop),me["b"].to(e.parentElement,{scrollTop:200*-this.idx,duration:.5}))}return this.info.selected}},{key:"movieLength",get:function(){return this.info.movieLength}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({required:!0})],th.prototype,"info",void 0),Object(d["a"])([Object(p["b"])({required:!0})],th.prototype,"idx",void 0),th=Object(d["a"])([Object(p["a"])({components:{}})],th);var nh=th,ah=nh,ih=(n("a4a1"),Object(S["a"])(ah,Zm,eh,!1,null,"0e90a832",null)),oh=ih.exports,rh=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mCurrentFilter="step1",e.mClickFlag=!0,e.selectPlayer=!1,e.mCurrentVideoIdx=0,e.mCurrentVideoInfo={movie:"",subject:""},e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$root.$children[0],e.next=3,ce.requestParentMovieList(this.mCurrentFilter);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_onVideoPlayEnd",value:function(){console.log(ce.parentMovieList[this.mCurrentVideoIdx+1]),void 0!=ce.parentMovieList[this.mCurrentVideoIdx+1]?this.mCurrentVideoIdx+=1:this.mCurrentVideoIdx=0,this.mCurrentVideoInfo=ce.parentMovieList[this.mCurrentVideoIdx]}},{key:"_toggleFavorite",value:function(e){e&&ce.toggleFavorite({itemData:e})}},{key:"_selectFilter",value:function(e){this.mCurrentFilter=e,ce.requestParentMovieList(this.mCurrentFilter)}},{key:"_selectVideo",value:function(e,t){var n=this;this.mClickFlag&&(this.mClickFlag=!1,this.selectPlayer=!0,this.mCurrentVideoIdx=t,this.mCurrentVideoInfo=e,ce.selectItem(this.mCurrentVideoInfo),me["b"].delayedCall(1,(function(){n.mClickFlag=!0})))}},{key:"_closePlayer",value:function(){this.selectPlayer=!1}},{key:"currentFilter",get:function(){return this.mCurrentFilter}},{key:"playlist",get:function(){return ce.parentMovieList}}]),n}(p["c"]);rh=Object(d["a"])([Object(p["a"])({components:{TubeListItem:oh,TubeVideoPlayer:Jm}})],rh);var sh=rh,ch=sh,lh=(n("086b"),Object(S["a"])(ch,Wm,Qm,!1,null,"3bffd36a",null)),uh=lh.exports,mh=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mIsShowMainMenu=!1,e.mCurrentView="Report",e.mCurrentSubView="ReportSummary",e.mCurrentTitle="활동 리포트",e.mLevelList=[{label:"레벨1",checked:!1},{label:"레벨2 -추천",checked:!0},{label:"레벨3",checked:!1}],e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:ce.getActSlotReport(),ue.childSetting.lrngChoLvlCd==Q.easy?this.mLevelList[0].checked=!0:ue.childSetting.lrngChoLvlCd==Q.normal?this.mLevelList[1].checked=!0:ue.childSetting.lrngChoLvlCd==Q.hard&&(this.mLevelList[2].checked=!0);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_onShowMainMenu",value:function(){this.mIsShowMainMenu=!0}},{key:"_onCloseMainMenu",value:function(){this.mIsShowMainMenu=!1}},{key:"_onClickBack",value:function(){re.setCurrentPage("Lobby")}},{key:"_onSelectMainMenu",value:function(e){console.log("parentSetup._onSelectMainMenu()",e),"exitBabyAll"==e?history.back():"report"==e?(this.mCurrentView="Report",this.mCurrentTitle="활동 리포트"):"setup"==e?(this.mCurrentView="SetupChild",this.mCurrentTitle="자녀 설정"):"movie"==e&&(this.mCurrentView="ParentMovie",this.mCurrentTitle="활용 영상")}},{key:"_onShowSubMenu",value:function(e){this.mCurrentSubView=e}},{key:"_onSelectLevel",value:function(e){0==e?ue.childSetting.lrngChoLvlCd=Q.easy:1==e?ue.childSetting.lrngChoLvlCd=Q.normal:2==e&&(ue.childSetting.lrngChoLvlCd=Q.hard),ue.setChildSetting(ue.childSetting)}},{key:"_onClickApply",value:function(){j.a.fire({icon:"success",title:"Setup UserConfig",text:"정상적으로 처리되었습니다."})}},{key:"_onClickClose",value:function(){re.setCurrentPage("Lobby")}}]),n}(p["c"]);mh=Object(d["a"])([Object(p["a"])({components:{TopMenu:tl,MainMenu:ll,SetupChild:Gl,Report:Vm,ParentMovie:uh,CheckGroup:fl}})],mh);var hh=mh,dh=hh,ph=(n("c6ee"),Object(S["a"])(dh,$c,qc,!1,null,"54414c49",null)),fh=ph.exports,gh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"MyRoom"},[n("TopMenu",{on:{onClickBack:e._clickBack,onClickTabMenu:e._clickTabMenu}}),n(this.mCurrentView,{tag:"component",staticStyle:{flex:"1"}})],1)},vh=[],bh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"TopMenuMyRoom"},[n("div",{staticClass:"row"},[n("img",{staticClass:"menuBTN",attrs:{src:"img/parent/btn_pre.png"},on:{click:function(t){return t.stopPropagation(),e._clickBack()}}}),n("div",{staticClass:"tabGroup"},[n("img",{attrs:{src:"badge"==this.mCurrentFocus?"img/myroom/btn_badge.png":"img/myroom/btn_badge_inactive.png"},on:{click:function(t){return t.stopPropagation(),e._clickTabMenu("badge")}}}),n("img",{attrs:{src:"makebook"==this.mCurrentFocus?"img/myroom/btn_make_book.png":"img/myroom/btn_make_book_inactive.png"},on:{click:function(t){return t.stopPropagation(),e._clickTabMenu("makebook")}}}),n("img",{attrs:{src:"album"==this.mCurrentFocus?"img/myroom/btn_album.png":"img/myroom/btn_album_inactive.png"},on:{click:function(t){return t.stopPropagation(),e._clickTabMenu("album")}}})])])])},yh=[],Ch=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mCurrentFocus="badge",e}return Object(u["a"])(n,[{key:"mounted",value:function(){}},{key:"_clickBack",value:function(){this.$emit("onClickBack")}},{key:"_clickTabMenu",value:function(e){this.mCurrentFocus=e,this.$emit("onClickTabMenu",e)}}]),n}(p["c"]);Ch=Object(d["a"])([Object(p["a"])({})],Ch);var kh=Ch,Sh=kh,wh=(n("ca00"),Object(S["a"])(Sh,bh,yh,!1,null,"bf5ba158",null)),_h=wh.exports,xh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"BadgeList"},[e._l(e.bookIDList,(function(t){return n("Badge",{key:t,attrs:{bookid:t,starInfo:e.badgeData[t]},on:{onShowDetail:e._showDetail}})})),e.mBadgeDetailShowFlag?n("BadgeDetail",{attrs:{bookid:this.mBadgeDetailBookID,starInfo:this.mCurrentBadgeInfo},on:{onClose:e._closeDetail}}):e._e()],2)},Ih=[],Oh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Badge",on:{click:function(t){return t.stopPropagation(),e._showDetail(t)}}},[n("img",{staticClass:"bookimg",attrs:{src:e._getBookCoverImagePath()}}),n("div",{staticClass:"starGroup"},[n("div",{staticClass:"imgCase"},[n("img",{attrs:{src:this._isShowStar(1)?"img/myroom/badge_1.png":"img/myroom/badge_1_dimmed.png",width:"93"}})]),n("div",{staticClass:"imgCase"},[n("img",{attrs:{src:this._isShowStar(2)?"img/myroom/badge_2.png":"img/myroom/badge_2_dimmed.png",width:"93"}})]),n("div",{staticClass:"imgCase"},[n("img",{attrs:{src:this._isShowStar(3)?"img/myroom/badge_3.png":"img/myroom/badge_3_dimmed.png",width:"93"}})])])])},Ph=[],Rh=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"mounted",value:function(){}},{key:"_isShowStar",value:function(e){return null!=this.starInfo&&(1==e?null!=this.starInfo.rcvdBadgeLv1Date:2==e?null!=this.starInfo.rcvdBadgeLv2Date:3==e?null!=this.starInfo.rcvdBadgeLv3Date:void 0)}},{key:"_getBookCoverImagePath",value:function(){return"".concat(N.Config.packageURL,"/bookcover/").concat(this.bookid,"_cover.png")}},{key:"_showDetail",value:function(){this.$emit("onShowDetail",this.bookid,this.starInfo)}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:1001})],Rh.prototype,"bookid",void 0),Object(d["a"])([Object(p["b"])({default:function(){return null}})],Rh.prototype,"starInfo",void 0),Rh=Object(d["a"])([Object(p["a"])({components:{}})],Rh);var jh=Rh,Dh=jh,Th=(n("70d4"),Object(S["a"])(Dh,Oh,Ph,!1,null,"51a74cee",null)),Bh=Th.exports,Lh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"BadgeDetail",on:{click:function(t){return t.stopPropagation(),e._close(t)}}},[n("div",{staticClass:"info"},[n("img",{staticClass:"bookimg",attrs:{src:e._getBookCoverImagePath()}}),n("div",{staticClass:"starGroup"},[this._isShowStar(1)?n("img",{attrs:{src:"img/myroom/badge_1.png"}}):e._e(),this._isShowStar(2)?n("img",{attrs:{src:"img/myroom/badge_2.png"}}):e._e(),this._isShowStar(3)?n("img",{attrs:{src:"img/myroom/badge_3.png"}}):e._e()])]),n("div",{staticClass:"starinfo"},[n("div",{staticClass:"row"},[n("img",{attrs:{src:"img/myroom/badge_1.png",width:"64"}}),n("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[e._v("Lv1")]),n("span",[e._v(e._s(e._getRecordLabel(1)))])]),n("div",{staticClass:"row"},[n("img",{attrs:{src:"img/myroom/badge_2.png",width:"64"}}),n("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[e._v("Lv2")]),n("span",[e._v(e._s(e._getRecordLabel(2)))])]),n("div",{staticClass:"row"},[n("img",{attrs:{src:"img/myroom/badge_3.png",width:"64"}}),n("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[e._v("Lv3")]),n("span",[e._v(e._s(e._getRecordLabel(3)))])])])])},Ah=[],Mh=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"mounted",value:function(){}},{key:"_isShowStar",value:function(e){return 1==e?null!=this.starInfo.rcvdBadgeLv1Date:2==e?null!=this.starInfo.rcvdBadgeLv2Date:3==e?null!=this.starInfo.rcvdBadgeLv3Date:void 0}},{key:"_getRecordLabel",value:function(e){return 1==e?null==this.starInfo.rcvdBadgeLv1Date?"":this.starInfo.rcvdBadgeLv1Date:2==e?null==this.starInfo.rcvdBadgeLv2Date?"":this.starInfo.rcvdBadgeLv2Date:3==e?null==this.starInfo.rcvdBadgeLv3Date?"":this.starInfo.rcvdBadgeLv3Date:""}},{key:"_getBookCoverImagePath",value:function(){return"".concat(N.Config.packageURL,"/bookcover/").concat(this.bookid,"_cover.png")}},{key:"_close",value:function(){this.$emit("onClose")}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:1001})],Mh.prototype,"bookid",void 0),Object(d["a"])([Object(p["b"])({default:1})],Mh.prototype,"star",void 0),Object(d["a"])([Object(p["b"])({default:function(){return{rcvdBadgeLv1Date:null,rcvdBadgeLv2Date:null,rcvdBadgeLv3Date:null}}})],Mh.prototype,"starInfo",void 0),Mh=Object(d["a"])([Object(p["a"])({components:{}})],Mh);var Gh=Mh,Eh=Gh,Xh=(n("3976"),Object(S["a"])(Eh,Lh,Ah,!1,null,"89cd35d2",null)),Hh=Xh.exports,zh=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mBadgeData=null,e.mMakingBookScreenShotURL=[],e.mMyPetScreenShotURL=[],e}return Object(u["a"])(n,[{key:"SET_BADGEDATA",value:function(e){this.mBadgeData=e}},{key:"requestBadgeData",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("".concat(N.Config.restAPIProd).concat($.myRoom.badge.req));case 3:t=e.sent,1==t.data.ok?(console.log(t.data),this.SET_BADGEDATA(t.data.infolist)):j.a.fire({icon:"error",title:"requestBadgeData error",text:t.data.err}),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),console.warn(e.t0),this.SET_BADGEDATA(ae.badgeData);case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"SET_MBOOKDATA",value:function(e){this.mMakingBookScreenShotURL=e}},{key:"getMakingBookList",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("".concat(N.Config.restAPIProd).concat($.myRoom.makingbook.req));case 3:t=e.sent,1==t.data.ok?this.SET_MBOOKDATA(t.data):j.a.fire({icon:"error",title:"getMakingBookList error",text:t.data.err}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"SET_MYPETDATA",value:function(e){this.mMyPetScreenShotURL=e}},{key:"getMyPetList",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("".concat(N.Config.restAPIProd).concat($.myRoom.myPet.req));case 3:t=e.sent,1==t.data.ok?this.SET_MYPETDATA(t.data):j.a.fire({icon:"error",title:"getMyPetList error",text:t.data.err}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"badgeData",get:function(){return this.mBadgeData}},{key:"makingBookData",get:function(){return this.mMakingBookScreenShotURL}},{key:"myPetData",get:function(){return this.mMyPetScreenShotURL}}]),n}(I["d"]);Object(d["a"])([I["c"]],zh.prototype,"SET_BADGEDATA",null),Object(d["a"])([I["a"]],zh.prototype,"requestBadgeData",null),Object(d["a"])([I["c"]],zh.prototype,"SET_MBOOKDATA",null),Object(d["a"])([I["a"]],zh.prototype,"getMakingBookList",null),Object(d["a"])([I["c"]],zh.prototype,"SET_MYPETDATA",null),Object(d["a"])([I["a"]],zh.prototype,"getMyPetList",null),zh=Object(d["a"])([Object(I["b"])({namespaced:!0,name:"myroom",dynamic:!0,store:P})],zh);var Fh=Object(I["e"])(zh),Vh=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mBadgeDetailShowFlag=!1,e.mBadgeDetailBookID=1001,e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Fh.requestBadgeData();case 2:console.log(Fh.badgeData);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_showDetail",value:function(e,t){this.mBadgeDetailShowFlag=!0,this.mBadgeDetailBookID=e,this.mCurrentBadgeInfo=t,console.log("_showDetail:",e)}},{key:"_closeDetail",value:function(){this.mBadgeDetailShowFlag=!1}},{key:"bookIDList",get:function(){return null==Fh.badgeData?[]:Object.keys(Fh.badgeData)}},{key:"badgeData",get:function(){return null==Fh.badgeData?{}:Fh.badgeData}}]),n}(p["c"]);Vh=Object(d["a"])([Object(p["a"])({components:{Badge:Bh,BadgeDetail:Hh}})],Vh);var Wh=Vh,Qh=Wh,Nh=(n("5b11"),Object(S["a"])(Qh,xh,Ih,!1,null,"cecfc74a",null)),$h=Nh.exports,qh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"BadgeList"},[e._l(e.mOutputPathList,(function(t,a){return n("MakingBookThumb",{key:a,attrs:{info:t},on:{onShowDetail:e._showDetail}})})),e.mDetailShowFlag?n("MakingBookDetail",{attrs:{imagePath:this.mDetailShowImagePath,date:this.createDate},on:{onClose:e._closeDetail}}):e._e()],2)},Uh=[],Yh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"BookThumb",on:{click:function(t){return t.stopPropagation(),e._showDetail(t)}}},[n("img",{staticClass:"bookimg",attrs:{src:e.info.galleryUrl}})])},Kh=[],Jh=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"_showDetail",value:function(){this.$emit("onShowDetail",this.info)}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:{galleryUrl:"",createdDate:""}})],Jh.prototype,"info",void 0),Jh=Object(d["a"])([Object(p["a"])({components:{}})],Jh);var Zh=Jh,ed=Zh,td=(n("9f1d"),Object(S["a"])(ed,Yh,Kh,!1,null,"79c3cb3c",null)),nd=td.exports,ad=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"MakingBookDetail",on:{click:function(t){return t.stopPropagation(),e._close(t)}}},[n("div",{staticClass:"MakingBookCase"},[n("div",{staticClass:"info"},[n("img",{staticClass:"bookimg",attrs:{src:this.imagePath}})]),n("div",{staticClass:"starinfo"},[n("div",{staticClass:"row"},[n("span",[e._v(e._s(this.date))])])])])])},id=[],od=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"_close",value:function(){this.$emit("onClose")}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:"".concat(L.packageURL,"/bookcover/1001_cover.png")})],od.prototype,"imagePath",void 0),Object(d["a"])([Object(p["b"])({default:""})],od.prototype,"date",void 0),od=Object(d["a"])([Object(p["a"])({components:{}})],od);var rd=od,sd=rd,cd=(n("3cc6"),Object(S["a"])(sd,ad,id,!1,null,"1be40b38",null)),ld=cd.exports,ud=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mOutputPathList=[],e.mDetailShowFlag=!1,e.mDetailShowImagePath="http://www.imestudy.co.kr:8080/package/bookcover/1001_cover.png",e.createDate="",e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("".concat(N.Config.restAPIProd,"/learning/child/myroom/makingbook"));case 2:t=e.sent,this.mOutputPathList=t.data.infolist;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_showDetail",value:function(e){this.mDetailShowFlag=!0,this.mDetailShowImagePath=e.galleryUrl,this.createDate=e.createdDate,console.log(e)}},{key:"_closeDetail",value:function(){this.mDetailShowFlag=!1}}]),n}(p["c"]);ud=Object(d["a"])([Object(p["a"])({components:{MakingBookThumb:nd,MakingBookDetail:ld}})],ud);var md=ud,hd=md,dd=(n("b109"),Object(S["a"])(hd,qh,Uh,!1,null,"ff7747be",null)),pd=dd.exports,fd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"PetAlbumList"},[e._l(e.mOutputPathList,(function(t,a){return n("PetAlbumThumb",{key:a,attrs:{info:t},on:{onShowDetail:e._showDetail}})})),e.mDetailShowFlag?n("PetAlbumDetail",{attrs:{imagePath:this.mDetailShowImagePath,date:this.createdDate},on:{onClose:e._closeDetail}}):e._e()],2)},gd=[],vd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"BookThumb",on:{click:function(t){return t.stopPropagation(),e._showDetail(t)}}},[n("img",{staticClass:"bookimg",attrs:{src:this.info.galleryUrl}})])},bd=[],yd=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"_showDetail",value:function(){this.$emit("onShowDetail",this.info)}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:function(){return{galleryUrl:"",createdDate:""}}})],yd.prototype,"info",void 0),yd=Object(d["a"])([Object(p["a"])({components:{}})],yd);var Cd=yd,kd=Cd,Sd=(n("58ca"),Object(S["a"])(kd,vd,bd,!1,null,"801bed88",null)),wd=Sd.exports,_d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"PetAlbumDetail",on:{click:function(t){return t.stopPropagation(),e._close(t)}}},[n("div",{staticClass:"petDetail"},[n("div",{staticClass:"info"},[n("img",{staticClass:"bookimg",attrs:{src:this.imagePath}})]),n("div",{staticClass:"starinfo"},[n("div",{staticClass:"row"},[n("span",[e._v(e._s(this.date))])])])])])},xd=[],Id=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"_close",value:function(){this.$emit("onClose")}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:"http://www.imestudy.co.kr:8080/package/bookcover/1001_cover.png"})],Id.prototype,"imagePath",void 0),Object(d["a"])([Object(p["b"])({default:""})],Id.prototype,"date",void 0),Id=Object(d["a"])([Object(p["a"])({components:{}})],Id);var Od=Id,Pd=Od,Rd=(n("af83"),Object(S["a"])(Pd,_d,xd,!1,null,"6c695afa",null)),jd=Rd.exports,Dd=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mOutputPathList=[],e.mDetailShowFlag=!1,e.mDetailShowImagePath="img/capture.png",e.createdDate="",e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("".concat(N.Config.restAPIProd,"/learning/child/myroom/album"));case 2:t=e.sent,this.mOutputPathList=t.data.infolist;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_showDetail",value:function(e){this.mDetailShowFlag=!0,this.mDetailShowImagePath=e.galleryUrl,this.createdDate=e.createdDate}},{key:"_closeDetail",value:function(){this.mDetailShowFlag=!1}}]),n}(p["c"]);Dd=Object(d["a"])([Object(p["a"])({components:{PetAlbumThumb:wd,PetAlbumDetail:jd}})],Dd);var Td=Dd,Bd=Td,Ld=(n("f6b0"),Object(S["a"])(Bd,fd,gd,!1,null,"21b4c8d8",null)),Ad=Ld.exports,Md=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mIsShowMainMenu=!1,e.mCurrentView="BadgeList",e}return Object(u["a"])(n,[{key:"mounted",value:function(){}},{key:"_clickBack",value:function(){re.setCurrentPage("Lobby")}},{key:"_clickTabMenu",value:function(e){console.log(e),"badge"==e?this.mCurrentView="BadgeList":"makebook"==e?this.mCurrentView="MakingBookList":"album"==e&&(this.mCurrentView="PetAlbumList")}}]),n}(p["c"]);Md=Object(d["a"])([Object(p["a"])({components:{TopMenu:_h,BadgeList:$h,MakingBookList:pd,PetAlbumList:Ad}})],Md);var Gd=Md,Ed=Gd,Xd=(n("45a8"),Object(S["a"])(Ed,gh,vh,!1,null,"c886053a",null)),Hd=Xd.exports,zd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"fullscreenAlert"},[e._m(0),n("br"),n("div",{staticClass:"btn"},[n("img",{attrs:{src:"img/home/btn_fullscreen_guide.png"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.goFullscreen(t)}}})]),n("img",{staticClass:"ci",attrs:{src:"img/firstconfig/aram_ci.png"}})])},Fd=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v(" 활동을 진행하기 위해"),n("br"),e._v(" 아래 버튼을 눌러주세요. ")])}],Vd=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.msg="",e}return Object(u["a"])(n,[{key:"mounted",value:function(){void 0!=window["video"]&&window["video"].pause()}},{key:"goFullscreen",value:function(){this.$emit("goFullscreen")}}]),n}(p["c"]);Vd=Object(d["a"])([Object(p["a"])({components:{}})],Vd);var Wd=Vd,Qd=Wd,Nd=(n("263e"),Object(S["a"])(Qd,zd,Fd,!1,null,"89a74164",null)),$d=Nd.exports,qd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.mHelpPopupFlag?n("div",{staticClass:"dimmed"},[n("div",{staticClass:"bgPanel",style:this.mAcornPopupFlag?"max-width:700px":"max-width:800px"},[e._m(0),this.mTextPopupFlag?n("div",{staticClass:"textContents",staticStyle:{height:"350px"}},[n("p",{staticStyle:{"font-size":"1.4rem"},domProps:{innerHTML:e._s(e.mTextContents)}})]):e._e(),this.mAcornPopupFlag?n("div",{staticClass:"acornPanel"},[n("div",{staticClass:"textContents",staticStyle:{width:"80%",padding:"30px"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"totalAcorn"},[n("img",{attrs:{src:"img/parent/acorn_small.png"}}),n("span",{staticClass:"count"},[e._v(" "+e._s(this.acornTotal)+" ")])]),n("div",{staticClass:"guage"},[n("span",{staticClass:"currCount"},[e._v("+"+e._s(this.mAcornChargeCount)+"개")]),n("Slider",{attrs:{start:"0개",end:"100개",cursorColor:"#ff9f15",guageColor:"#ffca4a",bgColor:"#C4C4C4",min:"0",max:"100",step:"1",init:0},on:{onValueChanging:e._sliderValueChange}})],1)])]),n("img",{staticClass:"chargeButton",attrs:{src:"img/parent/btn_charge.png"},on:{click:e._charge}})]):e._e(),n("img",{staticClass:"close",attrs:{src:"img/parent/pop_close.png"},on:{click:e._closeHelpPopup}})])]):e._e()},Ud=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"logo"},[n("img",{attrs:{src:"img/parent/pop_logo.png"}})])}],Yd=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mHelpPopupFlag=!1,e.mTextPopupFlag=!1,e.mTextContents="",e.mAcornPopupFlag=!1,e.mAcornChargeCount=0,e}return Object(u["a"])(n,[{key:"mounted",value:function(){re.setPopup(this)}},{key:"destroyed",value:function(){re.setPopup(null)}},{key:"_closeHelpPopup",value:function(){this.mHelpPopupFlag=!1}},{key:"showMessageHelp",value:function(e){this.mHelpPopupFlag=!0,this.mTextPopupFlag=!0,this.mAcornPopupFlag=!1,this.mTextContents=e}},{key:"showAcornCharge",value:function(){this.mHelpPopupFlag=!0,this.mTextPopupFlag=!1,this.mAcornPopupFlag=!0}},{key:"_sliderValueChange",value:function(e){this.mAcornChargeCount=e}},{key:"_charge",value:function(){ce.chargeAcorn({acornChargeCnt:this.mAcornChargeCount}),this.mAcornChargeCount=0,this.mHelpPopupFlag=!1}},{key:"acornTotal",get:function(){return ue.homeData.userInfo.acornCnt+this.mAcornChargeCount}}]),n}(p["c"]);Yd=Object(d["a"])([Object(p["a"])({components:{Slider:Rc}})],Yd);var Kd=Yd,Jd=Kd,Zd=(n("46d4"),Object(S["a"])(Jd,qd,Ud,!1,null,"147ddd38",null)),ep=Zd.exports,tp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loginErr?n("div",{staticClass:"dimmed"},[n("div",{staticClass:"popup-body",on:{click:function(e){e.stopPropagation()}}},[n("img",{staticClass:"logo",attrs:{src:"img/parent/pop_logo.png"}}),e._m(0),n("img",{staticClass:"submitBTN",attrs:{src:"img/submit.png"},on:{click:e._submit}})])]):e._e()},np=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[e._v(" 다른 기기에서 학습이 시작되었습니다."),n("br"),e._v(" 확인 후 다시 학습을 시작해주세요. ")])}],ap=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"mounted",value:function(){}},{key:"_submit",value:function(){history.back()}},{key:"loginErr",get:function(){return re.loginError}}]),n}(p["c"]);ap=Object(d["a"])([Object(p["a"])({})],ap);var ip=ap,op=ip,rp=(n("dfdf"),Object(S["a"])(op,tp,np,!1,null,"200c1e30",null)),sp=rp.exports,cp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"browserCheck"},[n("div",{attrs:{id:"dimmed"}},[n("div",{attrs:{id:"alert_bg"}},[n("div",{ref:"text",attrs:{id:"platformText"}}),n("div",{ref:"close",attrs:{id:"close"},on:{click:e.back}}),"IE"==this.mode||"IOS"==this.mode?n("div",{ref:"btn",attrs:{id:"btn"},on:{click:e.goEvent}}):e._e()])])])},lp=[],up=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"created",value:function(){this.mode=L.platform}},{key:"mounted",value:function(){this.mode=L.platform,this.$refs.text.innerHTML=L.platformText,"IE"==this.mode&&(this.$refs.btn.innerHTML="크롬 브라우저 설치하기",this.$refs.close.innerHTML="닫기"),"Android"==this.mode&&(this.$refs.close.innerHTML="종료"),"IOS"==this.mode&&(this.$refs.btn.innerHTML="학습하기",this.$refs.close.innerHTML="닫기")}},{key:"goEvent",value:function(){"IE"==this.mode&&(location.href="https://www.google.co.kr/chrome/"),this.mode,"IOS"==this.mode&&this.$emit("IosPopClose")}},{key:"back",value:function(){location.href="https://www.arambookclub.com/"}}]),n}(p["c"]);up=Object(d["a"])([Object(p["a"])({components:{}})],up);var mp=up,hp=mp,dp=(n("1810"),Object(S["a"])(hp,cp,lp,!1,null,"5afc8220",null)),pp=dp.exports,fp=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.isShowTubePlayer=!1,e.isShowActivityPlayer=!1,e.mCurrentCategory="mypet",e.mCurrentSymbol="a",e.mCurrentBookID="1001",e.mCurrentActivitySB="movie",e.mIsMobileMode=!1,e.mMSG="",e.mBrowserCheck=!1,e}return Object(u["a"])(n,[{key:"calcScreen",value:function(e){return new Promise((function(t,n){if(window.scrollTo(0,0),void 0!==e){var a=window.innerWidth,i=window.innerHeight;e.style.width=a,e.style.height=i;var o=1;window.scrollTo(0,i/4),M()?(o=a/1280,720*o>i&&(o=i/720),i>a?window["text"].setAttribute("style","display:block;"):window["text"].setAttribute("style","display:none;")):(window["text"].setAttribute("style","display:none;"),o=a/1280,720*o>i&&(o=i/720)),e.style.transform="translate(-50%,-50%) scale(".concat(o,")"),t()}}))}},{key:"IosPopClose",value:function(){this.mBrowserCheck=!1}},{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return!1===N.Platform.getPlatform()&&(this.mBrowserCheck=!0),this.$refs.app.ontouchstart=function(){},window["video"]&&window["video"].pause(),document.addEventListener("fullscreenchange",(function(){window.dispatchEvent(new Event("resize"))})),void 0!=window["video"]&&window["video"].pause(),window.addEventListener("resize",Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.calcScreen(t.$refs.app);case 2:case"end":return e.stop()}}),e)})))),e.next=8,this.calcScreen(this.$refs.app);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_goFullscreen",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=document.fullscreen,1!=t){e.next=3;break}return e.abrupt("return");case 3:n={navigationUI:"hide"},document.documentElement.requestFullscreen(n).then((function(){console.log("HIDE")}));case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"showActivity",value:function(e){this.isShowActivityPlayer=!0,e.category&&(this.mCurrentCategory=e.category,"storybooks"==e.category?(this.mCurrentBookID=e.bookID,void 0!==e.startActivity&&(this.mCurrentActivitySB=e.startActivity)):"alphabet"==e.category&&(this.mCurrentSymbol=e.symbol))}},{key:"_closeActivityView",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return window["video"]&&window["video"].pause(),window["video"]=null,e.next=4,ue.getHomeData();case 4:return ce.updateRemainByCurrent(),this.isShowActivityPlayer=!1,e.next=8,this.calcScreen(this.$refs.app);case 8:location.reload();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"currentLevel",get:function(){return 1==re.isDemoMode?ue.demoLevel:ue.levelIDX}},{key:"currentPage",get:function(){return re.currentPage}}]),n}(p["c"]);fp=Object(d["a"])([Object(p["a"])({components:{ConnectPage:ge,Lobby:Ks,FirstPage:Nc,ParentSetup:fh,MyRoom:Hd,ActivityPlayer:ms,FullscreenAlert:$d,LoginErrorCheck:sp,Popup:ep,BrowserCheck:pp}})],fp);var gp,vp=fp,bp=vp,yp=(n("80ed"),Object(S["a"])(bp,r,s,!1,null,"0bce9e22",null)),Cp=yp.exports,kp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"ActivityDemo",staticClass:"ActivityDemo"},[n("GameList",{directives:[{name:"show",rawName:"v-show",value:e.mGameList,expression:"mGameList"}],on:{showReport:e._changeThema}}),n("Report",{directives:[{name:"show",rawName:"v-show",value:e.mReport,expression:"mReport"}],on:{showGameList:e._changeThema}})],1)},Sp=[],wp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ActivityTestModal",on:{click:e._selectLevel}},[n("div",{attrs:{id:"hideBox"}},[n("div",{staticClass:"topBTN",staticStyle:{left:"0",right:"auto"},domProps:{innerHTML:e._s(e.mlevelGuide)},on:{click:function(t){return e._clickLevel(e.levelList[e.mLevel-1])}}}),n("div",{staticClass:"topBTN",attrs:{id:"reportButton"},on:{click:e.showReport}},[e._v("활동 리포트")])]),e.mShowGame?n("div",{staticClass:"player"},[n("div",[n("ActivityPlayer",{attrs:{category:e.mCategory,alphabet:e.mAlphabet,level:e.mLevel,bookID:e.mBookID,isMobileMode:!1,activityAL:e.mAlphabetCategory,activitySB:e.mStoryCategory,isSaleKit:!0}}),n("button",{staticClass:"close",on:{click:e._hideGame}})],1)]):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:e.mShowVideo,expression:"mShowVideo"}],staticClass:"player"},[n("div",[n("button",{staticClass:"close",on:{click:e._hideGame}}),n("video",{ref:"babyTubeVideo",attrs:{playsinline:"",controls:""}})])]),n("div",{staticClass:"wrapBG"},[e.mShowLevelBox?n("div",{staticClass:"dimmed"},[n("div",{ref:"levelBox",staticClass:"levelBox",attrs:{id:"levelBox"}},[n("p",[e._v("연령 선택 (난이도)")]),n("div",{staticClass:"labelBox"},e._l(e.levelList,(function(t,a){return n("label",{key:a,attrs:{value:t.level}},[n("input",{attrs:{type:"radio",name:"level"},on:{click:function(n){return e._clickLevel(t)}}}),e._v(" "+e._s(t.guide)+" ")])})),0)])]):e._e(),n("h1",{ref:"bookCover",staticClass:"title"},[e._v("StoryBooks 책 표지")]),n("div",{staticClass:"displayBox"},[n("DragPanel",{attrs:{data:e.bookCover},on:{onClickItem:e._clickBookCover}})],1),e._m(0),n("div",{staticClass:"displayBox"},[n("DragPanel",{attrs:{data:e.storyBook},on:{onClickItem:e._clickStoryBook}})],1),n("h1",{staticClass:"title"},[e._v("BabyTube 영상")]),n("div",{staticClass:"displayBox"},[n("DragPanel",{attrs:{data:e.babyTube},on:{onClickItem:e._clickBabyTube}})],1),n("h1",{staticClass:"title"},[e._v(" Alphabet School "),n("span",[e._v("(A만 탑재)")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.mAlphabet,expression:"mAlphabet"}],staticClass:"selectLevel",attrs:{name:"alphabet"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.mAlphabet=t.target.multiple?n:n[0]}}},e._l(e.ABC,(function(t,a){return n("option",{key:a,domProps:{value:t}},[e._v(e._s(t.toUpperCase()))])})),0),n("p",{staticClass:"selectLevel"},[e._v(e._s(e.mAlphabet.toUpperCase())+" 선택")])]),n("div",{staticClass:"displayBox"},[n("DragPanel",{attrs:{data:e.alphabet},on:{onClickItem:e._clickAlphabet}})],1)])])},_p=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",{staticClass:"title"},[e._v(" StoryBooks Activities "),n("span",[e._v("(각 책에 해당하는 액티비티)")])])}],xp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"viewBox",on:{mouseover:e._initXValue}},e._l(this.data,(function(t,a){return n("div",{key:a,ref:"selectBox",refInFor:!0,staticClass:"selectBox",on:{pointerup:function(n){return e._click(a,t)}}},[n("img",{attrs:{src:t.thumb,width:"100%"}}),n("div",{ref:"dimmed",refInFor:!0,staticClass:"dimmed"}),n("p",{ref:"label",refInFor:!0,staticClass:"label"},[e._v(e._s(e._getLabel(t)))])])})),0)},Ip=[];(function(e){e[e["swipe"]=0]="swipe",e[e["click"]=1]="click"})(gp||(gp={}));var Op=function(){function e(){Object(l["a"])(this,e),this.mSwipeCheckDelay_msT=500,this.moveFlag=!1,this.mDragStartInfo={downT:0,x:0,y:0},this.mCb={}}return Object(u["a"])(e,[{key:"init",value:function(){console.warn("GestureMGR init"),this.mCb={},this.mBackUpX=0,this._eventBind()}},{key:"destroy",value:function(){this.mCb={},this._eventUnbind()}},{key:"on",value:function(e,t,n){void 0===this.mCb[t]&&(this.mCb[t]=[]),this.mCb[t].push({target:e,callback:n})}},{key:"once",value:function(e,t,n){console.warn("GestureMGR addEvent",t),void 0===this.mCb[t]&&(this.mCb[t]=[]),this.mCb[t].push({target:e,callback:n}),console.log(this.mCb)}},{key:"_onMouseDown",value:function(e){if(0===e.button&&(this.mDragStartInfo.downT=Date.now(),this.mDragStartInfo.x=e.x,this.mDragStartInfo.y=e.y,this.moveFlag=!0,void 0!==this.mCb["stop"])){var t,n=Object(x["a"])(this.mCb["stop"]);try{for(n.s();!(t=n.n()).done;){var a=t.value,i=e.target;while(i)if(a.target==i){var o=e.x-this.mDragStartInfo.x;a.callback(this.mBackUpX+o),i=null}else i=i.parentElement}}catch(r){n.e(r)}finally{n.f()}}}},{key:"_onMouseMove",value:function(e){if(this.moveFlag){Date.now(),this.mDragStartInfo.downT;if(void 0!==this.mCb["drag"]){var t,n=Object(x["a"])(this.mCb["drag"]);try{for(n.s();!(t=n.n()).done;){var a=t.value,i=e.target;while(i)if(a.target==i){var o=e.x-this.mDragStartInfo.x;a.callback(this.mBackUpX+o),i=null}else i=i.parentElement}}catch(r){n.e(r)}finally{n.f()}}}}},{key:"_onMouseUp",value:function(e){if(this.mUpTime=Date.now()-this.mDragStartInfo.downT,this.mUpTime<this.mSwipeCheckDelay_msT&&void 0!==this.mCb["swipe"]){var t,n=Object(x["a"])(this.mCb["swipe"]);try{for(n.s();!(t=n.n()).done;){var a=t.value,i=e.target;while(i)a.target==i?(a.callback(e.x-this.mDragStartInfo.x),i=null):i=i.parentElement}}catch(o){n.e(o)}finally{n.f()}}this.moveFlag=!1,this.mBackUpX=this.mBackUpX+(e.x-this.mDragStartInfo.x)}},{key:"_eventBind",value:function(){var e=this;this.mMouseDownProc=function(t){e._onMouseDown(t)},this.mMouseMoveProc=function(t){e._onMouseMove(t)},this.mMouseUpProc=function(t){e._onMouseUp(t)},window.addEventListener("mousedown",this.mMouseDownProc),window.addEventListener("mousemove",this.mMouseMoveProc),window.addEventListener("mouseup",this.mMouseUpProc)}},{key:"_eventUnbind",value:function(){window.removeEventListener("mousedown",this.mMouseDownProc),window.removeEventListener("mousemove",this.mMouseMoveProc),window.removeEventListener("mouseup",this.mMouseUpProc)}},{key:"backUpX",get:function(){return this.mBackUpX},set:function(e){this.mBackUpX=e}}],[{key:"Handle",get:function(){return null==e._handle&&(e._handle=new e),e._handle}}]),e}();Op._handle=null;var Pp=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mDimmed=!1,e.mFlag=!0,e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=this;window.onpointerdown=function(t){0==t.button?e.mFlag=!0:e.mFlag=!1},this.mXPos=0;var t=this.$el;this.mBackUpXPos=t.scrollLeft;t.parentElement;window.addEventListener("resize",(function(){e.mXPos=0,Op.Handle.backUpX=0,me["b"].to(t,{left:0,duration:.5})})),Op.Handle.on(t,"drag",(function(n){var a=t.parentElement;t.offsetWidth>a.offsetWidth?n>0?(me["b"].to(t,{left:0,duration:.5}),Op.Handle.backUpX=0):n<-t.offsetWidth+a.offsetWidth-40?(me["b"].to(t,{left:-t.offsetWidth+a.offsetWidth-40,duration:.5}),Op.Handle.backUpX=-t.offsetWidth+a.offsetWidth-40):(e.mXPos=n,me["b"].to(t,{left:e.mXPos,duration:0})):Op.Handle.backUpX=0})),Op.Handle.on(t,"stop",(function(t){Op.Handle.backUpX=e.mXPos,e.mSwipe&&e.mSwipe.kill()})),Op.Handle.on(t,"swipe",(function(n){var a=t.parentElement;t.offsetWidth>a.offsetWidth?e.mXPos+n>0?(me["b"].to(t,{left:0,duration:.5}),e.mXPos=0):e.mXPos+n<-t.offsetWidth+a.offsetWidth-40?(me["b"].to(t,{left:-t.offsetWidth+a.offsetWidth-40,duration:.5}),e.mXPos=-t.offsetWidth+a.offsetWidth-40):(e.mXPos+=n,e.mSwipe=me["b"].to(t,{left:e.mXPos,duration:.5}),Op.Handle.backUpX=e.mXPos):(e.mXPos=0,me["b"].to(t,{left:0,duration:.5}))}))}},{key:"_getTitle",value:function(e){console.log(e)}},{key:"_getLabel",value:function(e){return""===e["label"]?e["category"]:e["label"]}},{key:"_click",value:function(e,t){this.mFlag&&(this.$emit("onClickItem",e,t),me["b"].to(this.$refs.dimmed,{alpha:1,height:"100%",duration:0}),me["b"].to(this.$refs.label,{color:"white",duration:0}),me["b"].to(this.$refs.dimmed[e],{alpha:0,height:0,duration:.2}),me["b"].to(this.$refs.label[e],{color:"black",background:"rgba(255,255,255,0.6)",duration:.2}))}},{key:"_initXValue",value:function(){var e=this.$el,t=e.parentElement;e.offsetWidth<t.offsetWidth&&me["b"].to(e,{left:0,duration:.5})}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({required:!0})],Pp.prototype,"data",void 0),Pp=Object(d["a"])([Object(p["a"])({components:{}})],Pp);var Rp=Pp,jp=Rp,Dp=(n("23c3"),Object(S["a"])(jp,xp,Ip,!1,null,"5c377c99",null)),Tp=Dp.exports,Bp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"report"},[n("button",{staticClass:"close",on:{click:e.showGameList}},[e._v("X")]),e.mLeftButton?n("button",{staticClass:"left",on:{click:e._leftClick}},[n("span")]):e._e(),e.mRightButton?n("button",{staticClass:"right",on:{click:e._rightClick}},[n("span")]):e._e(),n("div",{staticClass:"pageContainer"},[n("div",{ref:"movePage",staticClass:"movePage"},[n("div",{staticClass:"page"},[n("ReportSummary")],1),n("div",{staticClass:"page"},[n("ReportSB")],1),n("div",{staticClass:"page"},[n("ReportAL")],1)])])])},Lp=[],Ap=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.test="",e.testNum=0,e.mLeftButton=!1,e.mRightButton=!0,e.mBackUpX=0,e.mPageList=[{label:"page1",src:"".concat(N.Config.packageURL)},{label:"page2",src:".png"},{label:"page3",src:".png"}],e}return Object(u["a"])(n,[{key:"mounted",value:function(){this.test=this.mPageList[this.testNum].label,console.log("REPORT!!!")}},{key:"showGameList",value:function(){this.$emit("showGameList")}},{key:"_rightClick",value:function(){this.mBackUpX==-window.innerWidth*(this.mPageList.length-2)?(this.mLeftButton=!0,this.mRightButton=!1):(this.mLeftButton=!0,this.mRightButton=!0),this.mBackUpX-=window.innerWidth,me["b"].to(this.$refs.movePage,{x:this.mBackUpX,duration:.5}),console.log("현재X값=>".concat(this.mBackUpX))}},{key:"_leftClick",value:function(){this.mBackUpX==-window.innerWidth?(this.mLeftButton=!1,this.mRightButton=!0):(this.mLeftButton=!0,this.mRightButton=!0),this.mBackUpX+=window.innerWidth,me["b"].to(this.$refs.movePage,{x:this.mBackUpX,duration:.5}),console.log("현재X값=>".concat(this.mBackUpX))}}]),n}(p["c"]);Ap=Object(d["a"])([Object(p["a"])({components:{ReportSummary:cu,ReportSB:Tm,ReportAL:im}})],Ap);var Mp=Ap,Gp=Mp,Ep=(n("d433"),Object(S["a"])(Gp,Bp,Lp,!1,null,"1a910604",null)),Xp=Ep.exports,Hp=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mCategory="",e.mAlphabet="A",e.mAlphabetCategory="",e.mLevel=0,e.mStoryCategory="",e.mBookID=1001,e.mShowGame=!1,e.mShowVideo=!1,e.mShowLevelBox=!0,e.mlevelGuide="",e.mVideoSRC="",e.mDisplayWidth=e.$refs.displayBoxWidth,e.mXPos=0,e.ABC=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],e.levelList=[{guide:"level 1 ",level:1},{guide:"level 2 ",level:2},{guide:"level 3 ",level:3}],e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return""==this.mlevelGuide?this.mShowLevelBox=!0:this.mShowLevelBox=!1,document.body.setAttribute("style","overflow: hidden;"),na["a"].stopAll(),this.mXPos=0,e.next=6,mt.requestItemList({filter:"bookID",bookID:2004});case 6:this.mDisplayWidth=this.$refs.displayBoxWidth,t=this.$refs.babyTubeVideo,this.mDashPlayer=Object(ht["MediaPlayer"])().create(),this.mDashPlayer.initialize(t,null,!0);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getLabel",value:function(e){switch(e){case"BEDTIME STORY":return"BedTime Story";case"PLAYTIME STORY":return"PlayTime Story";case"PLAYTIME SONG":return"PlayTime Song";case"SOLO VERSION SONG":return"Solo Song";case"INSTRUMENTAL VERSION SONG":return"Mew";case"DADDY VERSION STORY":return"Daddy Story";default:}}},{key:"_clickBookCover",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==this.mLevel){e.next=2;break}return e.abrupt("return");case 2:return console.log("_clickBookCover",t,n),"string"==typeof n.category?this.mBookID=parseInt(n.category):this.mBookID=n.category,console.log("LABEL: [".concat(n.label,"] , 책번호 : [").concat(this.mBookID,"]")),e.next=7,mt.requestItemList({filter:"bookID",bookID:this.mBookID});case 7:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"_clickBabyTube",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==this.mLevel){e.next=2;break}return e.abrupt("return");case 2:if(0!==this.mBookID){e.next=6;break}return alert("책표지를 선택해 주세요 !"),window.scrollTo(0,0),e.abrupt("return");case 6:console.log("_clickBookCover",t,n,this.mBookID),this.mVideoSRC=n.movieURL,console.log("%c video","background:yellow;font-weight:bold;"," : [".concat(this.mVideoSRC,"]")),console.log("%c book","background: yellow;font-weight:bold;"," : [".concat(this.mBookID,"]")),me["b"].delayedCall(.5,(function(){a.mShowVideo=!0,a.mDashPlayer.attachSource(a.mVideoSRC),a.$refs.babyTubeVideo.currentTime=0,a.$refs.babyTubeVideo.pause()})),document.body.setAttribute("style","overflow:hidden");case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"_clickStoryBook",value:function(e,t){var n=this;0!==this.mLevel&&(this.mCategory="storybooks",this.mStoryCategory=t.category,console.log("책번호: [".concat(this.mBookID,"] , 카테고리: [").concat(this.mStoryCategory,"]")),0==this.mBookID?(alert("책표지를 선택해 주세요 !"),window.scrollTo(0,0),me["b"].to(this.$refs.bookCover,{color:"red",duration:.3}).repeat(3).yoyo(!0)):me["b"].delayedCall(.5,(function(){n._showGame()})))}},{key:"_clickAlphabet",value:function(e,t){var n=this;0!==this.mLevel&&(this.mCategory="alphabet",this.mAlphabetCategory=t.category,console.log("카테고리: [".concat(this.mAlphabetCategory,"]")),me["b"].delayedCall(.5,(function(){n._showGame()})))}},{key:"_clickLevel",value:function(e){this.mLevel=e.level,console.log("레벨은 ".concat(this.mLevel,"을 선택했습니다.")),this.mlevelGuide="".concat(e.guide,"을 선택했습니다."),this.mShowLevelBox=!this.mShowLevelBox,1==this.mShowLevelBox?document.body.setAttribute("style","overflow: hidden;"):document.body.setAttribute("style","overflow: auto;")}},{key:"_selectLevel",value:function(){0==this.mShowLevelBox&&0==this.mLevel&&(this.mShowLevelBox=!0)}},{key:"_showGame",value:function(){this.mShowGame=!0,document.body.setAttribute("style","overflow:hidden")}},{key:"_hideGame",value:function(){me["b"].globalTimeline.clear(),na["a"].stopAll(),this.mShowGame&&(this.mShowGame=!1,void 0!==aa.Handle.forceExit()&&aa.Handle.forceExit()),this.mShowVideo&&(this.mShowVideo=!1,this.$refs.babyTubeVideo.currentTime=0,this.$refs.babyTubeVideo.pause()),document.body.setAttribute("style","overflow:normal")}},{key:"_selectAlphabet",value:function(e){return this.mAlphabet=e.toUpperCase(),console.error(this.mAlphabet),this.mAlphabet}},{key:"showReport",value:function(){0!==this.mLevel&&(console.log("REPORT"),this.$emit("showReport"))}},{key:"bookCover",get:function(){var e,t=[],n=Object(x["a"])(N.Config.bookList.step1);try{for(n.s();!(e=n.n()).done;){var a=e.value;t.push({category:""+a,thumb:"".concat(N.Config.packageURL,"/bookcover/").concat(a,"_cover.png"),label:""})}}catch(s){n.e(s)}finally{n.f()}var i,o=Object(x["a"])(N.Config.bookList.step2);try{for(o.s();!(i=o.n()).done;){var r=i.value;t.push({category:""+r,thumb:"".concat(N.Config.packageURL,"/bookcover/").concat(r,"_cover.png"),label:""})}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"storyBook",get:function(){for(var e=[],t=0;t<N.Config.storyBookList.category.length;t++){var n=N.Config.storyBookList.category[t],a=N.Config.storyBookList.label[t];e.push({category:""+n,thumb:"".concat(N.Config.packageURL,"/cover/story_").concat(n.toLowerCase(),".png"),label:""+a})}return e}},{key:"alphabet",get:function(){for(var e=[],t=0;t<N.Config.alphabetList.category.length;t++){var n=N.Config.alphabetList.category[t],a=N.Config.alphabetList.label[t];e.push({category:""+n,thumb:"".concat(N.Config.packageURL,"/cover/title_").concat(n.toLowerCase(),".png"),label:""+a})}return e}},{key:"babyTube",get:function(){var e,t=[],n=Object(x["a"])(mt.tubeItemList);try{for(n.s();!(e=n.n()).done;){var a=e.value;t.push({category:"",thumb:"".concat(N.Config.packageURL,"/bookcover/").concat(a.bookID,"_cover.png"),label:this.getLabel(a.category),movieURL:a.movie,bookID:a.bookID})}}catch(i){n.e(i)}finally{n.f()}return t}}]),n}(p["c"]);Hp=Object(d["a"])([Object(p["a"])({components:{ActivityPlayer:ms,DragPanel:Tp,BabyTubePlayer:Kn,Report:Xp}})],Hp);var zp=Hp,Fp=zp,Vp=(n("36b11"),Object(S["a"])(Fp,wp,_p,!1,null,"050e66d9",null)),Wp=Vp.exports,Qp=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mThema="GameList",e.mGameList=!0,e.mReport=!e.mGameList,e}return Object(u["a"])(n,[{key:"mounted",value:function(){}},{key:"_calcScreen",value:function(e){e.style.width="100%;"}},{key:"_changeThema",value:function(){"GameList"==this.mThema?(this.mThema="Report",this.mGameList=!1,this.mReport=!0):(this.mThema="GameList",this.mGameList=!0,this.mReport=!1)}}]),n}(p["c"]);Qp=Object(d["a"])([Object(p["a"])({components:{GameList:Wp,Report:Xp}})],Qp);var Np=Qp,$p=Np,qp=(n("41a7"),Object(S["a"])($p,kp,Sp,!1,null,"681cce77",null)),Up=qp.exports,Yp="Wed Jan 27 2021 10:57:12 GMT+0900 (대한민국 표준시)";function Kp(){window["aramversion"]="[LSW] "+Yp}var Jp=n("7212"),Zp=n.n(Jp),ef=(n("05ca"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"ActivitySalesKit",staticClass:"ActivitySalesKit"},[n("GameList",{directives:[{name:"show",rawName:"v-show",value:e.mGameList,expression:"mGameList"}],on:{showReport:e._changeThema}}),n("Report",{directives:[{name:"show",rawName:"v-show",value:e.mReport,expression:"mReport"}],on:{showGameList:e._changeThema}})],1)}),tf=[],nf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ActivityTestModal"},[e.mShowGame?n("div",{staticClass:"player"},[n("div",[n("ActivityPlayer",{attrs:{category:e.mCategory,alphabet:e.mAlphabet,level:e.mLevel,bookID:e.mBookID,isMobileMode:!1,activityAL:e.mAlphabetCategory,activitySB:e.mStoryCategory,isSaleKit:!0}}),n("button",{staticClass:"close",on:{click:e._hideGame}})],1)]):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:e.mShowVideo,expression:"mShowVideo"}],staticClass:"player"},[n("div",[n("button",{staticClass:"close",on:{click:e._hideGame}},[e._v("X")]),n("video",{ref:"babyTubeVideo",staticStyle:{width:"100%"}})])]),n("div",{staticClass:"wrapBG"},[e.mShowLevelBox?n("div",{staticClass:"dimmed"},[n("div",{ref:"levelBox",staticClass:"levelBox",attrs:{id:"levelBox"}},[e._m(0),n("div",{staticClass:"selectBox"},e._l(e.levelList,(function(t,a){return n("div",{key:a,staticClass:"valueLevel",attrs:{value:t.level},on:{click:function(n){return e._clickLevel(t)}}},[n("img",{attrs:{src:"salesKit/level"+(a+1)+".png",alt:""}})])})),0)])]):e._e(),n("h1",{ref:"bookCover",staticClass:"title"},[n("img",{attrs:{src:"salesKit/book.png",alt:""}})]),n("div",{ref:"book",staticClass:"displayBox",attrs:{id:"book"}},[n("BookPanel",{attrs:{data:e.bookCover},on:{onClickItem:e._clickBookCover}}),n("img",{attrs:{src:"saleskit/line.png",alt:""}})],1),e._m(1),n("div",{staticClass:"displayBox",attrs:{id:"babytube"}},[n("BabytubePanel",{attrs:{data:e.babyTube},on:{onClickItem:e._clickBabyTube}})],1),e._m(2),n("div",{staticClass:"displayBox"},[n("StoryPanel",{attrs:{data:e.storyBook},on:{onClickItem:e._clickStoryBook}})],1),e._m(3),n("div",{staticClass:"displayBox"},[n("AlphabetPanel",{attrs:{data:e.alphabet},on:{onClickItem:e._clickAlphabet}})],1)]),n("div",{staticClass:"buttonBox"},[n("div",{ref:"levelButton",staticClass:"levelButton",domProps:{innerHTML:e._s(this.mlevelGuide)},on:{click:e._selectLevel}}),n("div",{staticClass:"reportButton",on:{click:e.showReport}},[n("img",{attrs:{src:"salesKit/report.png",alt:""}})])])])},af=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("img",{attrs:{src:"salesKit/level_title.png",alt:""}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",{staticClass:"title"},[n("img",{attrs:{src:"salesKit/title01.png",alt:""}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",{staticClass:"title"},[n("img",{attrs:{src:"salesKit/title02.png",alt:""}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",{staticClass:"title"},[n("img",{attrs:{src:"salesKit/title03.png",alt:""}})])}],of=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"viewBox",staticClass:"viewBox"},e._l(this.data,(function(t,a){return n("div",{key:a,ref:"selectBox",refInFor:!0,staticClass:"selectBox",on:{pointerdown:function(n){return e._click(a,t)}}},[n("img",{attrs:{src:t.thumb,width:"100%"}})])})),0)},rf=[],sf=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mSelectedBookIndex=0,e.mDimmed=!1,e.flag=!1,e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=this;window.addEventListener("keydown",(function(t){37==t.keyCode&&(0==e.mSelectedBookIndex?e.mSelectedBookIndex=2:e.mSelectedBookIndex-=1),39==t.keyCode&&(2==e.mSelectedBookIndex?e.mSelectedBookIndex=0:e.mSelectedBookIndex+=1);var n=e.$refs.selectBox;me["b"].to(n,{width:innerWidth/5,alpha:.4,duration:.5}),me["b"].to(n[e.mSelectedBookIndex],{width:innerWidth/4,alpha:1,duration:.5})})),me["b"].delayedCall(1,(function(){e.flag=!0}));var t=this.$refs.selectBox;me["b"].to(t,{width:innerWidth/5,alpha:.4,duration:.5}),me["b"].to(t[this.mSelectedBookIndex],{width:innerWidth/4,alpha:1,duration:.5}),window.addEventListener("resize",(function(){me["b"].to(t,{width:innerWidth/5,alpha:.4,duration:.5}),me["b"].to(t[e.mSelectedBookIndex],{width:innerWidth/4,alpha:1,duration:.5})}))}},{key:"_click",value:function(e,t){if(this.flag){this.mSelectedBookIndex=e,this.$emit("onClickItem",t);var n=this.$refs.selectBox;me["b"].to(n,{width:innerWidth/5,alpha:.4,duration:.5}),me["b"].to(n[this.mSelectedBookIndex],{width:innerWidth/4,alpha:1,duration:.5}),this.flag=!0}}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:function(){return[]}})],sf.prototype,"data",void 0),sf=Object(d["a"])([Object(p["a"])({components:{}})],sf);var cf=sf,lf=cf,uf=(n("c569"),Object(S["a"])(lf,of,rf,!1,null,"526640b6",null)),mf=uf.exports,hf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"viewBox"},e._l(this.data,(function(t,a){return n("div",{key:a,ref:"selectBox",refInFor:!0,staticClass:"selectBox",on:{click:function(n){return e._click(t)}}},[n("img",{attrs:{src:"salesKit/tube0"+(a+1)+".png",width:"100%"}})])})),0)},df=[],pf=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mDimmed=!1,e.flag=!1,e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=this;me["b"].delayedCall(1,(function(){e.flag=!0})),this.mXPos=0;var t=this.$el;this.mBackUpXPos=t.scrollLeft;t.parentElement;window.addEventListener("resize",(function(){e.mXPos=0,Op.Handle.backUpX=0,me["b"].to(t,{left:0,duration:.5})})),Op.Handle.on(t,"drag",(function(n){var a=t.parentElement;t.offsetWidth>a.offsetWidth?n>0?(me["b"].to(t,{left:0,duration:.5}),Op.Handle.backUpX=0):n<-t.offsetWidth+a.offsetWidth-40?(me["b"].to(t,{left:-t.offsetWidth+a.offsetWidth-40,duration:.5}),Op.Handle.backUpX=-t.offsetWidth+a.offsetWidth-40):(e.mXPos=n,me["b"].to(t,{left:e.mXPos,duration:0})):Op.Handle.backUpX=0})),Op.Handle.on(t,"stop",(function(t){Op.Handle.backUpX=e.mXPos,e.mSwipe&&e.mSwipe.kill()})),Op.Handle.on(t,"swipe",(function(n){var a=t.parentElement;t.offsetWidth>a.offsetWidth?e.mXPos+n>0?(me["b"].to(t,{left:0,duration:.5}),e.mXPos=0):e.mXPos+n<-t.offsetWidth+a.offsetWidth-40?(me["b"].to(t,{left:-t.offsetWidth+a.offsetWidth-40,duration:.5}),e.mXPos=-t.offsetWidth+a.offsetWidth-40):(e.mXPos+=n,e.mSwipe=me["b"].to(t,{left:e.mXPos,duration:.5}),Op.Handle.backUpX=e.mXPos):(e.mXPos=0,me["b"].to(t,{left:0,duration:.5}))}))}},{key:"_click",value:function(e){this.flag&&(this.$emit("onClickItem",e),this.flag=!0)}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:function(){return[]}})],pf.prototype,"data",void 0),pf=Object(d["a"])([Object(p["a"])({components:{}})],pf);var ff=pf,gf=ff,vf=(n("a0aa"),Object(S["a"])(gf,hf,df,!1,null,"58dffacd",null)),bf=vf.exports,yf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"viewBox"},e._l(this.data,(function(t,a){return n("div",{key:a,ref:"selectBox",refInFor:!0,staticClass:"selectBox",on:{click:function(n){return e._click(t)}}},[n("img",{attrs:{src:"salesKit/al0"+(a+1)+".png",width:"100%"}}),n("span",{staticClass:"arrow"})])})),0)},Cf=[],kf=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mDimmed=!1,e.flag=!1,e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=this;me["b"].delayedCall(1,(function(){e.flag=!0})),this.mXPos=0;var t=this.$el;this.mBackUpXPos=t.scrollLeft;t.parentElement;window.addEventListener("resize",(function(){e.mXPos=0,Op.Handle.backUpX=0,me["b"].to(t,{left:0,duration:.5})})),Op.Handle.on(t,"drag",(function(n){var a=t.parentElement;t.offsetWidth>a.offsetWidth?n>0?(me["b"].to(t,{left:0,duration:.5}),Op.Handle.backUpX=0):n<-t.offsetWidth+a.offsetWidth-40?(me["b"].to(t,{left:-t.offsetWidth+a.offsetWidth-40,duration:.5}),Op.Handle.backUpX=-t.offsetWidth+a.offsetWidth-40):(e.mXPos=n,me["b"].to(t,{left:e.mXPos,duration:0})):Op.Handle.backUpX=0})),Op.Handle.on(t,"stop",(function(t){Op.Handle.backUpX=e.mXPos,e.mSwipe&&e.mSwipe.kill()})),Op.Handle.on(t,"swipe",(function(n){var a=t.parentElement;t.offsetWidth>a.offsetWidth?e.mXPos+n>0?(me["b"].to(t,{left:0,duration:.5}),e.mXPos=0):e.mXPos+n<-t.offsetWidth+a.offsetWidth-40?(me["b"].to(t,{left:-t.offsetWidth+a.offsetWidth-40,duration:.5}),e.mXPos=-t.offsetWidth+a.offsetWidth-40):(e.mXPos+=n,e.mSwipe=me["b"].to(t,{left:e.mXPos,duration:.5}),Op.Handle.backUpX=e.mXPos):(e.mXPos=0,me["b"].to(t,{left:0,duration:.5}))}))}},{key:"_getTitle",value:function(e){console.log(e)}},{key:"_getLabel",value:function(e){return""===e["label"]?e["category"]:e["label"]}},{key:"_click",value:function(e){this.flag&&this.$emit("onClickItem",e)}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:function(){return[]}})],kf.prototype,"data",void 0),kf=Object(d["a"])([Object(p["a"])({components:{}})],kf);var Sf=kf,wf=Sf,_f=(n("0708"),Object(S["a"])(wf,yf,Cf,!1,null,"09cee38b",null)),xf=_f.exports,If=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"viewBox"},e._l(this.data,(function(t,a){return n("div",{key:a,ref:"selectBox",refInFor:!0,staticClass:"selectBox",on:{click:function(n){return e._click(t)}}},[n("img",{attrs:{src:"salesKit/menu0"+(a+1)+".png",width:"100%"}}),n("span",{staticClass:"arrow"})])})),0)},Of=[],Pf=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mDimmed=!1,e.flag=!1,e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=this;me["b"].delayedCall(1,(function(){e.flag=!0})),this.mXPos=0;var t=this.$el;this.mBackUpXPos=t.scrollLeft;t.parentElement;window.addEventListener("resize",(function(){e.mXPos=0,Op.Handle.backUpX=0,me["b"].to(t,{left:0,duration:.5})})),Op.Handle.on(t,"drag",(function(n){var a=t.parentElement;t.offsetWidth>a.offsetWidth?n>0?(me["b"].to(t,{left:0,duration:.5}),Op.Handle.backUpX=0):n<-t.offsetWidth+a.offsetWidth-40?(me["b"].to(t,{left:-t.offsetWidth+a.offsetWidth-40,duration:.5}),Op.Handle.backUpX=-t.offsetWidth+a.offsetWidth-40):(e.mXPos=n,me["b"].to(t,{left:e.mXPos,duration:0})):Op.Handle.backUpX=0})),Op.Handle.on(t,"stop",(function(t){Op.Handle.backUpX=e.mXPos,e.mSwipe&&e.mSwipe.kill()})),Op.Handle.on(t,"swipe",(function(n){var a=t.parentElement;t.offsetWidth>a.offsetWidth?e.mXPos+n>0?(me["b"].to(t,{left:0,duration:.5}),e.mXPos=0):e.mXPos+n<-t.offsetWidth+a.offsetWidth-40?(me["b"].to(t,{left:-t.offsetWidth+a.offsetWidth-40,duration:.5}),e.mXPos=-t.offsetWidth+a.offsetWidth-40):(e.mXPos+=n,e.mSwipe=me["b"].to(t,{left:e.mXPos,duration:.5}),Op.Handle.backUpX=e.mXPos):(e.mXPos=0,me["b"].to(t,{left:0,duration:.5}))}))}},{key:"_getTitle",value:function(e){console.log(e)}},{key:"_getLabel",value:function(e){return""===e["label"]?e["category"]:e["label"]}},{key:"_click",value:function(e){this.flag&&(this.$emit("onClickItem",e),this.flag=!0)}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({required:!0})],Pf.prototype,"data",void 0),Pf=Object(d["a"])([Object(p["a"])({components:{}})],Pf);var Rf=Pf,jf=Rf,Df=(n("9d44"),Object(S["a"])(jf,If,Of,!1,null,"a6450f8a",null)),Tf=Df.exports,Bf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"report"},[n("div",{staticClass:"pageContainer"},[n("div",{ref:"movePage",staticClass:"movePage"},[n("div",{staticClass:"page",on:{click:function(t){return e.pageMove(1)}}},[n("img",{attrs:{src:"salesKit/report01.png",alt:""}})]),n("div",{staticClass:"page",on:{click:function(t){return e.pageMove(2)}}},[n("img",{attrs:{src:"salesKit/report02.png",alt:""}})]),n("div",{staticClass:"page",on:{click:function(t){return e.pageMove(0)}}},[n("img",{attrs:{src:"salesKit/report03.png",alt:""}})])]),n("button",{staticClass:"close",on:{click:e.showGameList}}),n("div",{staticClass:"navigation"},e._l(e.pagination,(function(t,a){return n("span",{key:a,ref:"pagination",refInFor:!0,on:{click:function(t){return e.pageMove(a)}}})})),0)])])},Lf=[],Af=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mBackUpX=0,e.pagination=[0,1,2],e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=this;console.log("REPORT!!!"),me["b"].to(this.$refs.pagination[0],{width:100,duration:.5}),window.addEventListener("resize",(function(){me["b"].to(e.$refs.movePage,{marginLeft:0,duration:.5}),me["b"].to(e.$refs.pagination[0],{width:100,duration:.5})}))}},{key:"showGameList",value:function(){this.$emit("showGameList"),me["b"].to(this.$refs.movePage,{marginLeft:0,duration:.5}),me["b"].to(this.$refs.pagination,{width:20,duration:.5}),me["b"].to(this.$refs.pagination[0],{width:100,duration:.5})}},{key:"pageMove",value:function(e){me["b"].to(this.$refs.pagination,{width:20,duration:.5}),me["b"].to(this.$refs.pagination[e],{width:100,duration:.5}),console.log(e),0==e&&me["b"].to(this.$refs.movePage,{marginLeft:0,duration:.5}),1==e&&me["b"].to(this.$refs.movePage,{marginLeft:-window.innerWidth,duration:.5}),2==e&&me["b"].to(this.$refs.movePage,{marginLeft:2*-window.innerWidth,duration:.5})}}]),n}(p["c"]);Af=Object(d["a"])([Object(p["a"])({components:{}})],Af);var Mf=Af,Gf=Mf,Ef=(n("95fb"),Object(S["a"])(Gf,Bf,Lf,!1,null,"283028af",null)),Xf=Ef.exports,Hf=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mCategory="",e.mAlphabet="A",e.mAlphabetCategory="",e.mLevel=0,e.mStoryCategory="",e.mBookID=1001,e.mShowGame=!1,e.mShowVideo=!1,e.mShowLevelBox=!0,e.mlevelGuide="",e.mVideoSRC="",e.mXPos=0,e.ABC=["a","b","c","d","e","f","g","h","i","j","k","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],e.levelList=[{guide:"Level 1 ",subGuide:"0~24개월 권장",level:1},{guide:"Level 2 ",subGuide:"24~48개월 권장",level:2},{guide:"Level 3 ",subGuide:"48개월 이상 권장",level:3}],e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return me["b"].to(this.$refs.book,{height:.22*innerWidth,duration:.5}),window.addEventListener("resize",(function(){me["b"].to(n.$refs.book,{height:.22*innerWidth,duration:.5})})),na["a"].stopAll(),this.mXPos=0,e.next=6,mt.requestItemList({filter:"bookID",bookID:1001});case 6:t=this.$refs.babyTubeVideo,this.mDashPlayer=Object(ht["MediaPlayer"])().create(),this.mDashPlayer.initialize(t,null,!0);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getLabel",value:function(e){switch(e){case"BEDTIME STORY":return"BedTime Story";case"PLAYTIME STORY":return"PlayTime Story";case"PLAYTIME SONG":return"PlayTime Song";case"SOLO VERSION SONG":return"Solo Song";case"INSTRUMENTAL VERSION SONG":return"Mew";case"DADDY VERSION STORY":return"Daddy Story";default:}}},{key:"_clickBookCover",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==this.mLevel){e.next=2;break}return e.abrupt("return");case 2:return"string"==typeof t.category?this.mBookID=parseInt(t.category):this.mBookID=t.category,console.log("LABEL: [".concat(t.label,"] , 책번호 : [").concat(this.mBookID,"]")),e.next=6,mt.requestItemList({filter:"bookID",bookID:this.mBookID});case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_clickBabyTube",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==this.mLevel){e.next=2;break}return e.abrupt("return");case 2:if(0!==this.mBookID){e.next=7;break}return alert("책표지를 선택해 주세요 !"),window.scrollTo(0,0),me["b"].to(this.$refs.bookCover,{color:"red",duration:.3}).repeat(1).yoyo(!0),e.abrupt("return");case 7:console.log("_clickBookCover",t,this.mBookID),this.mVideoSRC=t.movieURL,console.log("%c video","background:yellow;font-weight:bold;"," : [".concat(this.mVideoSRC,"]")),console.log("%c book","background: yellow;font-weight:bold;"," : [".concat(this.mBookID,"]")),me["b"].delayedCall(.5,(function(){n.mShowVideo=!0,n.mDashPlayer.attachSource(n.mVideoSRC),n.$refs.babyTubeVideo.currentTime=0,n.$refs.babyTubeVideo.pause()})),document.body.setAttribute("style","overflow:hidden");case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_clickStoryBook",value:function(e){0!==this.mLevel&&(this.mCategory="storybooks",console.log(e),this.mStoryCategory=e.category,console.log("책번호: [".concat(this.mBookID,"] , 카테고리: [").concat(this.mStoryCategory,"]")),0==this.mBookID?(alert("책표지를 선택해 주세요 !"),window.scrollTo(0,0),me["b"].to(this.$refs.bookCover,{color:"red",duration:.3}).repeat(3).yoyo(!0)):this._showGame())}},{key:"_clickAlphabet",value:function(e){0!==this.mLevel&&(this.mCategory="alphabet",this.mAlphabetCategory=e.category,this._showGame())}},{key:"_clickLevel",value:function(e){var t=this;this.mLevel=e.level,this.mlevelGuide="".concat(e.guide),me["b"].delayedCall(.3,(function(){t.mShowLevelBox=!1;var e=t.$refs.levelButton;me["b"].from(e,{marginTop:-30,duration:.5,ease:"bounce"})}))}},{key:"_selectLevel",value:function(){0==this.mShowLevelBox&&(this.mShowLevelBox=!0)}},{key:"_showGame",value:function(){this.mShowGame=!0,document.body.setAttribute("style","overflow:hidden")}},{key:"_hideGame",value:function(){me["b"].globalTimeline.clear(),na["a"].stopAll(),this.mShowGame&&(me["b"].globalTimeline.clear(),na["a"].stopAll(),aa.Handle.forceExit(),this.mShowGame=!1),this.mShowVideo&&(this.$refs.babyTubeVideo.currentTime=0,this.$refs.babyTubeVideo.pause(),this.mShowVideo=!1),document.body.setAttribute("style","overflow:normal")}},{key:"_selectAlphabet",value:function(e){return this.mAlphabet=e.toUpperCase(),console.error(this.mAlphabet),this.mAlphabet}},{key:"showReport",value:function(){0!==this.mLevel&&(console.log("REPORT"),this.$emit("showReport"))}},{key:"bookCover",get:function(){for(var e=[],t=[1001,1019,2004],n=0;n<t.length;n++)e.push({category:""+t[n],thumb:"".concat(N.Config.packageURL,"/bookcover/").concat(t[n],"_cover.png"),label:""});return e}},{key:"storyBook",get:function(){for(var e=[],t=0;t<N.Config.storyBookList.category.length;t++){var n=N.Config.storyBookList.category[t];N.Config.storyBookList.label[t];e.push({category:""+n})}return e}},{key:"alphabet",get:function(){for(var e=[],t=0;t<N.Config.alphabetList.category.length;t++){var n=N.Config.alphabetList.category[t],a=N.Config.alphabetList.label[t];e.push({category:""+n,thumb:"".concat(N.Config.packageURL,"/cover/title_").concat(n.toLowerCase(),".png"),label:""+a})}return e}},{key:"babyTube",get:function(){var e,t=[],n=Object(x["a"])(mt.tubeItemList);try{for(n.s();!(e=n.n()).done;){var a=e.value;t.push({category:"",label:this.getLabel(a.category),movieURL:a.movie,bookID:a.bookID})}}catch(i){n.e(i)}finally{n.f()}return t}}]),n}(p["c"]);Hf=Object(d["a"])([Object(p["a"])({components:{ActivityPlayer:ms,BookPanel:mf,BabytubePanel:bf,AlphabetPanel:xf,StoryPanel:Tf,BabyTubePlayer:Kn,Report:Xf}})],Hf);var zf=Hf,Ff=zf,Vf=(n("63cd"),Object(S["a"])(Ff,nf,af,!1,null,"6dc3f871",null)),Wf=Vf.exports,Qf=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.mThema="GameList",e.mGameList=!0,e.mReport=!e.mGameList,e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=this;window.addEventListener("resize",(function(){e._calcScreen(e.$refs.ActivitySalesKit)}))}},{key:"_calcScreen",value:function(e){e.style.width="100%;"}},{key:"_changeThema",value:function(){"GameList"==this.mThema?(this.mThema="Report",this.mGameList=!1,this.mReport=!0):(this.mThema="GameList",this.mGameList=!0,this.mReport=!1)}}]),n}(p["c"]);Qf=Object(d["a"])([Object(p["a"])({components:{GameList:Wf,Report:Xf}})],Qf);var Nf=Qf,$f=Nf,qf=(n("463c"),Object(S["a"])($f,ef,tf,!1,null,"dfbc51ae",null)),Uf=qf.exports;n("e008"),n("4413");Kp(),o["a"].config.productionTip=!1,o["a"].use(Zp.a),N.Config.devMode,window.oncontextmenu=function(){return!1},"saleskit"==N.Config.excuteMode?(Op.Handle.init(),new o["a"]({store:P,render:function(e){return e(Uf)}}).$mount("#app")):(window["aram"]={play:function(e){N.Config.excuteMode="main",new o["a"]({store:P,render:function(e){return e(Cp)}}).$mount(e)},playDemo:function(e){N.Config.excuteMode="demo",Op.Handle.init(),new o["a"]({store:P,render:function(e){return e(Up)}}).$mount(e)}},window["onReadyBabyAll"]?window["onReadyBabyAll"]():window["aram"].play("#app"));var Yf="";Yf=1==L.devMode?"개발용":"상용",window["aramversion"]+=[Yf]},ce17:function(e,t,n){"use strict";n("e281")},cebe:function(e,t,n){},d06e:function(e,t,n){},d2ff:function(e,t,n){},d433:function(e,t,n){"use strict";n("21fc")},d657:function(e,t,n){},d73e:function(e,t,n){"use strict";n("094e")},d7dd:function(e,t,n){"use strict";n("60fd")},d8c8:function(e,t,n){"use strict";n("43e5")},dd7c:function(e,t,n){},dfdf:function(e,t,n){"use strict";n("b0b3")},e008:function(e,t,n){},e157:function(e,t,n){},e281:function(e,t,n){},e2e0:function(e,t,n){},e3db6:function(e,t,n){},e402:function(e,t,n){"use strict";n("b975")},e431:function(e,t,n){},e49d:function(e,t,n){"use strict";n("ea10")},e525:function(e,t,n){"use strict";n("0ab8")},ea10:function(e,t,n){},eacc:function(e,t,n){"use strict";n("098b")},eded:function(e,t,n){},ee3e:function(e,t,n){},f153:function(e,t,n){},f331:function(e,t,n){"use strict";n("4d6c")},f6b0:function(e,t,n){"use strict";n("4f17")},f7ab:function(e,t,n){},fd1e:function(e,t,n){},fe42:function(e,t,n){},ff4b:function(e,t,n){"use strict";n("0131")}});